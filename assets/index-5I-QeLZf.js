function VT(n,e){for(var t=0;t<e.length;t++){const o=e[t];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in n)){const u=Object.getOwnPropertyDescriptor(o,a);u&&Object.defineProperty(n,a,u.get?u:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=t(a);fetch(a.href,u)}})();function Oy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wf={exports:{}},Cu={},Hf={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function FT(){if(X_)return rt;X_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.iterator;function S(K){return K===null||typeof K!="object"?null:(K=C&&K[C]||K["@@iterator"],typeof K=="function"?K:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,b={};function N(K,ce,we){this.props=K,this.context=ce,this.refs=b,this.updater=we||A}N.prototype.isReactComponent={},N.prototype.setState=function(K,ce){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ce,"setState")},N.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function B(){}B.prototype=N.prototype;function Z(K,ce,we){this.props=K,this.context=ce,this.refs=b,this.updater=we||A}var Y=Z.prototype=new B;Y.constructor=Z,M(Y,N.prototype),Y.isPureReactComponent=!0;var q=Array.isArray,ee=Object.prototype.hasOwnProperty,ae={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function D(K,ce,we){var Pe,Te={},Ee=null,je=null;if(ce!=null)for(Pe in ce.ref!==void 0&&(je=ce.ref),ce.key!==void 0&&(Ee=""+ce.key),ce)ee.call(ce,Pe)&&!z.hasOwnProperty(Pe)&&(Te[Pe]=ce[Pe]);var Ze=arguments.length-2;if(Ze===1)Te.children=we;else if(1<Ze){for(var Ye=Array(Ze),yt=0;yt<Ze;yt++)Ye[yt]=arguments[yt+2];Te.children=Ye}if(K&&K.defaultProps)for(Pe in Ze=K.defaultProps,Ze)Te[Pe]===void 0&&(Te[Pe]=Ze[Pe]);return{$$typeof:n,type:K,key:Ee,ref:je,props:Te,_owner:ae.current}}function V(K,ce){return{$$typeof:n,type:K.type,key:ce,ref:K.ref,props:K.props,_owner:K._owner}}function U(K){return typeof K=="object"&&K!==null&&K.$$typeof===n}function W(K){var ce={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(we){return ce[we]})}var H=/\/+/g;function j(K,ce){return typeof K=="object"&&K!==null&&K.key!=null?W(""+K.key):ce.toString(36)}function be(K,ce,we,Pe,Te){var Ee=typeof K;(Ee==="undefined"||Ee==="boolean")&&(K=null);var je=!1;if(K===null)je=!0;else switch(Ee){case"string":case"number":je=!0;break;case"object":switch(K.$$typeof){case n:case e:je=!0}}if(je)return je=K,Te=Te(je),K=Pe===""?"."+j(je,0):Pe,q(Te)?(we="",K!=null&&(we=K.replace(H,"$&/")+"/"),be(Te,ce,we,"",function(yt){return yt})):Te!=null&&(U(Te)&&(Te=V(Te,we+(!Te.key||je&&je.key===Te.key?"":(""+Te.key).replace(H,"$&/")+"/")+K)),ce.push(Te)),1;if(je=0,Pe=Pe===""?".":Pe+":",q(K))for(var Ze=0;Ze<K.length;Ze++){Ee=K[Ze];var Ye=Pe+j(Ee,Ze);je+=be(Ee,ce,we,Ye,Te)}else if(Ye=S(K),typeof Ye=="function")for(K=Ye.call(K),Ze=0;!(Ee=K.next()).done;)Ee=Ee.value,Ye=Pe+j(Ee,Ze++),je+=be(Ee,ce,we,Ye,Te);else if(Ee==="object")throw ce=String(K),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return je}function nt(K,ce,we){if(K==null)return K;var Pe=[],Te=0;return be(K,Pe,"","",function(Ee){return ce.call(we,Ee,Te++)}),Pe}function Re(K){if(K._status===-1){var ce=K._result;ce=ce(),ce.then(function(we){(K._status===0||K._status===-1)&&(K._status=1,K._result=we)},function(we){(K._status===0||K._status===-1)&&(K._status=2,K._result=we)}),K._status===-1&&(K._status=0,K._result=ce)}if(K._status===1)return K._result.default;throw K._result}var Ne={current:null},ne={transition:null},he={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ne,ReactCurrentOwner:ae};function ue(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:nt,forEach:function(K,ce,we){nt(K,function(){ce.apply(this,arguments)},we)},count:function(K){var ce=0;return nt(K,function(){ce++}),ce},toArray:function(K){return nt(K,function(ce){return ce})||[]},only:function(K){if(!U(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},rt.Component=N,rt.Fragment=t,rt.Profiler=a,rt.PureComponent=Z,rt.StrictMode=o,rt.Suspense=g,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,rt.act=ue,rt.cloneElement=function(K,ce,we){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var Pe=M({},K.props),Te=K.key,Ee=K.ref,je=K._owner;if(ce!=null){if(ce.ref!==void 0&&(Ee=ce.ref,je=ae.current),ce.key!==void 0&&(Te=""+ce.key),K.type&&K.type.defaultProps)var Ze=K.type.defaultProps;for(Ye in ce)ee.call(ce,Ye)&&!z.hasOwnProperty(Ye)&&(Pe[Ye]=ce[Ye]===void 0&&Ze!==void 0?Ze[Ye]:ce[Ye])}var Ye=arguments.length-2;if(Ye===1)Pe.children=we;else if(1<Ye){Ze=Array(Ye);for(var yt=0;yt<Ye;yt++)Ze[yt]=arguments[yt+2];Pe.children=Ze}return{$$typeof:n,type:K.type,key:Te,ref:Ee,props:Pe,_owner:je}},rt.createContext=function(K){return K={$$typeof:h,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:u,_context:K},K.Consumer=K},rt.createElement=D,rt.createFactory=function(K){var ce=D.bind(null,K);return ce.type=K,ce},rt.createRef=function(){return{current:null}},rt.forwardRef=function(K){return{$$typeof:m,render:K}},rt.isValidElement=U,rt.lazy=function(K){return{$$typeof:x,_payload:{_status:-1,_result:K},_init:Re}},rt.memo=function(K,ce){return{$$typeof:y,type:K,compare:ce===void 0?null:ce}},rt.startTransition=function(K){var ce=ne.transition;ne.transition={};try{K()}finally{ne.transition=ce}},rt.unstable_act=ue,rt.useCallback=function(K,ce){return Ne.current.useCallback(K,ce)},rt.useContext=function(K){return Ne.current.useContext(K)},rt.useDebugValue=function(){},rt.useDeferredValue=function(K){return Ne.current.useDeferredValue(K)},rt.useEffect=function(K,ce){return Ne.current.useEffect(K,ce)},rt.useId=function(){return Ne.current.useId()},rt.useImperativeHandle=function(K,ce,we){return Ne.current.useImperativeHandle(K,ce,we)},rt.useInsertionEffect=function(K,ce){return Ne.current.useInsertionEffect(K,ce)},rt.useLayoutEffect=function(K,ce){return Ne.current.useLayoutEffect(K,ce)},rt.useMemo=function(K,ce){return Ne.current.useMemo(K,ce)},rt.useReducer=function(K,ce,we){return Ne.current.useReducer(K,ce,we)},rt.useRef=function(K){return Ne.current.useRef(K)},rt.useState=function(K){return Ne.current.useState(K)},rt.useSyncExternalStore=function(K,ce,we){return Ne.current.useSyncExternalStore(K,ce,we)},rt.useTransition=function(){return Ne.current.useTransition()},rt.version="18.3.1",rt}var J_;function im(){return J_||(J_=1,Hf.exports=FT()),Hf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function zT(){if(ev)return Cu;ev=1;var n=im(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,y){var x,C={},S=null,A=null;y!==void 0&&(S=""+y),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(A=g.ref);for(x in g)o.call(g,x)&&!u.hasOwnProperty(x)&&(C[x]=g[x]);if(m&&m.defaultProps)for(x in g=m.defaultProps,g)C[x]===void 0&&(C[x]=g[x]);return{$$typeof:e,type:m,key:S,ref:A,props:C,_owner:a.current}}return Cu.Fragment=t,Cu.jsx=h,Cu.jsxs=h,Cu}var tv;function BT(){return tv||(tv=1,Wf.exports=zT()),Wf.exports}var F=BT(),I=im();const fi=Oy(I),jT=VT({__proto__:null,default:fi},[I]);var lh={},Gf={exports:{}},ur={},Kf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function UT(){return nv||(nv=1,function(n){function e(ne,he){var ue=ne.length;ne.push(he);e:for(;0<ue;){var K=ue-1>>>1,ce=ne[K];if(0<a(ce,he))ne[K]=he,ne[ue]=ce,ue=K;else break e}}function t(ne){return ne.length===0?null:ne[0]}function o(ne){if(ne.length===0)return null;var he=ne[0],ue=ne.pop();if(ue!==he){ne[0]=ue;e:for(var K=0,ce=ne.length,we=ce>>>1;K<we;){var Pe=2*(K+1)-1,Te=ne[Pe],Ee=Pe+1,je=ne[Ee];if(0>a(Te,ue))Ee<ce&&0>a(je,Te)?(ne[K]=je,ne[Ee]=ue,K=Ee):(ne[K]=Te,ne[Pe]=ue,K=Pe);else if(Ee<ce&&0>a(je,ue))ne[K]=je,ne[Ee]=ue,K=Ee;else break e}}return he}function a(ne,he){var ue=ne.sortIndex-he.sortIndex;return ue!==0?ue:ne.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],y=[],x=1,C=null,S=3,A=!1,M=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(ne){for(var he=t(y);he!==null;){if(he.callback===null)o(y);else if(he.startTime<=ne)o(y),he.sortIndex=he.expirationTime,e(g,he);else break;he=t(y)}}function q(ne){if(b=!1,Y(ne),!M)if(t(g)!==null)M=!0,Re(ee);else{var he=t(y);he!==null&&Ne(q,he.startTime-ne)}}function ee(ne,he){M=!1,b&&(b=!1,B(D),D=-1),A=!0;var ue=S;try{for(Y(he),C=t(g);C!==null&&(!(C.expirationTime>he)||ne&&!W());){var K=C.callback;if(typeof K=="function"){C.callback=null,S=C.priorityLevel;var ce=K(C.expirationTime<=he);he=n.unstable_now(),typeof ce=="function"?C.callback=ce:C===t(g)&&o(g),Y(he)}else o(g);C=t(g)}if(C!==null)var we=!0;else{var Pe=t(y);Pe!==null&&Ne(q,Pe.startTime-he),we=!1}return we}finally{C=null,S=ue,A=!1}}var ae=!1,z=null,D=-1,V=5,U=-1;function W(){return!(n.unstable_now()-U<V)}function H(){if(z!==null){var ne=n.unstable_now();U=ne;var he=!0;try{he=z(!0,ne)}finally{he?j():(ae=!1,z=null)}}else ae=!1}var j;if(typeof Z=="function")j=function(){Z(H)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,nt=be.port2;be.port1.onmessage=H,j=function(){nt.postMessage(null)}}else j=function(){N(H,0)};function Re(ne){z=ne,ae||(ae=!0,j())}function Ne(ne,he){D=N(function(){ne(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){M||A||(M=!0,Re(ee))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(ne){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var ue=S;S=he;try{return ne()}finally{S=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,he){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ue=S;S=ne;try{return he()}finally{S=ue}},n.unstable_scheduleCallback=function(ne,he,ue){var K=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?K+ue:K):ue=K,ne){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ue+ce,ne={id:x++,callback:he,priorityLevel:ne,startTime:ue,expirationTime:ce,sortIndex:-1},ue>K?(ne.sortIndex=ue,e(y,ne),t(g)===null&&ne===t(y)&&(b?(B(D),D=-1):b=!0,Ne(q,ue-K))):(ne.sortIndex=ce,e(g,ne),M||A||(M=!0,Re(ee))),ne},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(ne){var he=S;return function(){var ue=S;S=he;try{return ne.apply(this,arguments)}finally{S=ue}}}}(Zf)),Zf}var rv;function $T(){return rv||(rv=1,Kf.exports=UT()),Kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function WT(){if(iv)return ur;iv=1;var n=im(),e=$T();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(a[r]=s,r=0;r<s.length;r++)o.add(s[r])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},C={};function S(r){return g.call(C,r)?!0:g.call(x,r)?!1:y.test(r)?C[r]=!0:(x[r]=!0,!1)}function A(r,s,c,p){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,s,c,p){if(s===null||typeof s>"u"||A(r,s,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,c,p,v,E,R){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=r,this.type=s,this.sanitizeURL=E,this.removeEmptyString=R}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function Z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(B,Z);N[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(B,Z);N[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(B,Z);N[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,s,c,p){var v=N.hasOwnProperty(s)?N[s]:null;(v!==null?v.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M(s,c,v,p)&&(c=null),p||v===null?S(s)&&(c===null?r.removeAttribute(s):r.setAttribute(s,""+c)):v.mustUseProperty?r[v.propertyName]=c===null?v.type===3?!1:"":c:(s=v.attributeName,p=v.attributeNamespace,c===null?r.removeAttribute(s):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,p?r.setAttributeNS(p,s,c):r.setAttribute(s,c))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),ae=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),W=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ne=Symbol.iterator;function he(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var ue=Object.assign,K;function ce(r){if(K===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);K=s&&s[1]||""}return`
`+K+r}var we=!1;function Pe(r,s){if(!r||we)return"";we=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(se){var p=se}Reflect.construct(r,[],s)}else{try{s.call()}catch(se){p=se}r.call(s.prototype)}else{try{throw Error()}catch(se){p=se}r()}}catch(se){if(se&&p&&typeof se.stack=="string"){for(var v=se.stack.split(`
`),E=p.stack.split(`
`),R=v.length-1,$=E.length-1;1<=R&&0<=$&&v[R]!==E[$];)$--;for(;1<=R&&0<=$;R--,$--)if(v[R]!==E[$]){if(R!==1||$!==1)do if(R--,$--,0>$||v[R]!==E[$]){var Q=`
`+v[R].replace(" at new "," at ");return r.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",r.displayName)),Q}while(1<=R&&0<=$);break}}}finally{we=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?ce(r):""}function Te(r){switch(r.tag){case 5:return ce(r.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function Ee(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case z:return"Fragment";case ae:return"Portal";case V:return"Profiler";case D:return"StrictMode";case j:return"Suspense";case be:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case W:return(r.displayName||"Context")+".Consumer";case U:return(r._context.displayName||"Context")+".Provider";case H:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case nt:return s=r.displayName||null,s!==null?s:Ee(r.type)||"Memo";case Re:s=r._payload,r=r._init;try{return Ee(r(s))}catch{}}return null}function je(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(s);case 8:return s===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ye(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yt(r){var s=Ye(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),p=""+r[s];if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,E=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return v.call(this)},set:function(R){p=""+R,E.call(this,R)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Tn(r){r._valueTracker||(r._valueTracker=yt(r))}function Vn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return r&&(p=Ye(r)?r.checked?"true":"false":r.value),r=p,r!==c?(s.setValue(r),!0):!1}function an(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Rr(r,s){var c=s.checked;return ue({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function Zr(r,s){var c=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;c=Ze(s.value!=null?s.value:c),r._wrapperState={initialChecked:p,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function _i(r,s){s=s.checked,s!=null&&Y(r,"checked",s,!1)}function qr(r,s){_i(r,s);var c=Ze(s.value),p=s.type;if(c!=null)p==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?dr(r,s.type,c):s.hasOwnProperty("defaultValue")&&dr(r,s.type,Ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Qr(r,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,c||s===r.value||(r.value=s),r.defaultValue=s}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function dr(r,s,c){(s!=="number"||an(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var Ar=Array.isArray;function fr(r,s,c,p){if(r=r.options,s){s={};for(var v=0;v<c.length;v++)s["$"+c[v]]=!0;for(c=0;c<r.length;c++)v=s.hasOwnProperty("$"+r[c].value),r[c].selected!==v&&(r[c].selected=v),v&&p&&(r[c].defaultSelected=!0)}else{for(c=""+Ze(c),s=null,v=0;v<r.length;v++){if(r[v].value===c){r[v].selected=!0,p&&(r[v].defaultSelected=!0);return}s!==null||r[v].disabled||(s=r[v])}s!==null&&(s.selected=!0)}}function Vo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Gi(r,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(t(92));if(Ar(c)){if(1<c.length)throw Error(t(93));c=c[0]}s=c}s==null&&(s=""),c=s}r._wrapperState={initialValue:Ze(c)}}function Fo(r,s){var c=Ze(s.value),p=Ze(s.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),s.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),p!=null&&(r.defaultValue=""+p)}function Xs(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Lt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Lt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var br,Js=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,p,v){MSApp.execUnsafeLocalFunction(function(){return r(s,c,p,v)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(br=br||document.createElement("div"),br.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=br.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Yr(r,s){if(s){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=s;return}}r.textContent=s}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ki=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(r){Ki.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),vi[s]=vi[r]})});function zo(r,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||vi.hasOwnProperty(r)&&vi[r]?(""+s).trim():s+"px"}function Zi(r,s){r=r.style;for(var c in s)if(s.hasOwnProperty(c)){var p=c.indexOf("--")===0,v=zo(c,s[c],p);c==="float"&&(c="cssFloat"),p?r.setProperty(c,v):r[c]=v}}var Bo=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ea(r,s){if(s){if(Bo[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Xr(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function jo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Qi=null,Fn=null,pr=null;function Uo(r){if(r=vo(r)){if(typeof Qi!="function")throw Error(t(280));var s=r.stateNode;s&&(s=tl(s),Qi(r.stateNode,r.type,s))}}function kr(r){Fn?pr?pr.push(r):pr=[r]:Fn=r}function ta(){if(Fn){var r=Fn,s=pr;if(pr=Fn=null,Uo(r),s)for(r=0;r<s.length;r++)Uo(s[r])}}function Yi(r,s){return r(s)}function na(){}var Jr=!1;function Xi(r,s,c){if(Jr)return r(s,c);Jr=!0;try{return Yi(r,s,c)}finally{Jr=!1,(Fn!==null||pr!==null)&&(na(),ta())}}function Mt(r,s){var c=r.stateNode;if(c===null)return null;var p=tl(c);if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(t(231,s,typeof c));return c}var $o=!1;if(m)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){$o=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{$o=!1}function Ji(r,s,c,p,v,E,R,$,Q){var se=Array.prototype.slice.call(arguments,3);try{s.apply(c,se)}catch(me){this.onError(me)}}var ln=!1,ke=null,Gn=!1,Wo=null,Va={onError:function(r){ln=!0,ke=r}};function eo(r,s,c,p,v,E,R,$,Q){ln=!1,ke=null,Ji.apply(Va,arguments)}function Ho(r,s,c,p,v,E,R,$,Q){if(eo.apply(this,arguments),ln){if(ln){var se=ke;ln=!1,ke=null}else throw Error(t(198));Gn||(Gn=!0,Wo=se)}}function Kn(r){var s=r,c=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(c=s.return),r=s.return;while(r)}return s.tag===3?c:null}function Zn(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function qn(r){if(Kn(r)!==r)throw Error(t(188))}function Fa(r){var s=r.alternate;if(!s){if(s=Kn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var c=r,p=s;;){var v=c.return;if(v===null)break;var E=v.alternate;if(E===null){if(p=v.return,p!==null){c=p;continue}break}if(v.child===E.child){for(E=v.child;E;){if(E===c)return qn(v),r;if(E===p)return qn(v),s;E=E.sibling}throw Error(t(188))}if(c.return!==p.return)c=v,p=E;else{for(var R=!1,$=v.child;$;){if($===c){R=!0,c=v,p=E;break}if($===p){R=!0,p=v,c=E;break}$=$.sibling}if(!R){for($=E.child;$;){if($===c){R=!0,c=E,p=v;break}if($===p){R=!0,p=E,c=v;break}$=$.sibling}if(!R)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?r:s}function ra(r){return r=Fa(r),r!==null?Go(r):null}function Go(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Go(r);if(s!==null)return s;r=r.sibling}return null}var Ko=e.unstable_scheduleCallback,Zo=e.unstable_cancelCallback,za=e.unstable_shouldYield,qo=e.unstable_requestPaint,wt=e.unstable_now,Ba=e.unstable_getCurrentPriorityLevel,to=e.unstable_ImmediatePriority,yi=e.unstable_UserBlockingPriority,Qn=e.unstable_NormalPriority,no=e.unstable_LowPriority,wi=e.unstable_IdlePriority,Ei=null,Cn=null;function xi(r){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Ei,r,void 0,(r.current.flags&128)===128)}catch{}}var We=Math.clz32?Math.clz32:ei,gt=Math.log,ro=Math.LN2;function ei(r){return r>>>=0,r===0?32:31-(gt(r)/ro|0)|0}var gr=64,Ti=4194304;function Ue(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function _t(r,s){var c=r.pendingLanes;if(c===0)return 0;var p=0,v=r.suspendedLanes,E=r.pingedLanes,R=c&268435455;if(R!==0){var $=R&~v;$!==0?p=Ue($):(E&=R,E!==0&&(p=Ue(E)))}else R=c&~v,R!==0?p=Ue(R):E!==0&&(p=Ue(E));if(p===0)return 0;if(s!==0&&s!==p&&!(s&v)&&(v=p&-p,E=s&-s,v>=E||v===16&&(E&4194240)!==0))return s;if(p&4&&(p|=c&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=p;0<s;)c=31-We(s),v=1<<c,p|=r[c],s&=~v;return p}function ia(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yn(r,s){for(var c=r.suspendedLanes,p=r.pingedLanes,v=r.expirationTimes,E=r.pendingLanes;0<E;){var R=31-We(E),$=1<<R,Q=v[R];Q===-1?(!($&c)||$&p)&&(v[R]=ia($,s)):Q<=s&&(r.expiredLanes|=$),E&=~$}}function Ct(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function io(){var r=gr;return gr<<=1,!(gr&4194240)&&(gr=64),r}function _r(r){for(var s=[],c=0;31>c;c++)s.push(r);return s}function Sn(r,s,c){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-We(s),r[s]=c}function He(r,s){var c=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<c;){var v=31-We(c),E=1<<v;s[v]=0,p[v]=-1,r[v]=-1,c&=~E}}function Pn(r,s){var c=r.entangledLanes|=s;for(r=r.entanglements;c;){var p=31-We(c),v=1<<p;v&s|r[p]&s&&(r[p]|=s),c&=~v}}var Je=0;function Xn(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Qo,Lr,Yo,Xo,oo,so=!1,Jn=[],Bt=null,er=null,zn=null,Ci=new Map,De=new Map,$t=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oa(r,s){switch(r){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Ci.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":De.delete(s.pointerId)}}function un(r,s,c,p,v,E){return r===null||r.nativeEvent!==E?(r={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[v]},s!==null&&(s=vo(s),s!==null&&Lr(s)),r):(r.eventSystemFlags|=p,s=r.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),r)}function sa(r,s,c,p,v){switch(s){case"focusin":return Bt=un(Bt,r,s,c,p,v),!0;case"dragenter":return er=un(er,r,s,c,p,v),!0;case"mouseover":return zn=un(zn,r,s,c,p,v),!0;case"pointerover":var E=v.pointerId;return Ci.set(E,un(Ci.get(E)||null,r,s,c,p,v)),!0;case"gotpointercapture":return E=v.pointerId,De.set(E,un(De.get(E)||null,r,s,c,p,v)),!0}return!1}function Jo(r){var s=_o(r.target);if(s!==null){var c=Kn(s);if(c!==null){if(s=c.tag,s===13){if(s=Zn(c),s!==null){r.blockedOn=s,oo(r.priority,function(){Yo(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function gn(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var c=uo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var p=new c.constructor(c.type,c);qi=p,c.target.dispatchEvent(p),qi=null}else return s=vo(c),s!==null&&Lr(s),r.blockedOn=c,!1;s.shift()}return!0}function ti(r,s,c){gn(r)&&c.delete(s)}function Si(){so=!1,Bt!==null&&gn(Bt)&&(Bt=null),er!==null&&gn(er)&&(er=null),zn!==null&&gn(zn)&&(zn=null),Ci.forEach(ti),De.forEach(ti)}function vt(r,s){r.blockedOn===s&&(r.blockedOn=null,so||(so=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Si)))}function Xt(r){function s(v){return vt(v,r)}if(0<Jn.length){vt(Jn[0],r);for(var c=1;c<Jn.length;c++){var p=Jn[c];p.blockedOn===r&&(p.blockedOn=null)}}for(Bt!==null&&vt(Bt,r),er!==null&&vt(er,r),zn!==null&&vt(zn,r),Ci.forEach(s),De.forEach(s),c=0;c<$t.length;c++)p=$t[c],p.blockedOn===r&&(p.blockedOn=null);for(;0<$t.length&&(c=$t[0],c.blockedOn===null);)Jo(c),c.blockedOn===null&&$t.shift()}var Mr=q.ReactCurrentBatchConfig,ni=!0;function St(r,s,c,p){var v=Je,E=Mr.transition;Mr.transition=null;try{Je=1,ao(r,s,c,p)}finally{Je=v,Mr.transition=E}}function ja(r,s,c,p){var v=Je,E=Mr.transition;Mr.transition=null;try{Je=4,ao(r,s,c,p)}finally{Je=v,Mr.transition=E}}function ao(r,s,c,p){if(ni){var v=uo(r,s,c,p);if(v===null)i(r,s,p,lo,c),oa(r,p);else if(sa(v,r,s,c,p))p.stopPropagation();else if(oa(r,p),s&4&&-1<dt.indexOf(r)){for(;v!==null;){var E=vo(v);if(E!==null&&Qo(E),E=uo(r,s,c,p),E===null&&i(r,s,p,lo,c),E===v)break;v=E}v!==null&&p.stopPropagation()}else i(r,s,p,null,c)}}var lo=null;function uo(r,s,c,p){if(lo=null,r=jo(p),r=_o(r),r!==null)if(s=Kn(r),s===null)r=null;else if(c=s.tag,c===13){if(r=Zn(s),r!==null)return r;r=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return lo=r,null}function tt(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ba()){case to:return 1;case yi:return 4;case Qn:case no:return 16;case wi:return 536870912;default:return 16}default:return 16}}var Bn=null,cn=null,Gt=null;function es(){if(Gt)return Gt;var r,s=cn,c=s.length,p,v="value"in Bn?Bn.value:Bn.textContent,E=v.length;for(r=0;r<c&&s[r]===v[r];r++);var R=c-r;for(p=1;p<=R&&s[c-p]===v[E-p];p++);return Gt=v.slice(r,1<p?1-p:void 0)}function ts(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function tr(){return!0}function aa(){return!1}function Kt(r){function s(c,p,v,E,R){this._reactName=c,this._targetInst=v,this.type=p,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var $ in r)r.hasOwnProperty($)&&(c=r[$],this[$]=c?c(E):E[$]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?tr:aa,this.isPropagationStopped=aa,this}return ue(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),s}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=Kt(vr),nr=ue({},vr,{view:0,detail:0}),Yl=Kt(nr),_n,ri,ii,In=ue({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ii&&(ii&&r.type==="mousemove"?(_n=r.screenX-ii.screenX,ri=r.screenY-ii.screenY):ri=_n=0,ii=r),_n)},movementY:function(r){return"movementY"in r?r.movementY:ri}}),co=Kt(In),rs=ue({},In,{dataTransfer:0}),is=Kt(rs),os=ue({},nr,{relatedTarget:0}),ho=Kt(os),la=ue({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),oi=Kt(la),Ua=ue({},vr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ss=Kt(Ua),$a=ue({},vr,{data:0}),as=Kt($a),fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wa(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Nr[r])?!!s[r]:!1}function Rn(){return Wa}var d=ue({},nr,{key:function(r){if(r.key){var s=fo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ts(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Zt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rn,charCode:function(r){return r.type==="keypress"?ts(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ts(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),w=Kt(d),P=ue({},In,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=Kt(P),J=ue({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rn}),le=Kt(J),ye=ue({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=Kt(ye),jt=ue({},In,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),it=Kt(jt),ft=[9,13,27,32],xt=m&&"CompositionEvent"in window,rr=null;m&&"documentMode"in document&&(rr=document.documentMode);var Nt=m&&"TextEvent"in window&&!rr,po=m&&(!xt||rr&&8<rr&&11>=rr),yr=" ",dc=!1;function ls(r,s){switch(r){case"keyup":return ft.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var si=!1;function Nd(r,s){switch(r){case"compositionend":return Xl(s);case"keypress":return s.which!==32?null:(dc=!0,yr);case"textInput":return r=s.data,r===yr&&dc?null:r;default:return null}}function Pi(r,s){if(si)return r==="compositionend"||!xt&&ls(r,s)?(r=es(),Gt=cn=Bn=null,si=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return po&&s.locale!=="ko"?null:s.data;default:return null}}var Ha={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ha[r.type]:s==="textarea"}function Ga(r,s,c,p){kr(p),s=f(s,"onChange"),0<s.length&&(c=new ns("onChange","change",null,c,p),r.push({event:c,listeners:s}))}var ua=null,jn=null;function Dd(r){au(r,0)}function ai(r){var s=yo(r);if(Vn(s))return r}function Od(r,s){if(r==="change")return s}var Dr=!1;if(m){var us;if(m){var Ka="oninput"in document;if(!Ka){var Za=document.createElement("div");Za.setAttribute("oninput","return;"),Ka=typeof Za.oninput=="function"}us=Ka}else us=!1;Dr=us&&(!document.documentMode||9<document.documentMode)}function ca(){ua&&(ua.detachEvent("onpropertychange",qa),jn=ua=null)}function qa(r){if(r.propertyName==="value"&&ai(jn)){var s=[];Ga(s,jn,r,jo(r)),Xi(Dd,s)}}function Qa(r,s,c){r==="focusin"?(ca(),ua=s,jn=c,ua.attachEvent("onpropertychange",qa)):r==="focusout"&&ca()}function cs(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ai(jn)}function Ya(r,s){if(r==="click")return ai(s)}function Jl(r,s){if(r==="input"||r==="change")return ai(s)}function pc(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var wr=typeof Object.is=="function"?Object.is:pc;function Ii(r,s){if(wr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var c=Object.keys(r),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var v=c[p];if(!g.call(s,v)||!wr(r[v],s[v]))return!1}return!0}function mc(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function eu(r,s){var c=mc(r);r=0;for(var p;c;){if(c.nodeType===3){if(p=r+c.textContent.length,r<=s&&p>=s)return{node:c,offset:s-r};r=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=mc(c)}}function gc(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?gc(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function tu(){for(var r=window,s=an();s instanceof r.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)r=s.contentWindow;else break;s=an(r.document)}return s}function nu(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Or(r){var s=tu(),c=r.focusedElem,p=r.selectionRange;if(s!==c&&c&&c.ownerDocument&&gc(c.ownerDocument.documentElement,c)){if(p!==null&&nu(c)){if(s=p.start,r=p.end,r===void 0&&(r=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(r,c.value.length);else if(r=(s=c.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var v=c.textContent.length,E=Math.min(p.start,v);p=p.end===void 0?E:Math.min(p.end,v),!r.extend&&E>p&&(v=p,p=E,E=v),v=eu(c,E);var R=eu(c,p);v&&R&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==R.node||r.focusOffset!==R.offset)&&(s=s.createRange(),s.setStart(v.node,v.offset),r.removeAllRanges(),E>p?(r.addRange(s),r.extend(R.node,R.offset)):(s.setEnd(R.node,R.offset),r.addRange(s)))}}for(s=[],r=c;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)r=s[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Xa=m&&"documentMode"in document&&11>=document.documentMode,hs=null,ds=null,ha=null,Ja=!1;function _c(r,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ja||hs==null||hs!==an(p)||(p=hs,"selectionStart"in p&&nu(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ha&&Ii(ha,p)||(ha=p,p=f(ds,"onSelect"),0<p.length&&(s=new ns("onSelect","select",null,s,c),r.push({event:s,listeners:p}),s.target=hs)))}function Ri(r,s){var c={};return c[r.toLowerCase()]=s.toLowerCase(),c["Webkit"+r]="webkit"+s,c["Moz"+r]="moz"+s,c}var fs={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionend:Ri("Transition","TransitionEnd")},Ai={},ru={};m&&(ru=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function da(r){if(Ai[r])return Ai[r];if(!fs[r])return r;var s=fs[r],c;for(c in s)if(s.hasOwnProperty(c)&&c in ru)return Ai[r]=s[c];return r}var vc=da("animationend"),Vr=da("animationiteration"),iu=da("animationstart"),ou=da("transitionend"),ps=new Map,yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(r,s){ps.set(r,s),u(s,[r])}for(var mo=0;mo<yc.length;mo++){var el=yc[mo],wc=el.toLowerCase(),Vd=el[0].toUpperCase()+el.slice(1);Er(wc,"on"+Vd)}Er(vc,"onAnimationEnd"),Er(Vr,"onAnimationIteration"),Er(iu,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(ou,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ec=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function su(r,s,c){var p=r.type||"unknown-event";r.currentTarget=c,Ho(p,s,void 0,r),r.currentTarget=null}function au(r,s){s=(s&4)!==0;for(var c=0;c<r.length;c++){var p=r[c],v=p.event;p=p.listeners;e:{var E=void 0;if(s)for(var R=p.length-1;0<=R;R--){var $=p[R],Q=$.instance,se=$.currentTarget;if($=$.listener,Q!==E&&v.isPropagationStopped())break e;su(v,$,se),E=Q}else for(R=0;R<p.length;R++){if($=p[R],Q=$.instance,se=$.currentTarget,$=$.listener,Q!==E&&v.isPropagationStopped())break e;su(v,$,se),E=Q}}}if(Gn)throw r=Wo,Gn=!1,Wo=null,r}function Et(r,s){var c=s[ys];c===void 0&&(c=s[ys]=new Set);var p=r+"__bubble";c.has(p)||(xc(s,r,2,!1),c.add(p))}function lu(r,s,c){var p=0;s&&(p|=4),xc(c,r,p,s)}var fa="_reactListening"+Math.random().toString(36).slice(2);function gs(r){if(!r[fa]){r[fa]=!0,o.forEach(function(c){c!=="selectionchange"&&(Ec.has(c)||lu(c,!1,r),lu(c,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[fa]||(s[fa]=!0,lu("selectionchange",!1,s))}}function xc(r,s,c,p){switch(tt(s)){case 1:var v=St;break;case 4:v=ja;break;default:v=ao}c=v.bind(null,s,c,r),v=void 0,!$o||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),p?v!==void 0?r.addEventListener(s,c,{capture:!0,passive:v}):r.addEventListener(s,c,!0):v!==void 0?r.addEventListener(s,c,{passive:v}):r.addEventListener(s,c,!1)}function i(r,s,c,p,v){var E=p;if(!(s&1)&&!(s&2)&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var $=p.stateNode.containerInfo;if($===v||$.nodeType===8&&$.parentNode===v)break;if(R===4)for(R=p.return;R!==null;){var Q=R.tag;if((Q===3||Q===4)&&(Q=R.stateNode.containerInfo,Q===v||Q.nodeType===8&&Q.parentNode===v))return;R=R.return}for(;$!==null;){if(R=_o($),R===null)return;if(Q=R.tag,Q===5||Q===6){p=E=R;continue e}$=$.parentNode}}p=p.return}Xi(function(){var se=E,me=jo(c),_e=[];e:{var pe=ps.get(r);if(pe!==void 0){var Ce=ns,Ae=r;switch(r){case"keypress":if(ts(c)===0)break e;case"keydown":case"keyup":Ce=w;break;case"focusin":Ae="focus",Ce=ho;break;case"focusout":Ae="blur",Ce=ho;break;case"beforeblur":case"afterblur":Ce=ho;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=is;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=le;break;case vc:case Vr:case iu:Ce=oi;break;case ou:Ce=ht;break;case"scroll":Ce=Yl;break;case"wheel":Ce=it;break;case"copy":case"cut":case"paste":Ce=ss;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=O}var Le=(s&4)!==0,Wt=!Le&&r==="scroll",re=Le?pe!==null?pe+"Capture":null:pe;Le=[];for(var X=se,ie;X!==null;){ie=X;var ve=ie.stateNode;if(ie.tag===5&&ve!==null&&(ie=ve,re!==null&&(ve=Mt(X,re),ve!=null&&Le.push(l(X,ve,ie)))),Wt)break;X=X.return}0<Le.length&&(pe=new Ce(pe,Ae,null,c,me),_e.push({event:pe,listeners:Le}))}}if(!(s&7)){e:{if(pe=r==="mouseover"||r==="pointerover",Ce=r==="mouseout"||r==="pointerout",pe&&c!==qi&&(Ae=c.relatedTarget||c.fromElement)&&(_o(Ae)||Ae[pt]))break e;if((Ce||pe)&&(pe=me.window===me?me:(pe=me.ownerDocument)?pe.defaultView||pe.parentWindow:window,Ce?(Ae=c.relatedTarget||c.toElement,Ce=se,Ae=Ae?_o(Ae):null,Ae!==null&&(Wt=Kn(Ae),Ae!==Wt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Ce=null,Ae=se),Ce!==Ae)){if(Le=co,ve="onMouseLeave",re="onMouseEnter",X="mouse",(r==="pointerout"||r==="pointerover")&&(Le=O,ve="onPointerLeave",re="onPointerEnter",X="pointer"),Wt=Ce==null?pe:yo(Ce),ie=Ae==null?pe:yo(Ae),pe=new Le(ve,X+"leave",Ce,c,me),pe.target=Wt,pe.relatedTarget=ie,ve=null,_o(me)===se&&(Le=new Le(re,X+"enter",Ae,c,me),Le.target=ie,Le.relatedTarget=Wt,ve=Le),Wt=ve,Ce&&Ae)t:{for(Le=Ce,re=Ae,X=0,ie=Le;ie;ie=_(ie))X++;for(ie=0,ve=re;ve;ve=_(ve))ie++;for(;0<X-ie;)Le=_(Le),X--;for(;0<ie-X;)re=_(re),ie--;for(;X--;){if(Le===re||re!==null&&Le===re.alternate)break t;Le=_(Le),re=_(re)}Le=null}else Le=null;Ce!==null&&T(_e,pe,Ce,Le,!1),Ae!==null&&Wt!==null&&T(_e,Wt,Ae,Le,!0)}}e:{if(pe=se?yo(se):window,Ce=pe.nodeName&&pe.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&pe.type==="file")var Me=Od;else if(fc(pe))if(Dr)Me=Jl;else{Me=cs;var Fe=Qa}else(Ce=pe.nodeName)&&Ce.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Me=Ya);if(Me&&(Me=Me(r,se))){Ga(_e,Me,c,me);break e}Fe&&Fe(r,pe,se),r==="focusout"&&(Fe=pe._wrapperState)&&Fe.controlled&&pe.type==="number"&&dr(pe,"number",pe.value)}switch(Fe=se?yo(se):window,r){case"focusin":(fc(Fe)||Fe.contentEditable==="true")&&(hs=Fe,ds=se,ha=null);break;case"focusout":ha=ds=hs=null;break;case"mousedown":Ja=!0;break;case"contextmenu":case"mouseup":case"dragend":Ja=!1,_c(_e,c,me);break;case"selectionchange":if(Xa)break;case"keydown":case"keyup":_c(_e,c,me)}var ze;if(xt)e:{switch(r){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else si?ls(r,c)&&(Ge="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ge="onCompositionStart");Ge&&(po&&c.locale!=="ko"&&(si||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&si&&(ze=es()):(Bn=me,cn="value"in Bn?Bn.value:Bn.textContent,si=!0)),Fe=f(se,Ge),0<Fe.length&&(Ge=new as(Ge,r,null,c,me),_e.push({event:Ge,listeners:Fe}),ze?Ge.data=ze:(ze=Xl(c),ze!==null&&(Ge.data=ze)))),(ze=Nt?Nd(r,c):Pi(r,c))&&(se=f(se,"onBeforeInput"),0<se.length&&(me=new as("onBeforeInput","beforeinput",null,c,me),_e.push({event:me,listeners:se}),me.data=ze))}au(_e,s)})}function l(r,s,c){return{instance:r,listener:s,currentTarget:c}}function f(r,s){for(var c=s+"Capture",p=[];r!==null;){var v=r,E=v.stateNode;v.tag===5&&E!==null&&(v=E,E=Mt(r,c),E!=null&&p.unshift(l(r,E,v)),E=Mt(r,s),E!=null&&p.push(l(r,E,v))),r=r.return}return p}function _(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function T(r,s,c,p,v){for(var E=s._reactName,R=[];c!==null&&c!==p;){var $=c,Q=$.alternate,se=$.stateNode;if(Q!==null&&Q===p)break;$.tag===5&&se!==null&&($=se,v?(Q=Mt(c,E),Q!=null&&R.unshift(l(c,Q,$))):v||(Q=Mt(c,E),Q!=null&&R.push(l(c,Q,$)))),c=c.return}R.length!==0&&r.push({event:s,listeners:R})}var k=/\r\n?/g,G=/\u0000|\uFFFD/g;function te(r){return(typeof r=="string"?r:""+r).replace(k,`
`).replace(G,"")}function oe(r,s,c){if(s=te(s),te(r)!==s&&c)throw Error(t(425))}function fe(){}var xe=null,Ve=null;function Xe(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Jt=typeof setTimeout=="function"?setTimeout:void 0,qt=typeof clearTimeout=="function"?clearTimeout:void 0,Un=typeof Promise=="function"?Promise:void 0,An=typeof queueMicrotask=="function"?queueMicrotask:typeof Un<"u"?function(r){return Un.resolve(null).then(r).catch(_s)}:Jt;function _s(r){setTimeout(function(){throw r})}function uu(r,s){var c=s,p=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(p===0){r.removeChild(v),Xt(s);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=v}while(c);Xt(s)}function bi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Tc(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return r;s--}else c==="/$"&&s++}r=r.previousSibling}return null}var go=Math.random().toString(36).slice(2),Fr="__reactFiber$"+go,vs="__reactProps$"+go,pt="__reactContainer$"+go,ys="__reactEvents$"+go,Fd="__reactListeners$"+go,zd="__reactHandles$"+go;function _o(r){var s=r[Fr];if(s)return s;for(var c=r.parentNode;c;){if(s=c[pt]||c[Fr]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(r=Tc(r);r!==null;){if(c=r[Fr])return c;r=Tc(r)}return s}r=c,c=r.parentNode}return null}function vo(r){return r=r[Fr]||r[pt],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function yo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function tl(r){return r[vs]||null}var Bd=[],nl=-1;function ws(r){return{current:r}}function It(r){0>nl||(r.current=Bd[nl],Bd[nl]=null,nl--)}function Pt(r,s){nl++,Bd[nl]=r.current,r.current=s}var Es={},bn=ws(Es),ir=ws(!1),pa=Es;function rl(r,s){var c=r.type.contextTypes;if(!c)return Es;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var v={},E;for(E in c)v[E]=s[E];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=v),v}function or(r){return r=r.childContextTypes,r!=null}function Cc(){It(ir),It(bn)}function wg(r,s,c){if(bn.current!==Es)throw Error(t(168));Pt(bn,s),Pt(ir,c)}function Eg(r,s,c){var p=r.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var v in p)if(!(v in s))throw Error(t(108,je(r)||"Unknown",v));return ue({},c,p)}function Sc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Es,pa=bn.current,Pt(bn,r),Pt(ir,ir.current),!0}function xg(r,s,c){var p=r.stateNode;if(!p)throw Error(t(169));c?(r=Eg(r,s,pa),p.__reactInternalMemoizedMergedChildContext=r,It(ir),It(bn),Pt(bn,r)):It(ir),Pt(ir,c)}var wo=null,Pc=!1,jd=!1;function Tg(r){wo===null?wo=[r]:wo.push(r)}function nT(r){Pc=!0,Tg(r)}function xs(){if(!jd&&wo!==null){jd=!0;var r=0,s=Je;try{var c=wo;for(Je=1;r<c.length;r++){var p=c[r];do p=p(!0);while(p!==null)}wo=null,Pc=!1}catch(v){throw wo!==null&&(wo=wo.slice(r+1)),Ko(to,xs),v}finally{Je=s,jd=!1}}return null}var il=[],ol=0,Ic=null,Rc=0,zr=[],Br=0,ma=null,Eo=1,xo="";function ga(r,s){il[ol++]=Rc,il[ol++]=Ic,Ic=r,Rc=s}function Cg(r,s,c){zr[Br++]=Eo,zr[Br++]=xo,zr[Br++]=ma,ma=r;var p=Eo;r=xo;var v=32-We(p)-1;p&=~(1<<v),c+=1;var E=32-We(s)+v;if(30<E){var R=v-v%5;E=(p&(1<<R)-1).toString(32),p>>=R,v-=R,Eo=1<<32-We(s)+v|c<<v|p,xo=E+r}else Eo=1<<E|c<<v|p,xo=r}function Ud(r){r.return!==null&&(ga(r,1),Cg(r,1,0))}function $d(r){for(;r===Ic;)Ic=il[--ol],il[ol]=null,Rc=il[--ol],il[ol]=null;for(;r===ma;)ma=zr[--Br],zr[Br]=null,xo=zr[--Br],zr[Br]=null,Eo=zr[--Br],zr[Br]=null}var xr=null,Tr=null,bt=!1,li=null;function Sg(r,s){var c=Wr(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=r,s=r.deletions,s===null?(r.deletions=[c],r.flags|=16):s.push(c)}function Pg(r,s){switch(r.tag){case 5:var c=r.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,xr=r,Tr=bi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,xr=r,Tr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=ma!==null?{id:Eo,overflow:xo}:null,r.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=Wr(18,null,null,0),c.stateNode=s,c.return=r,r.child=c,xr=r,Tr=null,!0):!1;default:return!1}}function Wd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Hd(r){if(bt){var s=Tr;if(s){var c=s;if(!Pg(r,s)){if(Wd(r))throw Error(t(418));s=bi(c.nextSibling);var p=xr;s&&Pg(r,s)?Sg(p,c):(r.flags=r.flags&-4097|2,bt=!1,xr=r)}}else{if(Wd(r))throw Error(t(418));r.flags=r.flags&-4097|2,bt=!1,xr=r}}}function Ig(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;xr=r}function Ac(r){if(r!==xr)return!1;if(!bt)return Ig(r),bt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Xe(r.type,r.memoizedProps)),s&&(s=Tr)){if(Wd(r))throw Rg(),Error(t(418));for(;s;)Sg(r,s),s=bi(s.nextSibling)}if(Ig(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(s===0){Tr=bi(r.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}r=r.nextSibling}Tr=null}}else Tr=xr?bi(r.stateNode.nextSibling):null;return!0}function Rg(){for(var r=Tr;r;)r=bi(r.nextSibling)}function sl(){Tr=xr=null,bt=!1}function Gd(r){li===null?li=[r]:li.push(r)}var rT=q.ReactCurrentBatchConfig;function cu(r,s,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,r));var v=p,E=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===E?s.ref:(s=function(R){var $=v.refs;R===null?delete $[E]:$[E]=R},s._stringRef=E,s)}if(typeof r!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,r))}return r}function bc(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Ag(r){var s=r._init;return s(r._payload)}function bg(r){function s(re,X){if(r){var ie=re.deletions;ie===null?(re.deletions=[X],re.flags|=16):ie.push(X)}}function c(re,X){if(!r)return null;for(;X!==null;)s(re,X),X=X.sibling;return null}function p(re,X){for(re=new Map;X!==null;)X.key!==null?re.set(X.key,X):re.set(X.index,X),X=X.sibling;return re}function v(re,X){return re=bs(re,X),re.index=0,re.sibling=null,re}function E(re,X,ie){return re.index=ie,r?(ie=re.alternate,ie!==null?(ie=ie.index,ie<X?(re.flags|=2,X):ie):(re.flags|=2,X)):(re.flags|=1048576,X)}function R(re){return r&&re.alternate===null&&(re.flags|=2),re}function $(re,X,ie,ve){return X===null||X.tag!==6?(X=Ff(ie,re.mode,ve),X.return=re,X):(X=v(X,ie),X.return=re,X)}function Q(re,X,ie,ve){var Me=ie.type;return Me===z?me(re,X,ie.props.children,ve,ie.key):X!==null&&(X.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Re&&Ag(Me)===X.type)?(ve=v(X,ie.props),ve.ref=cu(re,X,ie),ve.return=re,ve):(ve=eh(ie.type,ie.key,ie.props,null,re.mode,ve),ve.ref=cu(re,X,ie),ve.return=re,ve)}function se(re,X,ie,ve){return X===null||X.tag!==4||X.stateNode.containerInfo!==ie.containerInfo||X.stateNode.implementation!==ie.implementation?(X=zf(ie,re.mode,ve),X.return=re,X):(X=v(X,ie.children||[]),X.return=re,X)}function me(re,X,ie,ve,Me){return X===null||X.tag!==7?(X=Ca(ie,re.mode,ve,Me),X.return=re,X):(X=v(X,ie),X.return=re,X)}function _e(re,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Ff(""+X,re.mode,ie),X.return=re,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case ee:return ie=eh(X.type,X.key,X.props,null,re.mode,ie),ie.ref=cu(re,null,X),ie.return=re,ie;case ae:return X=zf(X,re.mode,ie),X.return=re,X;case Re:var ve=X._init;return _e(re,ve(X._payload),ie)}if(Ar(X)||he(X))return X=Ca(X,re.mode,ie,null),X.return=re,X;bc(re,X)}return null}function pe(re,X,ie,ve){var Me=X!==null?X.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Me!==null?null:$(re,X,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ee:return ie.key===Me?Q(re,X,ie,ve):null;case ae:return ie.key===Me?se(re,X,ie,ve):null;case Re:return Me=ie._init,pe(re,X,Me(ie._payload),ve)}if(Ar(ie)||he(ie))return Me!==null?null:me(re,X,ie,ve,null);bc(re,ie)}return null}function Ce(re,X,ie,ve,Me){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return re=re.get(ie)||null,$(X,re,""+ve,Me);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case ee:return re=re.get(ve.key===null?ie:ve.key)||null,Q(X,re,ve,Me);case ae:return re=re.get(ve.key===null?ie:ve.key)||null,se(X,re,ve,Me);case Re:var Fe=ve._init;return Ce(re,X,ie,Fe(ve._payload),Me)}if(Ar(ve)||he(ve))return re=re.get(ie)||null,me(X,re,ve,Me,null);bc(X,ve)}return null}function Ae(re,X,ie,ve){for(var Me=null,Fe=null,ze=X,Ge=X=0,fn=null;ze!==null&&Ge<ie.length;Ge++){ze.index>Ge?(fn=ze,ze=null):fn=ze.sibling;var ct=pe(re,ze,ie[Ge],ve);if(ct===null){ze===null&&(ze=fn);break}r&&ze&&ct.alternate===null&&s(re,ze),X=E(ct,X,Ge),Fe===null?Me=ct:Fe.sibling=ct,Fe=ct,ze=fn}if(Ge===ie.length)return c(re,ze),bt&&ga(re,Ge),Me;if(ze===null){for(;Ge<ie.length;Ge++)ze=_e(re,ie[Ge],ve),ze!==null&&(X=E(ze,X,Ge),Fe===null?Me=ze:Fe.sibling=ze,Fe=ze);return bt&&ga(re,Ge),Me}for(ze=p(re,ze);Ge<ie.length;Ge++)fn=Ce(ze,re,Ge,ie[Ge],ve),fn!==null&&(r&&fn.alternate!==null&&ze.delete(fn.key===null?Ge:fn.key),X=E(fn,X,Ge),Fe===null?Me=fn:Fe.sibling=fn,Fe=fn);return r&&ze.forEach(function(ks){return s(re,ks)}),bt&&ga(re,Ge),Me}function Le(re,X,ie,ve){var Me=he(ie);if(typeof Me!="function")throw Error(t(150));if(ie=Me.call(ie),ie==null)throw Error(t(151));for(var Fe=Me=null,ze=X,Ge=X=0,fn=null,ct=ie.next();ze!==null&&!ct.done;Ge++,ct=ie.next()){ze.index>Ge?(fn=ze,ze=null):fn=ze.sibling;var ks=pe(re,ze,ct.value,ve);if(ks===null){ze===null&&(ze=fn);break}r&&ze&&ks.alternate===null&&s(re,ze),X=E(ks,X,Ge),Fe===null?Me=ks:Fe.sibling=ks,Fe=ks,ze=fn}if(ct.done)return c(re,ze),bt&&ga(re,Ge),Me;if(ze===null){for(;!ct.done;Ge++,ct=ie.next())ct=_e(re,ct.value,ve),ct!==null&&(X=E(ct,X,Ge),Fe===null?Me=ct:Fe.sibling=ct,Fe=ct);return bt&&ga(re,Ge),Me}for(ze=p(re,ze);!ct.done;Ge++,ct=ie.next())ct=Ce(ze,re,Ge,ct.value,ve),ct!==null&&(r&&ct.alternate!==null&&ze.delete(ct.key===null?Ge:ct.key),X=E(ct,X,Ge),Fe===null?Me=ct:Fe.sibling=ct,Fe=ct);return r&&ze.forEach(function(OT){return s(re,OT)}),bt&&ga(re,Ge),Me}function Wt(re,X,ie,ve){if(typeof ie=="object"&&ie!==null&&ie.type===z&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ee:e:{for(var Me=ie.key,Fe=X;Fe!==null;){if(Fe.key===Me){if(Me=ie.type,Me===z){if(Fe.tag===7){c(re,Fe.sibling),X=v(Fe,ie.props.children),X.return=re,re=X;break e}}else if(Fe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Re&&Ag(Me)===Fe.type){c(re,Fe.sibling),X=v(Fe,ie.props),X.ref=cu(re,Fe,ie),X.return=re,re=X;break e}c(re,Fe);break}else s(re,Fe);Fe=Fe.sibling}ie.type===z?(X=Ca(ie.props.children,re.mode,ve,ie.key),X.return=re,re=X):(ve=eh(ie.type,ie.key,ie.props,null,re.mode,ve),ve.ref=cu(re,X,ie),ve.return=re,re=ve)}return R(re);case ae:e:{for(Fe=ie.key;X!==null;){if(X.key===Fe)if(X.tag===4&&X.stateNode.containerInfo===ie.containerInfo&&X.stateNode.implementation===ie.implementation){c(re,X.sibling),X=v(X,ie.children||[]),X.return=re,re=X;break e}else{c(re,X);break}else s(re,X);X=X.sibling}X=zf(ie,re.mode,ve),X.return=re,re=X}return R(re);case Re:return Fe=ie._init,Wt(re,X,Fe(ie._payload),ve)}if(Ar(ie))return Ae(re,X,ie,ve);if(he(ie))return Le(re,X,ie,ve);bc(re,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,X!==null&&X.tag===6?(c(re,X.sibling),X=v(X,ie),X.return=re,re=X):(c(re,X),X=Ff(ie,re.mode,ve),X.return=re,re=X),R(re)):c(re,X)}return Wt}var al=bg(!0),kg=bg(!1),kc=ws(null),Lc=null,ll=null,Kd=null;function Zd(){Kd=ll=Lc=null}function qd(r){var s=kc.current;It(kc),r._currentValue=s}function Qd(r,s,c){for(;r!==null;){var p=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),r===c)break;r=r.return}}function ul(r,s){Lc=r,Kd=ll=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(sr=!0),r.firstContext=null)}function jr(r){var s=r._currentValue;if(Kd!==r)if(r={context:r,memoizedValue:s,next:null},ll===null){if(Lc===null)throw Error(t(308));ll=r,Lc.dependencies={lanes:0,firstContext:r}}else ll=ll.next=r;return s}var _a=null;function Yd(r){_a===null?_a=[r]:_a.push(r)}function Lg(r,s,c,p){var v=s.interleaved;return v===null?(c.next=c,Yd(s)):(c.next=v.next,v.next=c),s.interleaved=c,To(r,p)}function To(r,s){r.lanes|=s;var c=r.alternate;for(c!==null&&(c.lanes|=s),c=r,r=r.return;r!==null;)r.childLanes|=s,c=r.alternate,c!==null&&(c.childLanes|=s),c=r,r=r.return;return c.tag===3?c.stateNode:null}var Ts=!1;function Xd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Co(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Cs(r,s,c){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,ut&2){var v=p.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),p.pending=s,To(r,c)}return v=p.interleaved,v===null?(s.next=s,Yd(p)):(s.next=v.next,v.next=s),p.interleaved=s,To(r,c)}function Mc(r,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var p=s.lanes;p&=r.pendingLanes,c|=p,s.lanes=c,Pn(r,c)}}function Ng(r,s){var c=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var v=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var R={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?v=E=R:E=E.next=R,c=c.next}while(c!==null);E===null?v=E=s:E=E.next=s}else v=E=s;c={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:E,shared:p.shared,effects:p.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=s:r.next=s,c.lastBaseUpdate=s}function Nc(r,s,c,p){var v=r.updateQueue;Ts=!1;var E=v.firstBaseUpdate,R=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var Q=$,se=Q.next;Q.next=null,R===null?E=se:R.next=se,R=Q;var me=r.alternate;me!==null&&(me=me.updateQueue,$=me.lastBaseUpdate,$!==R&&($===null?me.firstBaseUpdate=se:$.next=se,me.lastBaseUpdate=Q))}if(E!==null){var _e=v.baseState;R=0,me=se=Q=null,$=E;do{var pe=$.lane,Ce=$.eventTime;if((p&pe)===pe){me!==null&&(me=me.next={eventTime:Ce,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ae=r,Le=$;switch(pe=s,Ce=c,Le.tag){case 1:if(Ae=Le.payload,typeof Ae=="function"){_e=Ae.call(Ce,_e,pe);break e}_e=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Le.payload,pe=typeof Ae=="function"?Ae.call(Ce,_e,pe):Ae,pe==null)break e;_e=ue({},_e,pe);break e;case 2:Ts=!0}}$.callback!==null&&$.lane!==0&&(r.flags|=64,pe=v.effects,pe===null?v.effects=[$]:pe.push($))}else Ce={eventTime:Ce,lane:pe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},me===null?(se=me=Ce,Q=_e):me=me.next=Ce,R|=pe;if($=$.next,$===null){if($=v.shared.pending,$===null)break;pe=$,$=pe.next,pe.next=null,v.lastBaseUpdate=pe,v.shared.pending=null}}while(!0);if(me===null&&(Q=_e),v.baseState=Q,v.firstBaseUpdate=se,v.lastBaseUpdate=me,s=v.shared.interleaved,s!==null){v=s;do R|=v.lane,v=v.next;while(v!==s)}else E===null&&(v.shared.lanes=0);wa|=R,r.lanes=R,r.memoizedState=_e}}function Dg(r,s,c){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var p=r[s],v=p.callback;if(v!==null){if(p.callback=null,p=c,typeof v!="function")throw Error(t(191,v));v.call(p)}}}var hu={},ki=ws(hu),du=ws(hu),fu=ws(hu);function va(r){if(r===hu)throw Error(t(174));return r}function Jd(r,s){switch(Pt(fu,s),Pt(du,r),Pt(ki,hu),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:zt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=zt(s,r)}It(ki),Pt(ki,s)}function cl(){It(ki),It(du),It(fu)}function Og(r){va(fu.current);var s=va(ki.current),c=zt(s,r.type);s!==c&&(Pt(du,r),Pt(ki,c))}function ef(r){du.current===r&&(It(ki),It(du))}var Dt=ws(0);function Dc(r){for(var s=r;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var tf=[];function nf(){for(var r=0;r<tf.length;r++)tf[r]._workInProgressVersionPrimary=null;tf.length=0}var Oc=q.ReactCurrentDispatcher,rf=q.ReactCurrentBatchConfig,ya=0,Ot=null,en=null,hn=null,Vc=!1,pu=!1,mu=0,iT=0;function kn(){throw Error(t(321))}function of(r,s){if(s===null)return!1;for(var c=0;c<s.length&&c<r.length;c++)if(!wr(r[c],s[c]))return!1;return!0}function sf(r,s,c,p,v,E){if(ya=E,Ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Oc.current=r===null||r.memoizedState===null?lT:uT,r=c(p,v),pu){E=0;do{if(pu=!1,mu=0,25<=E)throw Error(t(301));E+=1,hn=en=null,s.updateQueue=null,Oc.current=cT,r=c(p,v)}while(pu)}if(Oc.current=Bc,s=en!==null&&en.next!==null,ya=0,hn=en=Ot=null,Vc=!1,s)throw Error(t(300));return r}function af(){var r=mu!==0;return mu=0,r}function Li(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Ot.memoizedState=hn=r:hn=hn.next=r,hn}function Ur(){if(en===null){var r=Ot.alternate;r=r!==null?r.memoizedState:null}else r=en.next;var s=hn===null?Ot.memoizedState:hn.next;if(s!==null)hn=s,en=r;else{if(r===null)throw Error(t(310));en=r,r={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},hn===null?Ot.memoizedState=hn=r:hn=hn.next=r}return hn}function gu(r,s){return typeof s=="function"?s(r):s}function lf(r){var s=Ur(),c=s.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=r;var p=en,v=p.baseQueue,E=c.pending;if(E!==null){if(v!==null){var R=v.next;v.next=E.next,E.next=R}p.baseQueue=v=E,c.pending=null}if(v!==null){E=v.next,p=p.baseState;var $=R=null,Q=null,se=E;do{var me=se.lane;if((ya&me)===me)Q!==null&&(Q=Q.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),p=se.hasEagerState?se.eagerState:r(p,se.action);else{var _e={lane:me,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};Q===null?($=Q=_e,R=p):Q=Q.next=_e,Ot.lanes|=me,wa|=me}se=se.next}while(se!==null&&se!==E);Q===null?R=p:Q.next=$,wr(p,s.memoizedState)||(sr=!0),s.memoizedState=p,s.baseState=R,s.baseQueue=Q,c.lastRenderedState=p}if(r=c.interleaved,r!==null){v=r;do E=v.lane,Ot.lanes|=E,wa|=E,v=v.next;while(v!==r)}else v===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function uf(r){var s=Ur(),c=s.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=r;var p=c.dispatch,v=c.pending,E=s.memoizedState;if(v!==null){c.pending=null;var R=v=v.next;do E=r(E,R.action),R=R.next;while(R!==v);wr(E,s.memoizedState)||(sr=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),c.lastRenderedState=E}return[E,p]}function Vg(){}function Fg(r,s){var c=Ot,p=Ur(),v=s(),E=!wr(p.memoizedState,v);if(E&&(p.memoizedState=v,sr=!0),p=p.queue,cf(jg.bind(null,c,p,r),[r]),p.getSnapshot!==s||E||hn!==null&&hn.memoizedState.tag&1){if(c.flags|=2048,_u(9,Bg.bind(null,c,p,v,s),void 0,null),dn===null)throw Error(t(349));ya&30||zg(c,s,v)}return v}function zg(r,s,c){r.flags|=16384,r={getSnapshot:s,value:c},s=Ot.updateQueue,s===null?(s={lastEffect:null,stores:null},Ot.updateQueue=s,s.stores=[r]):(c=s.stores,c===null?s.stores=[r]:c.push(r))}function Bg(r,s,c,p){s.value=c,s.getSnapshot=p,Ug(s)&&$g(r)}function jg(r,s,c){return c(function(){Ug(s)&&$g(r)})}function Ug(r){var s=r.getSnapshot;r=r.value;try{var c=s();return!wr(r,c)}catch{return!0}}function $g(r){var s=To(r,1);s!==null&&di(s,r,1,-1)}function Wg(r){var s=Li();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:r},s.queue=r,r=r.dispatch=aT.bind(null,Ot,r),[s.memoizedState,r]}function _u(r,s,c,p){return r={tag:r,create:s,destroy:c,deps:p,next:null},s=Ot.updateQueue,s===null?(s={lastEffect:null,stores:null},Ot.updateQueue=s,s.lastEffect=r.next=r):(c=s.lastEffect,c===null?s.lastEffect=r.next=r:(p=c.next,c.next=r,r.next=p,s.lastEffect=r)),r}function Hg(){return Ur().memoizedState}function Fc(r,s,c,p){var v=Li();Ot.flags|=r,v.memoizedState=_u(1|s,c,void 0,p===void 0?null:p)}function zc(r,s,c,p){var v=Ur();p=p===void 0?null:p;var E=void 0;if(en!==null){var R=en.memoizedState;if(E=R.destroy,p!==null&&of(p,R.deps)){v.memoizedState=_u(s,c,E,p);return}}Ot.flags|=r,v.memoizedState=_u(1|s,c,E,p)}function Gg(r,s){return Fc(8390656,8,r,s)}function cf(r,s){return zc(2048,8,r,s)}function Kg(r,s){return zc(4,2,r,s)}function Zg(r,s){return zc(4,4,r,s)}function qg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Qg(r,s,c){return c=c!=null?c.concat([r]):null,zc(4,4,qg.bind(null,s,r),c)}function hf(){}function Yg(r,s){var c=Ur();s=s===void 0?null:s;var p=c.memoizedState;return p!==null&&s!==null&&of(s,p[1])?p[0]:(c.memoizedState=[r,s],r)}function Xg(r,s){var c=Ur();s=s===void 0?null:s;var p=c.memoizedState;return p!==null&&s!==null&&of(s,p[1])?p[0]:(r=r(),c.memoizedState=[r,s],r)}function Jg(r,s,c){return ya&21?(wr(c,s)||(c=io(),Ot.lanes|=c,wa|=c,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,sr=!0),r.memoizedState=c)}function oT(r,s){var c=Je;Je=c!==0&&4>c?c:4,r(!0);var p=rf.transition;rf.transition={};try{r(!1),s()}finally{Je=c,rf.transition=p}}function e_(){return Ur().memoizedState}function sT(r,s,c){var p=Rs(r);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},t_(r))n_(s,c);else if(c=Lg(r,s,c,p),c!==null){var v=Wn();di(c,r,p,v),r_(c,s,p)}}function aT(r,s,c){var p=Rs(r),v={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(t_(r))n_(s,v);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var R=s.lastRenderedState,$=E(R,c);if(v.hasEagerState=!0,v.eagerState=$,wr($,R)){var Q=s.interleaved;Q===null?(v.next=v,Yd(s)):(v.next=Q.next,Q.next=v),s.interleaved=v;return}}catch{}finally{}c=Lg(r,s,v,p),c!==null&&(v=Wn(),di(c,r,p,v),r_(c,s,p))}}function t_(r){var s=r.alternate;return r===Ot||s!==null&&s===Ot}function n_(r,s){pu=Vc=!0;var c=r.pending;c===null?s.next=s:(s.next=c.next,c.next=s),r.pending=s}function r_(r,s,c){if(c&4194240){var p=s.lanes;p&=r.pendingLanes,c|=p,s.lanes=c,Pn(r,c)}}var Bc={readContext:jr,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},lT={readContext:jr,useCallback:function(r,s){return Li().memoizedState=[r,s===void 0?null:s],r},useContext:jr,useEffect:Gg,useImperativeHandle:function(r,s,c){return c=c!=null?c.concat([r]):null,Fc(4194308,4,qg.bind(null,s,r),c)},useLayoutEffect:function(r,s){return Fc(4194308,4,r,s)},useInsertionEffect:function(r,s){return Fc(4,2,r,s)},useMemo:function(r,s){var c=Li();return s=s===void 0?null:s,r=r(),c.memoizedState=[r,s],r},useReducer:function(r,s,c){var p=Li();return s=c!==void 0?c(s):s,p.memoizedState=p.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},p.queue=r,r=r.dispatch=sT.bind(null,Ot,r),[p.memoizedState,r]},useRef:function(r){var s=Li();return r={current:r},s.memoizedState=r},useState:Wg,useDebugValue:hf,useDeferredValue:function(r){return Li().memoizedState=r},useTransition:function(){var r=Wg(!1),s=r[0];return r=oT.bind(null,r[1]),Li().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,c){var p=Ot,v=Li();if(bt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=s(),dn===null)throw Error(t(349));ya&30||zg(p,s,c)}v.memoizedState=c;var E={value:c,getSnapshot:s};return v.queue=E,Gg(jg.bind(null,p,E,r),[r]),p.flags|=2048,_u(9,Bg.bind(null,p,E,c,s),void 0,null),c},useId:function(){var r=Li(),s=dn.identifierPrefix;if(bt){var c=xo,p=Eo;c=(p&~(1<<32-We(p)-1)).toString(32)+c,s=":"+s+"R"+c,c=mu++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=iT++,s=":"+s+"r"+c.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},uT={readContext:jr,useCallback:Yg,useContext:jr,useEffect:cf,useImperativeHandle:Qg,useInsertionEffect:Kg,useLayoutEffect:Zg,useMemo:Xg,useReducer:lf,useRef:Hg,useState:function(){return lf(gu)},useDebugValue:hf,useDeferredValue:function(r){var s=Ur();return Jg(s,en.memoizedState,r)},useTransition:function(){var r=lf(gu)[0],s=Ur().memoizedState;return[r,s]},useMutableSource:Vg,useSyncExternalStore:Fg,useId:e_,unstable_isNewReconciler:!1},cT={readContext:jr,useCallback:Yg,useContext:jr,useEffect:cf,useImperativeHandle:Qg,useInsertionEffect:Kg,useLayoutEffect:Zg,useMemo:Xg,useReducer:uf,useRef:Hg,useState:function(){return uf(gu)},useDebugValue:hf,useDeferredValue:function(r){var s=Ur();return en===null?s.memoizedState=r:Jg(s,en.memoizedState,r)},useTransition:function(){var r=uf(gu)[0],s=Ur().memoizedState;return[r,s]},useMutableSource:Vg,useSyncExternalStore:Fg,useId:e_,unstable_isNewReconciler:!1};function ui(r,s){if(r&&r.defaultProps){s=ue({},s),r=r.defaultProps;for(var c in r)s[c]===void 0&&(s[c]=r[c]);return s}return s}function df(r,s,c,p){s=r.memoizedState,c=c(p,s),c=c==null?s:ue({},s,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var jc={isMounted:function(r){return(r=r._reactInternals)?Kn(r)===r:!1},enqueueSetState:function(r,s,c){r=r._reactInternals;var p=Wn(),v=Rs(r),E=Co(p,v);E.payload=s,c!=null&&(E.callback=c),s=Cs(r,E,v),s!==null&&(di(s,r,v,p),Mc(s,r,v))},enqueueReplaceState:function(r,s,c){r=r._reactInternals;var p=Wn(),v=Rs(r),E=Co(p,v);E.tag=1,E.payload=s,c!=null&&(E.callback=c),s=Cs(r,E,v),s!==null&&(di(s,r,v,p),Mc(s,r,v))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var c=Wn(),p=Rs(r),v=Co(c,p);v.tag=2,s!=null&&(v.callback=s),s=Cs(r,v,p),s!==null&&(di(s,r,p,c),Mc(s,r,p))}};function i_(r,s,c,p,v,E,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,E,R):s.prototype&&s.prototype.isPureReactComponent?!Ii(c,p)||!Ii(v,E):!0}function o_(r,s,c){var p=!1,v=Es,E=s.contextType;return typeof E=="object"&&E!==null?E=jr(E):(v=or(s)?pa:bn.current,p=s.contextTypes,E=(p=p!=null)?rl(r,v):Es),s=new s(c,E),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=jc,r.stateNode=s,s._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=E),s}function s_(r,s,c,p){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==r&&jc.enqueueReplaceState(s,s.state,null)}function ff(r,s,c,p){var v=r.stateNode;v.props=c,v.state=r.memoizedState,v.refs={},Xd(r);var E=s.contextType;typeof E=="object"&&E!==null?v.context=jr(E):(E=or(s)?pa:bn.current,v.context=rl(r,E)),v.state=r.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(df(r,s,E,c),v.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(s=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),s!==v.state&&jc.enqueueReplaceState(v,v.state,null),Nc(r,c,v,p),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function hl(r,s){try{var c="",p=s;do c+=Te(p),p=p.return;while(p);var v=c}catch(E){v=`
Error generating stack: `+E.message+`
`+E.stack}return{value:r,source:s,stack:v,digest:null}}function pf(r,s,c){return{value:r,source:null,stack:c??null,digest:s??null}}function mf(r,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var hT=typeof WeakMap=="function"?WeakMap:Map;function a_(r,s,c){c=Co(-1,c),c.tag=3,c.payload={element:null};var p=s.value;return c.callback=function(){Zc||(Zc=!0,bf=p),mf(r,s)},c}function l_(r,s,c){c=Co(-1,c),c.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var v=s.value;c.payload=function(){return p(v)},c.callback=function(){mf(r,s)}}var E=r.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){mf(r,s),typeof p!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var R=s.stack;this.componentDidCatch(s.value,{componentStack:R!==null?R:""})}),c}function u_(r,s,c){var p=r.pingCache;if(p===null){p=r.pingCache=new hT;var v=new Set;p.set(s,v)}else v=p.get(s),v===void 0&&(v=new Set,p.set(s,v));v.has(c)||(v.add(c),r=ST.bind(null,r,s,c),s.then(r,r))}function c_(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function h_(r,s,c,p,v){return r.mode&1?(r.flags|=65536,r.lanes=v,r):(r===s?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=Co(-1,1),s.tag=2,Cs(c,s,1))),c.lanes|=1),r)}var dT=q.ReactCurrentOwner,sr=!1;function $n(r,s,c,p){s.child=r===null?kg(s,null,c,p):al(s,r.child,c,p)}function d_(r,s,c,p,v){c=c.render;var E=s.ref;return ul(s,v),p=sf(r,s,c,p,E,v),c=af(),r!==null&&!sr?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~v,So(r,s,v)):(bt&&c&&Ud(s),s.flags|=1,$n(r,s,p,v),s.child)}function f_(r,s,c,p,v){if(r===null){var E=c.type;return typeof E=="function"&&!Vf(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=E,p_(r,s,E,p,v)):(r=eh(c.type,null,p,s,s.mode,v),r.ref=s.ref,r.return=s,s.child=r)}if(E=r.child,!(r.lanes&v)){var R=E.memoizedProps;if(c=c.compare,c=c!==null?c:Ii,c(R,p)&&r.ref===s.ref)return So(r,s,v)}return s.flags|=1,r=bs(E,p),r.ref=s.ref,r.return=s,s.child=r}function p_(r,s,c,p,v){if(r!==null){var E=r.memoizedProps;if(Ii(E,p)&&r.ref===s.ref)if(sr=!1,s.pendingProps=p=E,(r.lanes&v)!==0)r.flags&131072&&(sr=!0);else return s.lanes=r.lanes,So(r,s,v)}return gf(r,s,c,p,v)}function m_(r,s,c){var p=s.pendingProps,v=p.children,E=r!==null?r.memoizedState:null;if(p.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(fl,Cr),Cr|=c;else{if(!(c&1073741824))return r=E!==null?E.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Pt(fl,Cr),Cr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:c,Pt(fl,Cr),Cr|=p}else E!==null?(p=E.baseLanes|c,s.memoizedState=null):p=c,Pt(fl,Cr),Cr|=p;return $n(r,s,v,c),s.child}function g_(r,s){var c=s.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function gf(r,s,c,p,v){var E=or(c)?pa:bn.current;return E=rl(s,E),ul(s,v),c=sf(r,s,c,p,E,v),p=af(),r!==null&&!sr?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~v,So(r,s,v)):(bt&&p&&Ud(s),s.flags|=1,$n(r,s,c,v),s.child)}function __(r,s,c,p,v){if(or(c)){var E=!0;Sc(s)}else E=!1;if(ul(s,v),s.stateNode===null)$c(r,s),o_(s,c,p),ff(s,c,p,v),p=!0;else if(r===null){var R=s.stateNode,$=s.memoizedProps;R.props=$;var Q=R.context,se=c.contextType;typeof se=="object"&&se!==null?se=jr(se):(se=or(c)?pa:bn.current,se=rl(s,se));var me=c.getDerivedStateFromProps,_e=typeof me=="function"||typeof R.getSnapshotBeforeUpdate=="function";_e||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==p||Q!==se)&&s_(s,R,p,se),Ts=!1;var pe=s.memoizedState;R.state=pe,Nc(s,p,R,v),Q=s.memoizedState,$!==p||pe!==Q||ir.current||Ts?(typeof me=="function"&&(df(s,c,me,p),Q=s.memoizedState),($=Ts||i_(s,c,$,p,pe,Q,se))?(_e||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(s.flags|=4194308)):(typeof R.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=Q),R.props=p,R.state=Q,R.context=se,p=$):(typeof R.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{R=s.stateNode,Mg(r,s),$=s.memoizedProps,se=s.type===s.elementType?$:ui(s.type,$),R.props=se,_e=s.pendingProps,pe=R.context,Q=c.contextType,typeof Q=="object"&&Q!==null?Q=jr(Q):(Q=or(c)?pa:bn.current,Q=rl(s,Q));var Ce=c.getDerivedStateFromProps;(me=typeof Ce=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==_e||pe!==Q)&&s_(s,R,p,Q),Ts=!1,pe=s.memoizedState,R.state=pe,Nc(s,p,R,v);var Ae=s.memoizedState;$!==_e||pe!==Ae||ir.current||Ts?(typeof Ce=="function"&&(df(s,c,Ce,p),Ae=s.memoizedState),(se=Ts||i_(s,c,se,p,pe,Ae,Q)||!1)?(me||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(p,Ae,Q),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(p,Ae,Q)),typeof R.componentDidUpdate=="function"&&(s.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof R.componentDidUpdate!="function"||$===r.memoizedProps&&pe===r.memoizedState||(s.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===r.memoizedProps&&pe===r.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Ae),R.props=p,R.state=Ae,R.context=Q,p=se):(typeof R.componentDidUpdate!="function"||$===r.memoizedProps&&pe===r.memoizedState||(s.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===r.memoizedProps&&pe===r.memoizedState||(s.flags|=1024),p=!1)}return _f(r,s,c,p,E,v)}function _f(r,s,c,p,v,E){g_(r,s);var R=(s.flags&128)!==0;if(!p&&!R)return v&&xg(s,c,!1),So(r,s,E);p=s.stateNode,dT.current=s;var $=R&&typeof c.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,r!==null&&R?(s.child=al(s,r.child,null,E),s.child=al(s,null,$,E)):$n(r,s,$,E),s.memoizedState=p.state,v&&xg(s,c,!0),s.child}function v_(r){var s=r.stateNode;s.pendingContext?wg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&wg(r,s.context,!1),Jd(r,s.containerInfo)}function y_(r,s,c,p,v){return sl(),Gd(v),s.flags|=256,$n(r,s,c,p),s.child}var vf={dehydrated:null,treeContext:null,retryLane:0};function yf(r){return{baseLanes:r,cachePool:null,transitions:null}}function w_(r,s,c){var p=s.pendingProps,v=Dt.current,E=!1,R=(s.flags&128)!==0,$;if(($=R)||($=r!==null&&r.memoizedState===null?!1:(v&2)!==0),$?(E=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),Pt(Dt,v&1),r===null)return Hd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(R=p.children,r=p.fallback,E?(p=s.mode,E=s.child,R={mode:"hidden",children:R},!(p&1)&&E!==null?(E.childLanes=0,E.pendingProps=R):E=th(R,p,0,null),r=Ca(r,p,c,null),E.return=s,r.return=s,E.sibling=r,s.child=E,s.child.memoizedState=yf(c),s.memoizedState=vf,r):wf(s,R));if(v=r.memoizedState,v!==null&&($=v.dehydrated,$!==null))return fT(r,s,R,p,$,v,c);if(E){E=p.fallback,R=s.mode,v=r.child,$=v.sibling;var Q={mode:"hidden",children:p.children};return!(R&1)&&s.child!==v?(p=s.child,p.childLanes=0,p.pendingProps=Q,s.deletions=null):(p=bs(v,Q),p.subtreeFlags=v.subtreeFlags&14680064),$!==null?E=bs($,E):(E=Ca(E,R,c,null),E.flags|=2),E.return=s,p.return=s,p.sibling=E,s.child=p,p=E,E=s.child,R=r.child.memoizedState,R=R===null?yf(c):{baseLanes:R.baseLanes|c,cachePool:null,transitions:R.transitions},E.memoizedState=R,E.childLanes=r.childLanes&~c,s.memoizedState=vf,p}return E=r.child,r=E.sibling,p=bs(E,{mode:"visible",children:p.children}),!(s.mode&1)&&(p.lanes=c),p.return=s,p.sibling=null,r!==null&&(c=s.deletions,c===null?(s.deletions=[r],s.flags|=16):c.push(r)),s.child=p,s.memoizedState=null,p}function wf(r,s){return s=th({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Uc(r,s,c,p){return p!==null&&Gd(p),al(s,r.child,null,c),r=wf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function fT(r,s,c,p,v,E,R){if(c)return s.flags&256?(s.flags&=-257,p=pf(Error(t(422))),Uc(r,s,R,p)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(E=p.fallback,v=s.mode,p=th({mode:"visible",children:p.children},v,0,null),E=Ca(E,v,R,null),E.flags|=2,p.return=s,E.return=s,p.sibling=E,s.child=p,s.mode&1&&al(s,r.child,null,R),s.child.memoizedState=yf(R),s.memoizedState=vf,E);if(!(s.mode&1))return Uc(r,s,R,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var $=p.dgst;return p=$,E=Error(t(419)),p=pf(E,p,void 0),Uc(r,s,R,p)}if($=(R&r.childLanes)!==0,sr||$){if(p=dn,p!==null){switch(R&-R){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(p.suspendedLanes|R)?0:v,v!==0&&v!==E.retryLane&&(E.retryLane=v,To(r,v),di(p,r,v,-1))}return Of(),p=pf(Error(t(421))),Uc(r,s,R,p)}return v.data==="$?"?(s.flags|=128,s.child=r.child,s=PT.bind(null,r),v._reactRetry=s,null):(r=E.treeContext,Tr=bi(v.nextSibling),xr=s,bt=!0,li=null,r!==null&&(zr[Br++]=Eo,zr[Br++]=xo,zr[Br++]=ma,Eo=r.id,xo=r.overflow,ma=s),s=wf(s,p.children),s.flags|=4096,s)}function E_(r,s,c){r.lanes|=s;var p=r.alternate;p!==null&&(p.lanes|=s),Qd(r.return,s,c)}function Ef(r,s,c,p,v){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:v}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=v)}function x_(r,s,c){var p=s.pendingProps,v=p.revealOrder,E=p.tail;if($n(r,s,p.children,c),p=Dt.current,p&2)p=p&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&E_(r,c,s);else if(r.tag===19)E_(r,c,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(Pt(Dt,p),!(s.mode&1))s.memoizedState=null;else switch(v){case"forwards":for(c=s.child,v=null;c!==null;)r=c.alternate,r!==null&&Dc(r)===null&&(v=c),c=c.sibling;c=v,c===null?(v=s.child,s.child=null):(v=c.sibling,c.sibling=null),Ef(s,!1,v,c,E);break;case"backwards":for(c=null,v=s.child,s.child=null;v!==null;){if(r=v.alternate,r!==null&&Dc(r)===null){s.child=v;break}r=v.sibling,v.sibling=c,c=v,v=r}Ef(s,!0,c,null,E);break;case"together":Ef(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $c(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function So(r,s,c){if(r!==null&&(s.dependencies=r.dependencies),wa|=s.lanes,!(c&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,c=bs(r,r.pendingProps),s.child=c,c.return=s;r.sibling!==null;)r=r.sibling,c=c.sibling=bs(r,r.pendingProps),c.return=s;c.sibling=null}return s.child}function pT(r,s,c){switch(s.tag){case 3:v_(s),sl();break;case 5:Og(s);break;case 1:or(s.type)&&Sc(s);break;case 4:Jd(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,v=s.memoizedProps.value;Pt(kc,p._currentValue),p._currentValue=v;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(Pt(Dt,Dt.current&1),s.flags|=128,null):c&s.child.childLanes?w_(r,s,c):(Pt(Dt,Dt.current&1),r=So(r,s,c),r!==null?r.sibling:null);Pt(Dt,Dt.current&1);break;case 19:if(p=(c&s.childLanes)!==0,r.flags&128){if(p)return x_(r,s,c);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Pt(Dt,Dt.current),p)break;return null;case 22:case 23:return s.lanes=0,m_(r,s,c)}return So(r,s,c)}var T_,xf,C_,S_;T_=function(r,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},xf=function(){},C_=function(r,s,c,p){var v=r.memoizedProps;if(v!==p){r=s.stateNode,va(ki.current);var E=null;switch(c){case"input":v=Rr(r,v),p=Rr(r,p),E=[];break;case"select":v=ue({},v,{value:void 0}),p=ue({},p,{value:void 0}),E=[];break;case"textarea":v=Vo(r,v),p=Vo(r,p),E=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=fe)}ea(c,p);var R;c=null;for(se in v)if(!p.hasOwnProperty(se)&&v.hasOwnProperty(se)&&v[se]!=null)if(se==="style"){var $=v[se];for(R in $)$.hasOwnProperty(R)&&(c||(c={}),c[R]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(a.hasOwnProperty(se)?E||(E=[]):(E=E||[]).push(se,null));for(se in p){var Q=p[se];if($=v!=null?v[se]:void 0,p.hasOwnProperty(se)&&Q!==$&&(Q!=null||$!=null))if(se==="style")if($){for(R in $)!$.hasOwnProperty(R)||Q&&Q.hasOwnProperty(R)||(c||(c={}),c[R]="");for(R in Q)Q.hasOwnProperty(R)&&$[R]!==Q[R]&&(c||(c={}),c[R]=Q[R])}else c||(E||(E=[]),E.push(se,c)),c=Q;else se==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,$=$?$.__html:void 0,Q!=null&&$!==Q&&(E=E||[]).push(se,Q)):se==="children"?typeof Q!="string"&&typeof Q!="number"||(E=E||[]).push(se,""+Q):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(a.hasOwnProperty(se)?(Q!=null&&se==="onScroll"&&Et("scroll",r),E||$===Q||(E=[])):(E=E||[]).push(se,Q))}c&&(E=E||[]).push("style",c);var se=E;(s.updateQueue=se)&&(s.flags|=4)}},S_=function(r,s,c,p){c!==p&&(s.flags|=4)};function vu(r,s){if(!bt)switch(r.tailMode){case"hidden":s=r.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function Ln(r){var s=r.alternate!==null&&r.alternate.child===r.child,c=0,p=0;if(s)for(var v=r.child;v!==null;)c|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)c|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=p,r.childLanes=c,s}function mT(r,s,c){var p=s.pendingProps;switch($d(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(s),null;case 1:return or(s.type)&&Cc(),Ln(s),null;case 3:return p=s.stateNode,cl(),It(ir),It(bn),nf(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(Ac(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,li!==null&&(Mf(li),li=null))),xf(r,s),Ln(s),null;case 5:ef(s);var v=va(fu.current);if(c=s.type,r!==null&&s.stateNode!=null)C_(r,s,c,p,v),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(t(166));return Ln(s),null}if(r=va(ki.current),Ac(s)){p=s.stateNode,c=s.type;var E=s.memoizedProps;switch(p[Fr]=s,p[vs]=E,r=(s.mode&1)!==0,c){case"dialog":Et("cancel",p),Et("close",p);break;case"iframe":case"object":case"embed":Et("load",p);break;case"video":case"audio":for(v=0;v<ms.length;v++)Et(ms[v],p);break;case"source":Et("error",p);break;case"img":case"image":case"link":Et("error",p),Et("load",p);break;case"details":Et("toggle",p);break;case"input":Zr(p,E),Et("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},Et("invalid",p);break;case"textarea":Gi(p,E),Et("invalid",p)}ea(c,E),v=null;for(var R in E)if(E.hasOwnProperty(R)){var $=E[R];R==="children"?typeof $=="string"?p.textContent!==$&&(E.suppressHydrationWarning!==!0&&oe(p.textContent,$,r),v=["children",$]):typeof $=="number"&&p.textContent!==""+$&&(E.suppressHydrationWarning!==!0&&oe(p.textContent,$,r),v=["children",""+$]):a.hasOwnProperty(R)&&$!=null&&R==="onScroll"&&Et("scroll",p)}switch(c){case"input":Tn(p),Qr(p,E,!0);break;case"textarea":Tn(p),Xs(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=fe)}p=v,s.updateQueue=p,p!==null&&(s.flags|=4)}else{R=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Lt(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=R.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=R.createElement(c,{is:p.is}):(r=R.createElement(c),c==="select"&&(R=r,p.multiple?R.multiple=!0:p.size&&(R.size=p.size))):r=R.createElementNS(r,c),r[Fr]=s,r[vs]=p,T_(r,s,!1,!1),s.stateNode=r;e:{switch(R=Xr(c,p),c){case"dialog":Et("cancel",r),Et("close",r),v=p;break;case"iframe":case"object":case"embed":Et("load",r),v=p;break;case"video":case"audio":for(v=0;v<ms.length;v++)Et(ms[v],r);v=p;break;case"source":Et("error",r),v=p;break;case"img":case"image":case"link":Et("error",r),Et("load",r),v=p;break;case"details":Et("toggle",r),v=p;break;case"input":Zr(r,p),v=Rr(r,p),Et("invalid",r);break;case"option":v=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},v=ue({},p,{value:void 0}),Et("invalid",r);break;case"textarea":Gi(r,p),v=Vo(r,p),Et("invalid",r);break;default:v=p}ea(c,v),$=v;for(E in $)if($.hasOwnProperty(E)){var Q=$[E];E==="style"?Zi(r,Q):E==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Js(r,Q)):E==="children"?typeof Q=="string"?(c!=="textarea"||Q!=="")&&Yr(r,Q):typeof Q=="number"&&Yr(r,""+Q):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(a.hasOwnProperty(E)?Q!=null&&E==="onScroll"&&Et("scroll",r):Q!=null&&Y(r,E,Q,R))}switch(c){case"input":Tn(r),Qr(r,p,!1);break;case"textarea":Tn(r),Xs(r);break;case"option":p.value!=null&&r.setAttribute("value",""+Ze(p.value));break;case"select":r.multiple=!!p.multiple,E=p.value,E!=null?fr(r,!!p.multiple,E,!1):p.defaultValue!=null&&fr(r,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=fe)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ln(s),null;case 6:if(r&&s.stateNode!=null)S_(r,s,r.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(t(166));if(c=va(fu.current),va(ki.current),Ac(s)){if(p=s.stateNode,c=s.memoizedProps,p[Fr]=s,(E=p.nodeValue!==c)&&(r=xr,r!==null))switch(r.tag){case 3:oe(p.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&oe(p.nodeValue,c,(r.mode&1)!==0)}E&&(s.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Fr]=s,s.stateNode=p}return Ln(s),null;case 13:if(It(Dt),p=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(bt&&Tr!==null&&s.mode&1&&!(s.flags&128))Rg(),sl(),s.flags|=98560,E=!1;else if(E=Ac(s),p!==null&&p.dehydrated!==null){if(r===null){if(!E)throw Error(t(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Fr]=s}else sl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ln(s),E=!1}else li!==null&&(Mf(li),li=null),E=!0;if(!E)return s.flags&65536?s:null}return s.flags&128?(s.lanes=c,s):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(s.child.flags|=8192,s.mode&1&&(r===null||Dt.current&1?tn===0&&(tn=3):Of())),s.updateQueue!==null&&(s.flags|=4),Ln(s),null);case 4:return cl(),xf(r,s),r===null&&gs(s.stateNode.containerInfo),Ln(s),null;case 10:return qd(s.type._context),Ln(s),null;case 17:return or(s.type)&&Cc(),Ln(s),null;case 19:if(It(Dt),E=s.memoizedState,E===null)return Ln(s),null;if(p=(s.flags&128)!==0,R=E.rendering,R===null)if(p)vu(E,!1);else{if(tn!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(R=Dc(r),R!==null){for(s.flags|=128,vu(E,!1),p=R.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=c,c=s.child;c!==null;)E=c,r=p,E.flags&=14680066,R=E.alternate,R===null?(E.childLanes=0,E.lanes=r,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=R.childLanes,E.lanes=R.lanes,E.child=R.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=R.memoizedProps,E.memoizedState=R.memoizedState,E.updateQueue=R.updateQueue,E.type=R.type,r=R.dependencies,E.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return Pt(Dt,Dt.current&1|2),s.child}r=r.sibling}E.tail!==null&&wt()>pl&&(s.flags|=128,p=!0,vu(E,!1),s.lanes=4194304)}else{if(!p)if(r=Dc(R),r!==null){if(s.flags|=128,p=!0,c=r.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),vu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!R.alternate&&!bt)return Ln(s),null}else 2*wt()-E.renderingStartTime>pl&&c!==1073741824&&(s.flags|=128,p=!0,vu(E,!1),s.lanes=4194304);E.isBackwards?(R.sibling=s.child,s.child=R):(c=E.last,c!==null?c.sibling=R:s.child=R,E.last=R)}return E.tail!==null?(s=E.tail,E.rendering=s,E.tail=s.sibling,E.renderingStartTime=wt(),s.sibling=null,c=Dt.current,Pt(Dt,p?c&1|2:c&1),s):(Ln(s),null);case 22:case 23:return Df(),p=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(s.flags|=8192),p&&s.mode&1?Cr&1073741824&&(Ln(s),s.subtreeFlags&6&&(s.flags|=8192)):Ln(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function gT(r,s){switch($d(s),s.tag){case 1:return or(s.type)&&Cc(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return cl(),It(ir),It(bn),nf(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return ef(s),null;case 13:if(It(Dt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));sl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return It(Dt),null;case 4:return cl(),null;case 10:return qd(s.type._context),null;case 22:case 23:return Df(),null;case 24:return null;default:return null}}var Wc=!1,Mn=!1,_T=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function dl(r,s){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Ut(r,s,p)}else c.current=null}function Tf(r,s,c){try{c()}catch(p){Ut(r,s,p)}}var P_=!1;function vT(r,s){if(xe=ni,r=tu(),nu(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var v=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var R=0,$=-1,Q=-1,se=0,me=0,_e=r,pe=null;t:for(;;){for(var Ce;_e!==c||v!==0&&_e.nodeType!==3||($=R+v),_e!==E||p!==0&&_e.nodeType!==3||(Q=R+p),_e.nodeType===3&&(R+=_e.nodeValue.length),(Ce=_e.firstChild)!==null;)pe=_e,_e=Ce;for(;;){if(_e===r)break t;if(pe===c&&++se===v&&($=R),pe===E&&++me===p&&(Q=R),(Ce=_e.nextSibling)!==null)break;_e=pe,pe=_e.parentNode}_e=Ce}c=$===-1||Q===-1?null:{start:$,end:Q}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ve={focusedElem:r,selectionRange:c},ni=!1,Ie=s;Ie!==null;)if(s=Ie,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Ie=r;else for(;Ie!==null;){s=Ie;try{var Ae=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Le=Ae.memoizedProps,Wt=Ae.memoizedState,re=s.stateNode,X=re.getSnapshotBeforeUpdate(s.elementType===s.type?Le:ui(s.type,Le),Wt);re.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ie=s.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ve){Ut(s,s.return,ve)}if(r=s.sibling,r!==null){r.return=s.return,Ie=r;break}Ie=s.return}return Ae=P_,P_=!1,Ae}function yu(r,s,c){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&r)===r){var E=v.destroy;v.destroy=void 0,E!==void 0&&Tf(s,c,E)}v=v.next}while(v!==p)}}function Hc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&r)===r){var p=c.create;c.destroy=p()}c=c.next}while(c!==s)}}function Cf(r){var s=r.ref;if(s!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof s=="function"?s(r):s.current=r}}function I_(r){var s=r.alternate;s!==null&&(r.alternate=null,I_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Fr],delete s[vs],delete s[ys],delete s[Fd],delete s[zd])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function R_(r){return r.tag===5||r.tag===3||r.tag===4}function A_(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||R_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sf(r,s,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(r,s):c.insertBefore(r,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(r,c)):(s=c,s.appendChild(r)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=fe));else if(p!==4&&(r=r.child,r!==null))for(Sf(r,s,c),r=r.sibling;r!==null;)Sf(r,s,c),r=r.sibling}function Pf(r,s,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,s?c.insertBefore(r,s):c.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(Pf(r,s,c),r=r.sibling;r!==null;)Pf(r,s,c),r=r.sibling}var vn=null,ci=!1;function Ss(r,s,c){for(c=c.child;c!==null;)b_(r,s,c),c=c.sibling}function b_(r,s,c){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Ei,c)}catch{}switch(c.tag){case 5:Mn||dl(c,s);case 6:var p=vn,v=ci;vn=null,Ss(r,s,c),vn=p,ci=v,vn!==null&&(ci?(r=vn,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):vn.removeChild(c.stateNode));break;case 18:vn!==null&&(ci?(r=vn,c=c.stateNode,r.nodeType===8?uu(r.parentNode,c):r.nodeType===1&&uu(r,c),Xt(r)):uu(vn,c.stateNode));break;case 4:p=vn,v=ci,vn=c.stateNode.containerInfo,ci=!0,Ss(r,s,c),vn=p,ci=v;break;case 0:case 11:case 14:case 15:if(!Mn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var E=v,R=E.destroy;E=E.tag,R!==void 0&&(E&2||E&4)&&Tf(c,s,R),v=v.next}while(v!==p)}Ss(r,s,c);break;case 1:if(!Mn&&(dl(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch($){Ut(c,s,$)}Ss(r,s,c);break;case 21:Ss(r,s,c);break;case 22:c.mode&1?(Mn=(p=Mn)||c.memoizedState!==null,Ss(r,s,c),Mn=p):Ss(r,s,c);break;default:Ss(r,s,c)}}function k_(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new _T),s.forEach(function(p){var v=IT.bind(null,r,p);c.has(p)||(c.add(p),p.then(v,v))})}}function hi(r,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];try{var E=r,R=s,$=R;e:for(;$!==null;){switch($.tag){case 5:vn=$.stateNode,ci=!1;break e;case 3:vn=$.stateNode.containerInfo,ci=!0;break e;case 4:vn=$.stateNode.containerInfo,ci=!0;break e}$=$.return}if(vn===null)throw Error(t(160));b_(E,R,v),vn=null,ci=!1;var Q=v.alternate;Q!==null&&(Q.return=null),v.return=null}catch(se){Ut(v,s,se)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)L_(s,r),s=s.sibling}function L_(r,s){var c=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(hi(s,r),Mi(r),p&4){try{yu(3,r,r.return),Hc(3,r)}catch(Le){Ut(r,r.return,Le)}try{yu(5,r,r.return)}catch(Le){Ut(r,r.return,Le)}}break;case 1:hi(s,r),Mi(r),p&512&&c!==null&&dl(c,c.return);break;case 5:if(hi(s,r),Mi(r),p&512&&c!==null&&dl(c,c.return),r.flags&32){var v=r.stateNode;try{Yr(v,"")}catch(Le){Ut(r,r.return,Le)}}if(p&4&&(v=r.stateNode,v!=null)){var E=r.memoizedProps,R=c!==null?c.memoizedProps:E,$=r.type,Q=r.updateQueue;if(r.updateQueue=null,Q!==null)try{$==="input"&&E.type==="radio"&&E.name!=null&&_i(v,E),Xr($,R);var se=Xr($,E);for(R=0;R<Q.length;R+=2){var me=Q[R],_e=Q[R+1];me==="style"?Zi(v,_e):me==="dangerouslySetInnerHTML"?Js(v,_e):me==="children"?Yr(v,_e):Y(v,me,_e,se)}switch($){case"input":qr(v,E);break;case"textarea":Fo(v,E);break;case"select":var pe=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!E.multiple;var Ce=E.value;Ce!=null?fr(v,!!E.multiple,Ce,!1):pe!==!!E.multiple&&(E.defaultValue!=null?fr(v,!!E.multiple,E.defaultValue,!0):fr(v,!!E.multiple,E.multiple?[]:"",!1))}v[vs]=E}catch(Le){Ut(r,r.return,Le)}}break;case 6:if(hi(s,r),Mi(r),p&4){if(r.stateNode===null)throw Error(t(162));v=r.stateNode,E=r.memoizedProps;try{v.nodeValue=E}catch(Le){Ut(r,r.return,Le)}}break;case 3:if(hi(s,r),Mi(r),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Xt(s.containerInfo)}catch(Le){Ut(r,r.return,Le)}break;case 4:hi(s,r),Mi(r);break;case 13:hi(s,r),Mi(r),v=r.child,v.flags&8192&&(E=v.memoizedState!==null,v.stateNode.isHidden=E,!E||v.alternate!==null&&v.alternate.memoizedState!==null||(Af=wt())),p&4&&k_(r);break;case 22:if(me=c!==null&&c.memoizedState!==null,r.mode&1?(Mn=(se=Mn)||me,hi(s,r),Mn=se):hi(s,r),Mi(r),p&8192){if(se=r.memoizedState!==null,(r.stateNode.isHidden=se)&&!me&&r.mode&1)for(Ie=r,me=r.child;me!==null;){for(_e=Ie=me;Ie!==null;){switch(pe=Ie,Ce=pe.child,pe.tag){case 0:case 11:case 14:case 15:yu(4,pe,pe.return);break;case 1:dl(pe,pe.return);var Ae=pe.stateNode;if(typeof Ae.componentWillUnmount=="function"){p=pe,c=pe.return;try{s=p,Ae.props=s.memoizedProps,Ae.state=s.memoizedState,Ae.componentWillUnmount()}catch(Le){Ut(p,c,Le)}}break;case 5:dl(pe,pe.return);break;case 22:if(pe.memoizedState!==null){D_(_e);continue}}Ce!==null?(Ce.return=pe,Ie=Ce):D_(_e)}me=me.sibling}e:for(me=null,_e=r;;){if(_e.tag===5){if(me===null){me=_e;try{v=_e.stateNode,se?(E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):($=_e.stateNode,Q=_e.memoizedProps.style,R=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,$.style.display=zo("display",R))}catch(Le){Ut(r,r.return,Le)}}}else if(_e.tag===6){if(me===null)try{_e.stateNode.nodeValue=se?"":_e.memoizedProps}catch(Le){Ut(r,r.return,Le)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===r)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===r)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===r)break e;me===_e&&(me=null),_e=_e.return}me===_e&&(me=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:hi(s,r),Mi(r),p&4&&k_(r);break;case 21:break;default:hi(s,r),Mi(r)}}function Mi(r){var s=r.flags;if(s&2){try{e:{for(var c=r.return;c!==null;){if(R_(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(Yr(v,""),p.flags&=-33);var E=A_(r);Pf(r,E,v);break;case 3:case 4:var R=p.stateNode.containerInfo,$=A_(r);Sf(r,$,R);break;default:throw Error(t(161))}}catch(Q){Ut(r,r.return,Q)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function yT(r,s,c){Ie=r,M_(r)}function M_(r,s,c){for(var p=(r.mode&1)!==0;Ie!==null;){var v=Ie,E=v.child;if(v.tag===22&&p){var R=v.memoizedState!==null||Wc;if(!R){var $=v.alternate,Q=$!==null&&$.memoizedState!==null||Mn;$=Wc;var se=Mn;if(Wc=R,(Mn=Q)&&!se)for(Ie=v;Ie!==null;)R=Ie,Q=R.child,R.tag===22&&R.memoizedState!==null?O_(v):Q!==null?(Q.return=R,Ie=Q):O_(v);for(;E!==null;)Ie=E,M_(E),E=E.sibling;Ie=v,Wc=$,Mn=se}N_(r)}else v.subtreeFlags&8772&&E!==null?(E.return=v,Ie=E):N_(r)}}function N_(r){for(;Ie!==null;){var s=Ie;if(s.flags&8772){var c=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Mn||Hc(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!Mn)if(c===null)p.componentDidMount();else{var v=s.elementType===s.type?c.memoizedProps:ui(s.type,c.memoizedProps);p.componentDidUpdate(v,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=s.updateQueue;E!==null&&Dg(s,E,p);break;case 3:var R=s.updateQueue;if(R!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}Dg(s,R,c)}break;case 5:var $=s.stateNode;if(c===null&&s.flags&4){c=$;var Q=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&c.focus();break;case"img":Q.src&&(c.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var se=s.alternate;if(se!==null){var me=se.memoizedState;if(me!==null){var _e=me.dehydrated;_e!==null&&Xt(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mn||s.flags&512&&Cf(s)}catch(pe){Ut(s,s.return,pe)}}if(s===r){Ie=null;break}if(c=s.sibling,c!==null){c.return=s.return,Ie=c;break}Ie=s.return}}function D_(r){for(;Ie!==null;){var s=Ie;if(s===r){Ie=null;break}var c=s.sibling;if(c!==null){c.return=s.return,Ie=c;break}Ie=s.return}}function O_(r){for(;Ie!==null;){var s=Ie;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{Hc(4,s)}catch(Q){Ut(s,c,Q)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var v=s.return;try{p.componentDidMount()}catch(Q){Ut(s,v,Q)}}var E=s.return;try{Cf(s)}catch(Q){Ut(s,E,Q)}break;case 5:var R=s.return;try{Cf(s)}catch(Q){Ut(s,R,Q)}}}catch(Q){Ut(s,s.return,Q)}if(s===r){Ie=null;break}var $=s.sibling;if($!==null){$.return=s.return,Ie=$;break}Ie=s.return}}var wT=Math.ceil,Gc=q.ReactCurrentDispatcher,If=q.ReactCurrentOwner,$r=q.ReactCurrentBatchConfig,ut=0,dn=null,Qt=null,yn=0,Cr=0,fl=ws(0),tn=0,wu=null,wa=0,Kc=0,Rf=0,Eu=null,ar=null,Af=0,pl=1/0,Po=null,Zc=!1,bf=null,Ps=null,qc=!1,Is=null,Qc=0,xu=0,kf=null,Yc=-1,Xc=0;function Wn(){return ut&6?wt():Yc!==-1?Yc:Yc=wt()}function Rs(r){return r.mode&1?ut&2&&yn!==0?yn&-yn:rT.transition!==null?(Xc===0&&(Xc=io()),Xc):(r=Je,r!==0||(r=window.event,r=r===void 0?16:tt(r.type)),r):1}function di(r,s,c,p){if(50<xu)throw xu=0,kf=null,Error(t(185));Sn(r,c,p),(!(ut&2)||r!==dn)&&(r===dn&&(!(ut&2)&&(Kc|=c),tn===4&&As(r,yn)),lr(r,p),c===1&&ut===0&&!(s.mode&1)&&(pl=wt()+500,Pc&&xs()))}function lr(r,s){var c=r.callbackNode;Yn(r,s);var p=_t(r,r===dn?yn:0);if(p===0)c!==null&&Zo(c),r.callbackNode=null,r.callbackPriority=0;else if(s=p&-p,r.callbackPriority!==s){if(c!=null&&Zo(c),s===1)r.tag===0?nT(F_.bind(null,r)):Tg(F_.bind(null,r)),An(function(){!(ut&6)&&xs()}),c=null;else{switch(Xn(p)){case 1:c=to;break;case 4:c=yi;break;case 16:c=Qn;break;case 536870912:c=wi;break;default:c=Qn}c=G_(c,V_.bind(null,r))}r.callbackPriority=s,r.callbackNode=c}}function V_(r,s){if(Yc=-1,Xc=0,ut&6)throw Error(t(327));var c=r.callbackNode;if(ml()&&r.callbackNode!==c)return null;var p=_t(r,r===dn?yn:0);if(p===0)return null;if(p&30||p&r.expiredLanes||s)s=Jc(r,p);else{s=p;var v=ut;ut|=2;var E=B_();(dn!==r||yn!==s)&&(Po=null,pl=wt()+500,xa(r,s));do try{TT();break}catch($){z_(r,$)}while(!0);Zd(),Gc.current=E,ut=v,Qt!==null?s=0:(dn=null,yn=0,s=tn)}if(s!==0){if(s===2&&(v=Ct(r),v!==0&&(p=v,s=Lf(r,v))),s===1)throw c=wu,xa(r,0),As(r,p),lr(r,wt()),c;if(s===6)As(r,p);else{if(v=r.current.alternate,!(p&30)&&!ET(v)&&(s=Jc(r,p),s===2&&(E=Ct(r),E!==0&&(p=E,s=Lf(r,E))),s===1))throw c=wu,xa(r,0),As(r,p),lr(r,wt()),c;switch(r.finishedWork=v,r.finishedLanes=p,s){case 0:case 1:throw Error(t(345));case 2:Ta(r,ar,Po);break;case 3:if(As(r,p),(p&130023424)===p&&(s=Af+500-wt(),10<s)){if(_t(r,0)!==0)break;if(v=r.suspendedLanes,(v&p)!==p){Wn(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=Jt(Ta.bind(null,r,ar,Po),s);break}Ta(r,ar,Po);break;case 4:if(As(r,p),(p&4194240)===p)break;for(s=r.eventTimes,v=-1;0<p;){var R=31-We(p);E=1<<R,R=s[R],R>v&&(v=R),p&=~E}if(p=v,p=wt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*wT(p/1960))-p,10<p){r.timeoutHandle=Jt(Ta.bind(null,r,ar,Po),p);break}Ta(r,ar,Po);break;case 5:Ta(r,ar,Po);break;default:throw Error(t(329))}}}return lr(r,wt()),r.callbackNode===c?V_.bind(null,r):null}function Lf(r,s){var c=Eu;return r.current.memoizedState.isDehydrated&&(xa(r,s).flags|=256),r=Jc(r,s),r!==2&&(s=ar,ar=c,s!==null&&Mf(s)),r}function Mf(r){ar===null?ar=r:ar.push.apply(ar,r)}function ET(r){for(var s=r;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var v=c[p],E=v.getSnapshot;v=v.value;try{if(!wr(E(),v))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function As(r,s){for(s&=~Rf,s&=~Kc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var c=31-We(s),p=1<<c;r[c]=-1,s&=~p}}function F_(r){if(ut&6)throw Error(t(327));ml();var s=_t(r,0);if(!(s&1))return lr(r,wt()),null;var c=Jc(r,s);if(r.tag!==0&&c===2){var p=Ct(r);p!==0&&(s=p,c=Lf(r,p))}if(c===1)throw c=wu,xa(r,0),As(r,s),lr(r,wt()),c;if(c===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ta(r,ar,Po),lr(r,wt()),null}function Nf(r,s){var c=ut;ut|=1;try{return r(s)}finally{ut=c,ut===0&&(pl=wt()+500,Pc&&xs())}}function Ea(r){Is!==null&&Is.tag===0&&!(ut&6)&&ml();var s=ut;ut|=1;var c=$r.transition,p=Je;try{if($r.transition=null,Je=1,r)return r()}finally{Je=p,$r.transition=c,ut=s,!(ut&6)&&xs()}}function Df(){Cr=fl.current,It(fl)}function xa(r,s){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,qt(c)),Qt!==null)for(c=Qt.return;c!==null;){var p=c;switch($d(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Cc();break;case 3:cl(),It(ir),It(bn),nf();break;case 5:ef(p);break;case 4:cl();break;case 13:It(Dt);break;case 19:It(Dt);break;case 10:qd(p.type._context);break;case 22:case 23:Df()}c=c.return}if(dn=r,Qt=r=bs(r.current,null),yn=Cr=s,tn=0,wu=null,Rf=Kc=wa=0,ar=Eu=null,_a!==null){for(s=0;s<_a.length;s++)if(c=_a[s],p=c.interleaved,p!==null){c.interleaved=null;var v=p.next,E=c.pending;if(E!==null){var R=E.next;E.next=v,p.next=R}c.pending=p}_a=null}return r}function z_(r,s){do{var c=Qt;try{if(Zd(),Oc.current=Bc,Vc){for(var p=Ot.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Vc=!1}if(ya=0,hn=en=Ot=null,pu=!1,mu=0,If.current=null,c===null||c.return===null){tn=1,wu=s,Qt=null;break}e:{var E=r,R=c.return,$=c,Q=s;if(s=yn,$.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var se=Q,me=$,_e=me.tag;if(!(me.mode&1)&&(_e===0||_e===11||_e===15)){var pe=me.alternate;pe?(me.updateQueue=pe.updateQueue,me.memoizedState=pe.memoizedState,me.lanes=pe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ce=c_(R);if(Ce!==null){Ce.flags&=-257,h_(Ce,R,$,E,s),Ce.mode&1&&u_(E,se,s),s=Ce,Q=se;var Ae=s.updateQueue;if(Ae===null){var Le=new Set;Le.add(Q),s.updateQueue=Le}else Ae.add(Q);break e}else{if(!(s&1)){u_(E,se,s),Of();break e}Q=Error(t(426))}}else if(bt&&$.mode&1){var Wt=c_(R);if(Wt!==null){!(Wt.flags&65536)&&(Wt.flags|=256),h_(Wt,R,$,E,s),Gd(hl(Q,$));break e}}E=Q=hl(Q,$),tn!==4&&(tn=2),Eu===null?Eu=[E]:Eu.push(E),E=R;do{switch(E.tag){case 3:E.flags|=65536,s&=-s,E.lanes|=s;var re=a_(E,Q,s);Ng(E,re);break e;case 1:$=Q;var X=E.type,ie=E.stateNode;if(!(E.flags&128)&&(typeof X.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Ps===null||!Ps.has(ie)))){E.flags|=65536,s&=-s,E.lanes|=s;var ve=l_(E,$,s);Ng(E,ve);break e}}E=E.return}while(E!==null)}U_(c)}catch(Me){s=Me,Qt===c&&c!==null&&(Qt=c=c.return);continue}break}while(!0)}function B_(){var r=Gc.current;return Gc.current=Bc,r===null?Bc:r}function Of(){(tn===0||tn===3||tn===2)&&(tn=4),dn===null||!(wa&268435455)&&!(Kc&268435455)||As(dn,yn)}function Jc(r,s){var c=ut;ut|=2;var p=B_();(dn!==r||yn!==s)&&(Po=null,xa(r,s));do try{xT();break}catch(v){z_(r,v)}while(!0);if(Zd(),ut=c,Gc.current=p,Qt!==null)throw Error(t(261));return dn=null,yn=0,tn}function xT(){for(;Qt!==null;)j_(Qt)}function TT(){for(;Qt!==null&&!za();)j_(Qt)}function j_(r){var s=H_(r.alternate,r,Cr);r.memoizedProps=r.pendingProps,s===null?U_(r):Qt=s,If.current=null}function U_(r){var s=r;do{var c=s.alternate;if(r=s.return,s.flags&32768){if(c=gT(c,s),c!==null){c.flags&=32767,Qt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{tn=6,Qt=null;return}}else if(c=mT(c,s,Cr),c!==null){Qt=c;return}if(s=s.sibling,s!==null){Qt=s;return}Qt=s=r}while(s!==null);tn===0&&(tn=5)}function Ta(r,s,c){var p=Je,v=$r.transition;try{$r.transition=null,Je=1,CT(r,s,c,p)}finally{$r.transition=v,Je=p}return null}function CT(r,s,c,p){do ml();while(Is!==null);if(ut&6)throw Error(t(327));c=r.finishedWork;var v=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var E=c.lanes|c.childLanes;if(He(r,E),r===dn&&(Qt=dn=null,yn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||qc||(qc=!0,G_(Qn,function(){return ml(),null})),E=(c.flags&15990)!==0,c.subtreeFlags&15990||E){E=$r.transition,$r.transition=null;var R=Je;Je=1;var $=ut;ut|=4,If.current=null,vT(r,c),L_(c,r),Or(Ve),ni=!!xe,Ve=xe=null,r.current=c,yT(c),qo(),ut=$,Je=R,$r.transition=E}else r.current=c;if(qc&&(qc=!1,Is=r,Qc=v),E=r.pendingLanes,E===0&&(Ps=null),xi(c.stateNode),lr(r,wt()),s!==null)for(p=r.onRecoverableError,c=0;c<s.length;c++)v=s[c],p(v.value,{componentStack:v.stack,digest:v.digest});if(Zc)throw Zc=!1,r=bf,bf=null,r;return Qc&1&&r.tag!==0&&ml(),E=r.pendingLanes,E&1?r===kf?xu++:(xu=0,kf=r):xu=0,xs(),null}function ml(){if(Is!==null){var r=Xn(Qc),s=$r.transition,c=Je;try{if($r.transition=null,Je=16>r?16:r,Is===null)var p=!1;else{if(r=Is,Is=null,Qc=0,ut&6)throw Error(t(331));var v=ut;for(ut|=4,Ie=r.current;Ie!==null;){var E=Ie,R=E.child;if(Ie.flags&16){var $=E.deletions;if($!==null){for(var Q=0;Q<$.length;Q++){var se=$[Q];for(Ie=se;Ie!==null;){var me=Ie;switch(me.tag){case 0:case 11:case 15:yu(8,me,E)}var _e=me.child;if(_e!==null)_e.return=me,Ie=_e;else for(;Ie!==null;){me=Ie;var pe=me.sibling,Ce=me.return;if(I_(me),me===se){Ie=null;break}if(pe!==null){pe.return=Ce,Ie=pe;break}Ie=Ce}}}var Ae=E.alternate;if(Ae!==null){var Le=Ae.child;if(Le!==null){Ae.child=null;do{var Wt=Le.sibling;Le.sibling=null,Le=Wt}while(Le!==null)}}Ie=E}}if(E.subtreeFlags&2064&&R!==null)R.return=E,Ie=R;else e:for(;Ie!==null;){if(E=Ie,E.flags&2048)switch(E.tag){case 0:case 11:case 15:yu(9,E,E.return)}var re=E.sibling;if(re!==null){re.return=E.return,Ie=re;break e}Ie=E.return}}var X=r.current;for(Ie=X;Ie!==null;){R=Ie;var ie=R.child;if(R.subtreeFlags&2064&&ie!==null)ie.return=R,Ie=ie;else e:for(R=X;Ie!==null;){if($=Ie,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:Hc(9,$)}}catch(Me){Ut($,$.return,Me)}if($===R){Ie=null;break e}var ve=$.sibling;if(ve!==null){ve.return=$.return,Ie=ve;break e}Ie=$.return}}if(ut=v,xs(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Ei,r)}catch{}p=!0}return p}finally{Je=c,$r.transition=s}}return!1}function $_(r,s,c){s=hl(c,s),s=a_(r,s,1),r=Cs(r,s,1),s=Wn(),r!==null&&(Sn(r,1,s),lr(r,s))}function Ut(r,s,c){if(r.tag===3)$_(r,r,c);else for(;s!==null;){if(s.tag===3){$_(s,r,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ps===null||!Ps.has(p))){r=hl(c,r),r=l_(s,r,1),s=Cs(s,r,1),r=Wn(),s!==null&&(Sn(s,1,r),lr(s,r));break}}s=s.return}}function ST(r,s,c){var p=r.pingCache;p!==null&&p.delete(s),s=Wn(),r.pingedLanes|=r.suspendedLanes&c,dn===r&&(yn&c)===c&&(tn===4||tn===3&&(yn&130023424)===yn&&500>wt()-Af?xa(r,0):Rf|=c),lr(r,s)}function W_(r,s){s===0&&(r.mode&1?(s=Ti,Ti<<=1,!(Ti&130023424)&&(Ti=4194304)):s=1);var c=Wn();r=To(r,s),r!==null&&(Sn(r,s,c),lr(r,c))}function PT(r){var s=r.memoizedState,c=0;s!==null&&(c=s.retryLane),W_(r,c)}function IT(r,s){var c=0;switch(r.tag){case 13:var p=r.stateNode,v=r.memoizedState;v!==null&&(c=v.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(s),W_(r,c)}var H_;H_=function(r,s,c){if(r!==null)if(r.memoizedProps!==s.pendingProps||ir.current)sr=!0;else{if(!(r.lanes&c)&&!(s.flags&128))return sr=!1,pT(r,s,c);sr=!!(r.flags&131072)}else sr=!1,bt&&s.flags&1048576&&Cg(s,Rc,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;$c(r,s),r=s.pendingProps;var v=rl(s,bn.current);ul(s,c),v=sf(null,s,p,r,v,c);var E=af();return s.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,or(p)?(E=!0,Sc(s)):E=!1,s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Xd(s),v.updater=jc,s.stateNode=v,v._reactInternals=s,ff(s,p,r,c),s=_f(null,s,p,!0,E,c)):(s.tag=0,bt&&E&&Ud(s),$n(null,s,v,c),s=s.child),s;case 16:p=s.elementType;e:{switch($c(r,s),r=s.pendingProps,v=p._init,p=v(p._payload),s.type=p,v=s.tag=AT(p),r=ui(p,r),v){case 0:s=gf(null,s,p,r,c);break e;case 1:s=__(null,s,p,r,c);break e;case 11:s=d_(null,s,p,r,c);break e;case 14:s=f_(null,s,p,ui(p.type,r),c);break e}throw Error(t(306,p,""))}return s;case 0:return p=s.type,v=s.pendingProps,v=s.elementType===p?v:ui(p,v),gf(r,s,p,v,c);case 1:return p=s.type,v=s.pendingProps,v=s.elementType===p?v:ui(p,v),__(r,s,p,v,c);case 3:e:{if(v_(s),r===null)throw Error(t(387));p=s.pendingProps,E=s.memoizedState,v=E.element,Mg(r,s),Nc(s,p,null,c);var R=s.memoizedState;if(p=R.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){v=hl(Error(t(423)),s),s=y_(r,s,p,c,v);break e}else if(p!==v){v=hl(Error(t(424)),s),s=y_(r,s,p,c,v);break e}else for(Tr=bi(s.stateNode.containerInfo.firstChild),xr=s,bt=!0,li=null,c=kg(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(sl(),p===v){s=So(r,s,c);break e}$n(r,s,p,c)}s=s.child}return s;case 5:return Og(s),r===null&&Hd(s),p=s.type,v=s.pendingProps,E=r!==null?r.memoizedProps:null,R=v.children,Xe(p,v)?R=null:E!==null&&Xe(p,E)&&(s.flags|=32),g_(r,s),$n(r,s,R,c),s.child;case 6:return r===null&&Hd(s),null;case 13:return w_(r,s,c);case 4:return Jd(s,s.stateNode.containerInfo),p=s.pendingProps,r===null?s.child=al(s,null,p,c):$n(r,s,p,c),s.child;case 11:return p=s.type,v=s.pendingProps,v=s.elementType===p?v:ui(p,v),d_(r,s,p,v,c);case 7:return $n(r,s,s.pendingProps,c),s.child;case 8:return $n(r,s,s.pendingProps.children,c),s.child;case 12:return $n(r,s,s.pendingProps.children,c),s.child;case 10:e:{if(p=s.type._context,v=s.pendingProps,E=s.memoizedProps,R=v.value,Pt(kc,p._currentValue),p._currentValue=R,E!==null)if(wr(E.value,R)){if(E.children===v.children&&!ir.current){s=So(r,s,c);break e}}else for(E=s.child,E!==null&&(E.return=s);E!==null;){var $=E.dependencies;if($!==null){R=E.child;for(var Q=$.firstContext;Q!==null;){if(Q.context===p){if(E.tag===1){Q=Co(-1,c&-c),Q.tag=2;var se=E.updateQueue;if(se!==null){se=se.shared;var me=se.pending;me===null?Q.next=Q:(Q.next=me.next,me.next=Q),se.pending=Q}}E.lanes|=c,Q=E.alternate,Q!==null&&(Q.lanes|=c),Qd(E.return,c,s),$.lanes|=c;break}Q=Q.next}}else if(E.tag===10)R=E.type===s.type?null:E.child;else if(E.tag===18){if(R=E.return,R===null)throw Error(t(341));R.lanes|=c,$=R.alternate,$!==null&&($.lanes|=c),Qd(R,c,s),R=E.sibling}else R=E.child;if(R!==null)R.return=E;else for(R=E;R!==null;){if(R===s){R=null;break}if(E=R.sibling,E!==null){E.return=R.return,R=E;break}R=R.return}E=R}$n(r,s,v.children,c),s=s.child}return s;case 9:return v=s.type,p=s.pendingProps.children,ul(s,c),v=jr(v),p=p(v),s.flags|=1,$n(r,s,p,c),s.child;case 14:return p=s.type,v=ui(p,s.pendingProps),v=ui(p.type,v),f_(r,s,p,v,c);case 15:return p_(r,s,s.type,s.pendingProps,c);case 17:return p=s.type,v=s.pendingProps,v=s.elementType===p?v:ui(p,v),$c(r,s),s.tag=1,or(p)?(r=!0,Sc(s)):r=!1,ul(s,c),o_(s,p,v),ff(s,p,v,c),_f(null,s,p,!0,r,c);case 19:return x_(r,s,c);case 22:return m_(r,s,c)}throw Error(t(156,s.tag))};function G_(r,s){return Ko(r,s)}function RT(r,s,c,p){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(r,s,c,p){return new RT(r,s,c,p)}function Vf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function AT(r){if(typeof r=="function")return Vf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===H)return 11;if(r===nt)return 14}return 2}function bs(r,s){var c=r.alternate;return c===null?(c=Wr(r.tag,s,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=s,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,s=r.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function eh(r,s,c,p,v,E){var R=2;if(p=r,typeof r=="function")Vf(r)&&(R=1);else if(typeof r=="string")R=5;else e:switch(r){case z:return Ca(c.children,v,E,s);case D:R=8,v|=8;break;case V:return r=Wr(12,c,s,v|2),r.elementType=V,r.lanes=E,r;case j:return r=Wr(13,c,s,v),r.elementType=j,r.lanes=E,r;case be:return r=Wr(19,c,s,v),r.elementType=be,r.lanes=E,r;case Ne:return th(c,v,E,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:R=10;break e;case W:R=9;break e;case H:R=11;break e;case nt:R=14;break e;case Re:R=16,p=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Wr(R,c,s,v),s.elementType=r,s.type=p,s.lanes=E,s}function Ca(r,s,c,p){return r=Wr(7,r,p,s),r.lanes=c,r}function th(r,s,c,p){return r=Wr(22,r,p,s),r.elementType=Ne,r.lanes=c,r.stateNode={isHidden:!1},r}function Ff(r,s,c){return r=Wr(6,r,null,s),r.lanes=c,r}function zf(r,s,c){return s=Wr(4,r.children!==null?r.children:[],r.key,s),s.lanes=c,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function bT(r,s,c,p,v){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_r(0),this.expirationTimes=_r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Bf(r,s,c,p,v,E,R,$,Q){return r=new bT(r,s,c,$,Q),s===1?(s=1,E===!0&&(s|=8)):s=0,E=Wr(3,null,null,s),r.current=E,E.stateNode=r,E.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xd(E),r}function kT(r,s,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:p==null?null:""+p,children:r,containerInfo:s,implementation:c}}function K_(r){if(!r)return Es;r=r._reactInternals;e:{if(Kn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(or(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var c=r.type;if(or(c))return Eg(r,c,s)}return s}function Z_(r,s,c,p,v,E,R,$,Q){return r=Bf(c,p,!0,r,v,E,R,$,Q),r.context=K_(null),c=r.current,p=Wn(),v=Rs(c),E=Co(p,v),E.callback=s??null,Cs(c,E,v),r.current.lanes=v,Sn(r,v,p),lr(r,p),r}function nh(r,s,c,p){var v=s.current,E=Wn(),R=Rs(v);return c=K_(c),s.context===null?s.context=c:s.pendingContext=c,s=Co(E,R),s.payload={element:r},p=p===void 0?null:p,p!==null&&(s.callback=p),r=Cs(v,s,R),r!==null&&(di(r,v,R,E),Mc(r,v,R)),R}function rh(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function q_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<s?c:s}}function jf(r,s){q_(r,s),(r=r.alternate)&&q_(r,s)}function LT(){return null}var Q_=typeof reportError=="function"?reportError:function(r){console.error(r)};function Uf(r){this._internalRoot=r}ih.prototype.render=Uf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));nh(r,s,null,null)},ih.prototype.unmount=Uf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ea(function(){nh(null,r,null,null)}),s[pt]=null}};function ih(r){this._internalRoot=r}ih.prototype.unstable_scheduleHydration=function(r){if(r){var s=Xo();r={blockedOn:null,target:r,priority:s};for(var c=0;c<$t.length&&s!==0&&s<$t[c].priority;c++);$t.splice(c,0,r),c===0&&Jo(r)}};function $f(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function oh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Y_(){}function MT(r,s,c,p,v){if(v){if(typeof p=="function"){var E=p;p=function(){var se=rh(R);E.call(se)}}var R=Z_(s,p,r,0,null,!1,!1,"",Y_);return r._reactRootContainer=R,r[pt]=R.current,gs(r.nodeType===8?r.parentNode:r),Ea(),R}for(;v=r.lastChild;)r.removeChild(v);if(typeof p=="function"){var $=p;p=function(){var se=rh(Q);$.call(se)}}var Q=Bf(r,0,!1,null,null,!1,!1,"",Y_);return r._reactRootContainer=Q,r[pt]=Q.current,gs(r.nodeType===8?r.parentNode:r),Ea(function(){nh(s,Q,c,p)}),Q}function sh(r,s,c,p,v){var E=c._reactRootContainer;if(E){var R=E;if(typeof v=="function"){var $=v;v=function(){var Q=rh(R);$.call(Q)}}nh(s,R,r,v)}else R=MT(c,s,r,v,p);return rh(R)}Qo=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var c=Ue(s.pendingLanes);c!==0&&(Pn(s,c|1),lr(s,wt()),!(ut&6)&&(pl=wt()+500,xs()))}break;case 13:Ea(function(){var p=To(r,1);if(p!==null){var v=Wn();di(p,r,1,v)}}),jf(r,1)}},Lr=function(r){if(r.tag===13){var s=To(r,134217728);if(s!==null){var c=Wn();di(s,r,134217728,c)}jf(r,134217728)}},Yo=function(r){if(r.tag===13){var s=Rs(r),c=To(r,s);if(c!==null){var p=Wn();di(c,r,s,p)}jf(r,s)}},Xo=function(){return Je},oo=function(r,s){var c=Je;try{return Je=r,s()}finally{Je=c}},Qi=function(r,s,c){switch(s){case"input":if(qr(r,c),s=c.name,c.type==="radio"&&s!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==r&&p.form===r.form){var v=tl(p);if(!v)throw Error(t(90));Vn(p),qr(p,v)}}}break;case"textarea":Fo(r,c);break;case"select":s=c.value,s!=null&&fr(r,!!c.multiple,s,!1)}},Yi=Nf,na=Ea;var NT={usingClientEntryPoint:!1,Events:[vo,yo,tl,kr,ta,Nf]},Tu={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DT={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ra(r),r===null?null:r.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||LT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Ei=ah.inject(DT),Cn=ah}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NT,ur.createPortal=function(r,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$f(s))throw Error(t(200));return kT(r,s,null,c)},ur.createRoot=function(r,s){if(!$f(r))throw Error(t(299));var c=!1,p="",v=Q_;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Bf(r,1,!1,null,null,c,!1,p,v),r[pt]=s.current,gs(r.nodeType===8?r.parentNode:r),new Uf(s)},ur.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ra(s),r=r===null?null:r.stateNode,r},ur.flushSync=function(r){return Ea(r)},ur.hydrate=function(r,s,c){if(!oh(s))throw Error(t(200));return sh(null,r,s,!0,c)},ur.hydrateRoot=function(r,s,c){if(!$f(r))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,v=!1,E="",R=Q_;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),s=Z_(s,null,r,1,c??null,v,!1,E,R),r[pt]=s.current,gs(r),p)for(r=0;r<p.length;r++)c=p[r],v=c._getVersion,v=v(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,v]:s.mutableSourceEagerHydrationData.push(c,v);return new ih(s)},ur.render=function(r,s,c){if(!oh(s))throw Error(t(200));return sh(null,r,s,!1,c)},ur.unmountComponentAtNode=function(r){if(!oh(r))throw Error(t(40));return r._reactRootContainer?(Ea(function(){sh(null,null,r,!1,function(){r._reactRootContainer=null,r[pt]=null})}),!0):!1},ur.unstable_batchedUpdates=Nf,ur.unstable_renderSubtreeIntoContainer=function(r,s,c,p){if(!oh(c))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return sh(r,s,c,!1,p)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var ov;function Vy(){if(ov)return Gf.exports;ov=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gf.exports=WT(),Gf.exports}var sv;function HT(){if(sv)return lh;sv=1;var n=Vy();return lh.createRoot=n.createRoot,lh.hydrateRoot=n.hydrateRoot,lh}var GT=HT(),Su={},av;function KT(){if(av)return Su;av=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.parse=h,Su.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,A){const M=new u,b=S.length;if(b<2)return M;const N=(A==null?void 0:A.decode)||x;let B=0;do{const Z=S.indexOf("=",B);if(Z===-1)break;const Y=S.indexOf(";",B),q=Y===-1?b:Y;if(Z>q){B=S.lastIndexOf(";",Z-1)+1;continue}const ee=m(S,B,Z),ae=g(S,Z,ee),z=S.slice(ee,ae);if(M[z]===void 0){let D=m(S,Z+1,q),V=g(S,q,D);const U=N(S.slice(D,V));M[z]=U}B=q+1}while(B<b);return M}function m(S,A,M){do{const b=S.charCodeAt(A);if(b!==32&&b!==9)return A}while(++A<M);return M}function g(S,A,M){for(;A>M;){const b=S.charCodeAt(--A);if(b!==32&&b!==9)return A+1}return M}function y(S,A,M){const b=(M==null?void 0:M.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const N=b(A);if(!e.test(N))throw new TypeError(`argument val is invalid: ${A}`);let B=S+"="+N;if(!M)return B;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);B+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);B+="; Domain="+M.domain}if(M.path){if(!o.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);B+="; Path="+M.path}if(M.expires){if(!C(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);B+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(B+="; HttpOnly"),M.secure&&(B+="; Secure"),M.partitioned&&(B+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return B}function x(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function C(S){return a.call(S)==="[object Date]"}return Su}KT();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lv="popstate";function ZT(n={}){function e(o,a){let{pathname:u,search:h,hash:m}=o.location;return gp("",{pathname:u,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(o,a){return typeof a=="string"?a:Bu(a)}return QT(e,t,null,n)}function Vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qT(){return Math.random().toString(36).substring(2,10)}function uv(n,e){return{usr:n.state,key:n.key,idx:e}}function gp(n,e,t=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?zl(e):e,state:t,key:e&&e.key||o||qT()}}function Bu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function zl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let o=n.indexOf("?");o>=0&&(e.search=n.substring(o),n=n.substring(0,o)),n&&(e.pathname=n)}return e}function QT(n,e,t,o={}){let{window:a=document.defaultView,v5Compat:u=!1}=o,h=a.history,m="POP",g=null,y=x();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function x(){return(h.state||{idx:null}).idx}function C(){m="POP";let N=x(),B=N==null?null:N-y;y=N,g&&g({action:m,location:b.location,delta:B})}function S(N,B){m="PUSH";let Z=gp(b.location,N,B);y=x()+1;let Y=uv(Z,y),q=b.createHref(Z);try{h.pushState(Y,"",q)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(q)}u&&g&&g({action:m,location:b.location,delta:1})}function A(N,B){m="REPLACE";let Z=gp(b.location,N,B);y=x();let Y=uv(Z,y),q=b.createHref(Z);h.replaceState(Y,"",q),u&&g&&g({action:m,location:b.location,delta:0})}function M(N){let B=a.location.origin!=="null"?a.location.origin:a.location.href,Z=typeof N=="string"?N:Bu(N);return Z=Z.replace(/ $/,"%20"),Vt(B,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,B)}let b={get action(){return m},get location(){return n(a,h)},listen(N){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(lv,C),g=N,()=>{a.removeEventListener(lv,C),g=null}},createHref(N){return e(a,N)},createURL:M,encodeLocation(N){let B=M(N);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:S,replace:A,go(N){return h.go(N)}};return b}function Fy(n,e,t="/"){return YT(n,e,t,!1)}function YT(n,e,t,o){let a=typeof e=="string"?zl(e):e,u=Bs(a.pathname||"/",t);if(u==null)return null;let h=zy(n);XT(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=uC(u);m=aC(h[g],y,o)}return m}function zy(n,e=[],t=[],o=""){let a=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Vt(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length));let y=Ao([o,g.relativePath]),x=t.concat(g);u.children&&u.children.length>0&&(Vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),zy(u.children,e,x,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:oC(y,u.index),routesMeta:x})};return n.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))a(u,h);else for(let g of By(u.path))a(u,h,g)}),e}function By(n){let e=n.split("/");if(e.length===0)return[];let[t,...o]=e,a=t.endsWith("?"),u=t.replace(/\?$/,"");if(o.length===0)return a?[u,""]:[u];let h=By(o.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&m.push(...h),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function XT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sC(e.routesMeta.map(o=>o.childrenIndex),t.routesMeta.map(o=>o.childrenIndex)))}var JT=/^:[\w-]+$/,eC=3,tC=2,nC=1,rC=10,iC=-2,cv=n=>n==="*";function oC(n,e){let t=n.split("/"),o=t.length;return t.some(cv)&&(o+=iC),e&&(o+=tC),t.filter(a=>!cv(a)).reduce((a,u)=>a+(JT.test(u)?eC:u===""?nC:rC),o)}function sC(n,e){return n.length===e.length&&n.slice(0,-1).every((o,a)=>o===e[a])?n[n.length-1]-e[e.length-1]:0}function aC(n,e,t=!1){let{routesMeta:o}=n,a={},u="/",h=[];for(let m=0;m<o.length;++m){let g=o[m],y=m===o.length-1,x=u==="/"?e:e.slice(u.length)||"/",C=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),S=g.route;if(!C&&y&&t&&!o[o.length-1].route.index&&(C=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!C)return null;Object.assign(a,C.params),h.push({params:a,pathname:Ao([u,C.pathname]),pathnameBase:fC(Ao([u,C.pathnameBase])),route:S}),C.pathnameBase!=="/"&&(u=Ao([u,C.pathnameBase]))}return h}function Dh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,o]=lC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:o.reduce((y,{paramName:x,isOptional:C},S)=>{if(x==="*"){let M=m[S]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const A=m[S];return C&&!A?y[x]=void 0:y[x]=(A||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:n}}function lC(n,e=!1,t=!0){zi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(o.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function uC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zi(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Bs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,o=n.charAt(t);return o&&o!=="/"?null:n.slice(t)||"/"}function cC(n,e="/"){let{pathname:t,search:o="",hash:a=""}=typeof n=="string"?zl(n):n;return{pathname:t?t.startsWith("/")?t:hC(t,e):e,search:pC(o),hash:mC(a)}}function hC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function qf(n,e,t,o){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jy(n){let e=dC(n);return e.map((t,o)=>o===e.length-1?t.pathname:t.pathnameBase)}function Uy(n,e,t,o=!1){let a;typeof n=="string"?a=zl(n):(a={...n},Vt(!a.pathname||!a.pathname.includes("?"),qf("?","pathname","search",a)),Vt(!a.pathname||!a.pathname.includes("#"),qf("#","pathname","hash",a)),Vt(!a.search||!a.search.includes("#"),qf("#","search","hash",a)));let u=n===""||a.pathname==="",h=u?"/":a.pathname,m;if(h==null)m=t;else{let C=e.length-1;if(!o&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),C-=1;a.pathname=S.join("/")}m=C>=0?e[C]:"/"}let g=cC(a,m),y=h&&h!=="/"&&h.endsWith("/"),x=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var Ao=n=>n.join("/").replace(/\/\/+/g,"/"),fC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),pC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function gC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var $y=["POST","PUT","PATCH","DELETE"];new Set($y);var _C=["GET",...$y];new Set(_C);var Bl=I.createContext(null);Bl.displayName="DataRouter";var id=I.createContext(null);id.displayName="DataRouterState";var Wy=I.createContext({isTransitioning:!1});Wy.displayName="ViewTransition";var vC=I.createContext(new Map);vC.displayName="Fetchers";var yC=I.createContext(null);yC.displayName="Await";var Wi=I.createContext(null);Wi.displayName="Navigation";var ec=I.createContext(null);ec.displayName="Location";var Do=I.createContext({outlet:null,matches:[],isDataRoute:!1});Do.displayName="Route";var om=I.createContext(null);om.displayName="RouteError";function wC(n,{relative:e}={}){Vt(tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:o}=I.useContext(Wi),{hash:a,pathname:u,search:h}=nc(n,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Ao([t,u])),o.createHref({pathname:m,search:h,hash:a})}function tc(){return I.useContext(ec)!=null}function La(){return Vt(tc(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(ec).location}var Hy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gy(n){I.useContext(Wi).static||I.useLayoutEffect(n)}function EC(){let{isDataRoute:n}=I.useContext(Do);return n?NC():xC()}function xC(){Vt(tc(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(Bl),{basename:e,navigator:t}=I.useContext(Wi),{matches:o}=I.useContext(Do),{pathname:a}=La(),u=JSON.stringify(jy(o)),h=I.useRef(!1);return Gy(()=>{h.current=!0}),I.useCallback((g,y={})=>{if(zi(h.current,Hy),!h.current)return;if(typeof g=="number"){t.go(g);return}let x=Uy(g,JSON.parse(u),a,y.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ao([e,x.pathname])),(y.replace?t.replace:t.push)(x,y.state,y)},[e,t,u,a,n])}I.createContext(null);function nc(n,{relative:e}={}){let{matches:t}=I.useContext(Do),{pathname:o}=La(),a=JSON.stringify(jy(t));return I.useMemo(()=>Uy(n,JSON.parse(a),o,e==="path"),[n,a,o,e])}function TC(n,e){return Ky(n,e)}function Ky(n,e,t,o){var B;Vt(tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=I.useContext(Wi),{matches:u}=I.useContext(Do),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",x=h&&h.route;{let Z=x&&x.path||"";Zy(g,!x||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let C=La(),S;if(e){let Z=typeof e=="string"?zl(e):e;Vt(y==="/"||((B=Z.pathname)==null?void 0:B.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),S=Z}else S=C;let A=S.pathname||"/",M=A;if(y!=="/"){let Z=y.replace(/^\//,"").split("/");M="/"+A.replace(/^\//,"").split("/").slice(Z.length).join("/")}let b=Fy(n,{pathname:M});zi(x||b!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),zi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=RC(b&&b.map(Z=>Object.assign({},Z,{params:Object.assign({},m,Z.params),pathname:Ao([y,a.encodeLocation?a.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?y:Ao([y,a.encodeLocation?a.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),u,t,o);return e&&N?I.createElement(ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function CC(){let n=MC(),e=gC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:u},"ErrorBoundary")," or"," ",I.createElement("code",{style:u},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:a},t):null,h)}var SC=I.createElement(CC,null),PC=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?I.createElement(Do.Provider,{value:this.props.routeContext},I.createElement(om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IC({routeContext:n,match:e,children:t}){let o=I.useContext(Bl);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Do.Provider,{value:n},t)}function RC(n,e=[],t=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t==null?void 0:t.errors;if(u!=null){let g=a.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Vt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<a.length;g++){let y=a[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:x,errors:C}=t,S=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!C||C[y.route.id]===void 0);if(y.route.lazy||S){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,y,x)=>{let C,S=!1,A=null,M=null;t&&(C=u&&y.route.id?u[y.route.id]:void 0,A=y.route.errorElement||SC,h&&(m<0&&x===0?(Zy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,M=null):m===x&&(S=!0,M=y.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,x+1)),N=()=>{let B;return C?B=A:S?B=M:y.route.Component?B=I.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=g,I.createElement(IC,{match:y,routeContext:{outlet:g,matches:b,isDataRoute:t!=null},children:B})};return t&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?I.createElement(PC,{location:t.location,revalidation:t.revalidation,component:A,error:C,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):N()},null)}function sm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AC(n){let e=I.useContext(Bl);return Vt(e,sm(n)),e}function bC(n){let e=I.useContext(id);return Vt(e,sm(n)),e}function kC(n){let e=I.useContext(Do);return Vt(e,sm(n)),e}function am(n){let e=kC(n),t=e.matches[e.matches.length-1];return Vt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function LC(){return am("useRouteId")}function MC(){var o;let n=I.useContext(om),e=bC("useRouteError"),t=am("useRouteError");return n!==void 0?n:(o=e.errors)==null?void 0:o[t]}function NC(){let{router:n}=AC("useNavigate"),e=am("useNavigate"),t=I.useRef(!1);return Gy(()=>{t.current=!0}),I.useCallback(async(a,u={})=>{zi(t.current,Hy),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...u}))},[n,e])}var hv={};function Zy(n,e,t){!e&&!hv[n]&&(hv[n]=!0,zi(!1,t))}I.memo(DC);function DC({routes:n,future:e,state:t}){return Ky(n,void 0,t,e)}function _p(n){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OC({basename:n="/",children:e=null,location:t,navigationType:o="POP",navigator:a,static:u=!1}){Vt(!tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),m=I.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof t=="string"&&(t=zl(t));let{pathname:g="/",search:y="",hash:x="",state:C=null,key:S="default"}=t,A=I.useMemo(()=>{let M=Bs(g,h);return M==null?null:{location:{pathname:M,search:y,hash:x,state:C,key:S},navigationType:o}},[h,g,y,x,C,S,o]);return zi(A!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:I.createElement(Wi.Provider,{value:m},I.createElement(ec.Provider,{children:e,value:A}))}function VC({children:n,location:e}){return TC(vp(n),e)}function vp(n,e=[]){let t=[];return I.Children.forEach(n,(o,a)=>{if(!I.isValidElement(o))return;let u=[...e,a];if(o.type===I.Fragment){t.push.apply(t,vp(o.props.children,u));return}Vt(o.type===_p,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=vp(o.props.children,u)),t.push(h)}),t}var xh="get",Th="application/x-www-form-urlencoded";function od(n){return n!=null&&typeof n.tagName=="string"}function FC(n){return od(n)&&n.tagName.toLowerCase()==="button"}function zC(n){return od(n)&&n.tagName.toLowerCase()==="form"}function BC(n){return od(n)&&n.tagName.toLowerCase()==="input"}function jC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function UC(n,e){return n.button===0&&(!e||e==="_self")&&!jC(n)}var uh=null;function $C(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var WC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qf(n){return n!=null&&!WC.has(n)?(zi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):n}function HC(n,e){let t,o,a,u,h;if(zC(n)){let m=n.getAttribute("action");o=m?Bs(m,e):null,t=n.getAttribute("method")||xh,a=Qf(n.getAttribute("enctype"))||Th,u=new FormData(n)}else if(FC(n)||BC(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(o=g?Bs(g,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||xh,a=Qf(n.getAttribute("formenctype"))||Qf(m.getAttribute("enctype"))||Th,u=new FormData(m,n),!$C()){let{name:y,type:x,value:C}=n;if(x==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,C)}}else{if(od(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xh,o=null,a=Th,h=n}return u&&a==="text/plain"&&(h=u,u=void 0),{action:o,method:t.toLowerCase(),encType:a,formData:u,body:h}}function lm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function GC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ZC(n,e,t){let o=await Promise.all(n.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await GC(u,t);return h.links?h.links():[]}return[]}));return XC(o.flat(1).filter(KC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function dv(n,e,t,o,a,u){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,m=(g,y)=>{var x;return t[y].pathname!==g.pathname||((x=t[y].route.path)==null?void 0:x.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var C;let x=o.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((C=t[0])==null?void 0:C.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function qC(n,e){return QC(n.map(t=>{let o=e.routes[t.route.id];if(!o)return[];let a=[o.module];return o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function QC(n){return[...new Set(n)]}function YC(n){let e={},t=Object.keys(n).sort();for(let o of t)e[o]=n[o];return e}function XC(n,e){let t=new Set;return new Set(e),n.reduce((o,a)=>{let u=JSON.stringify(YC(a));return t.has(u)||(t.add(u),o.push({key:u,link:a})),o},[])}function JC(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function e1(){let n=I.useContext(Bl);return lm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function t1(){let n=I.useContext(id);return lm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var um=I.createContext(void 0);um.displayName="FrameworkContext";function qy(){let n=I.useContext(um);return lm(n,"You must render this element inside a <HydratedRouter> element"),n}function n1(n,e){let t=I.useContext(um),[o,a]=I.useState(!1),[u,h]=I.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:C}=e,S=I.useRef(null);I.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let b=B=>{B.forEach(Z=>{h(Z.isIntersecting)})},N=new IntersectionObserver(b,{threshold:.5});return S.current&&N.observe(S.current),()=>{N.disconnect()}}},[n]),I.useEffect(()=>{if(o){let b=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(b)}}},[o]);let A=()=>{a(!0)},M=()=>{a(!1),h(!1)};return t?n!=="intent"?[u,S,{}]:[u,S,{onFocus:Pu(m,A),onBlur:Pu(g,M),onMouseEnter:Pu(y,A),onMouseLeave:Pu(x,M),onTouchStart:Pu(C,A)}]:[!1,S,{}]}function Pu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function r1({page:n,...e}){let{router:t}=e1(),o=I.useMemo(()=>Fy(t.routes,n,t.basename),[t.routes,n,t.basename]);return o?I.createElement(o1,{page:n,matches:o,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function i1(n){let{manifest:e,routeModules:t}=qy(),[o,a]=I.useState([]);return I.useEffect(()=>{let u=!1;return ZC(n,e,t).then(h=>{u||a(h)}),()=>{u=!0}},[n,e,t]),o}function o1({page:n,matches:e,...t}){let o=La(),{manifest:a,routeModules:u}=qy(),{loaderData:h,matches:m}=t1(),g=I.useMemo(()=>dv(n,e,m,a,o,"data"),[n,e,m,a,o]),y=I.useMemo(()=>dv(n,e,m,a,o,"assets"),[n,e,m,a,o]),x=I.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let A=new Set,M=!1;if(e.forEach(N=>{var Z;let B=a.routes[N.route.id];!B||!B.hasLoader||(!g.some(Y=>Y.route.id===N.route.id)&&N.route.id in h&&((Z=u[N.route.id])!=null&&Z.shouldRevalidate)||B.hasClientLoader?M=!0:A.add(N.route.id))}),A.size===0)return[];let b=JC(n);return M&&A.size>0&&b.searchParams.set("_routes",e.filter(N=>A.has(N.route.id)).map(N=>N.route.id).join(",")),[b.pathname+b.search]},[h,o,a,g,e,n,u]),C=I.useMemo(()=>qC(y,a),[y,a]),S=i1(y);return I.createElement(I.Fragment,null,x.map(A=>I.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),C.map(A=>I.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),S.map(({key:A,link:M})=>I.createElement("link",{key:A,...M})))}function s1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Qy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qy&&(window.__reactRouterVersion="7.0.2")}catch{}function a1({basename:n,children:e,window:t}){let o=I.useRef();o.current==null&&(o.current=ZT({window:t,v5Compat:!0}));let a=o.current,[u,h]=I.useState({action:a.action,location:a.location}),m=I.useCallback(g=>{I.startTransition(()=>h(g))},[h]);return I.useLayoutEffect(()=>a.listen(m),[a,m]),I.createElement(OC,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:a})}var Yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xy=I.forwardRef(function({onClick:e,discover:t="render",prefetch:o="none",relative:a,reloadDocument:u,replace:h,state:m,target:g,to:y,preventScrollReset:x,viewTransition:C,...S},A){let{basename:M}=I.useContext(Wi),b=typeof y=="string"&&Yy.test(y),N,B=!1;if(typeof y=="string"&&b&&(N=y,Qy))try{let V=new URL(window.location.href),U=y.startsWith("//")?new URL(V.protocol+y):new URL(y),W=Bs(U.pathname,M);U.origin===V.origin&&W!=null?y=W+U.search+U.hash:B=!0}catch{zi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=wC(y,{relative:a}),[Y,q,ee]=n1(o,S),ae=h1(y,{replace:h,state:m,target:g,preventScrollReset:x,relative:a,viewTransition:C});function z(V){e&&e(V),V.defaultPrevented||ae(V)}let D=I.createElement("a",{...S,...ee,href:N||Z,onClick:B||u?e:z,ref:s1(A,q),target:g,"data-discover":!b&&t==="render"?"true":void 0});return Y&&!b?I.createElement(I.Fragment,null,D,I.createElement(r1,{page:Z})):D});Xy.displayName="Link";var l1=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:o="",end:a=!1,style:u,to:h,viewTransition:m,children:g,...y},x){let C=nc(h,{relative:y.relative}),S=La(),A=I.useContext(id),{navigator:M,basename:b}=I.useContext(Wi),N=A!=null&&g1(C)&&m===!0,B=M.encodeLocation?M.encodeLocation(C).pathname:C.pathname,Z=S.pathname,Y=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),Y=Y?Y.toLowerCase():null,B=B.toLowerCase()),Y&&b&&(Y=Bs(Y,b)||Y);const q=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ee=Z===B||!a&&Z.startsWith(B)&&Z.charAt(q)==="/",ae=Y!=null&&(Y===B||!a&&Y.startsWith(B)&&Y.charAt(B.length)==="/"),z={isActive:ee,isPending:ae,isTransitioning:N},D=ee?e:void 0,V;typeof o=="function"?V=o(z):V=[o,ee?"active":null,ae?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(z):u;return I.createElement(Xy,{...y,"aria-current":D,className:V,ref:x,style:U,to:h,viewTransition:m},typeof g=="function"?g(z):g)});l1.displayName="NavLink";var u1=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:o,replace:a,state:u,method:h=xh,action:m,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:C,...S},A)=>{let M=p1(),b=m1(m,{relative:y}),N=h.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&Yy.test(m),Z=Y=>{if(g&&g(Y),Y.defaultPrevented)return;Y.preventDefault();let q=Y.nativeEvent.submitter,ee=(q==null?void 0:q.getAttribute("formmethod"))||h;M(q||Y.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:a,state:u,relative:y,preventScrollReset:x,viewTransition:C})};return I.createElement("form",{ref:A,method:N,action:b,onSubmit:o?g:Z,...S,"data-discover":!B&&n==="render"?"true":void 0})});u1.displayName="Form";function c1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jy(n){let e=I.useContext(Bl);return Vt(e,c1(n)),e}function h1(n,{target:e,replace:t,state:o,preventScrollReset:a,relative:u,viewTransition:h}={}){let m=EC(),g=La(),y=nc(n,{relative:u});return I.useCallback(x=>{if(UC(x,e)){x.preventDefault();let C=t!==void 0?t:Bu(g)===Bu(y);m(n,{replace:C,state:o,preventScrollReset:a,relative:u,viewTransition:h})}},[g,m,y,t,o,e,n,a,u,h])}var d1=0,f1=()=>`__${String(++d1)}__`;function p1(){let{router:n}=Jy("useSubmit"),{basename:e}=I.useContext(Wi),t=LC();return I.useCallback(async(o,a={})=>{let{action:u,method:h,encType:m,formData:g,body:y}=HC(o,e);if(a.navigate===!1){let x=a.fetcherKey||f1();await n.fetch(x,t,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:y,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await n.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:y,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function m1(n,{relative:e}={}){let{basename:t}=I.useContext(Wi),o=I.useContext(Do);Vt(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),u={...nc(n||".",{relative:e})},h=La();if(n==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(C=>C).forEach(C=>m.append("index",C));let x=m.toString();u.search=x?`?${x}`:""}}return(!n||n===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ao([t,u.pathname])),Bu(u)}function g1(n,e={}){let t=I.useContext(Wy);Vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Jy("useViewTransitionState"),a=nc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Bs(t.currentLocation.pathname,o)||t.currentLocation.pathname,h=Bs(t.nextLocation.pathname,o)||t.nextLocation.pathname;return Dh(a.pathname,h)!=null||Dh(a.pathname,u)!=null}new TextEncoder;var sd=Vy();const ew=Oy(sd);var fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=function(n){const e=[];let t=0;for(let o=0;o<n.length;o++){let a=n.charCodeAt(o);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&o+1<n.length&&(n.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++o)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},_1=function(n){const e=[];let t=0,o=0;for(;t<n.length;){const a=n[t++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[t++];e[o++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[t++],h=n[t++],m=n[t++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[o++]=String.fromCharCode(55296+(g>>10)),e[o++]=String.fromCharCode(56320+(g&1023))}else{const u=n[t++],h=n[t++];e[o++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<n.length;a+=3){const u=n[a],h=a+1<n.length,m=h?n[a+1]:0,g=a+2<n.length,y=g?n[a+2]:0,x=u>>2,C=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,A=y&63;g||(A=64,h||(S=64)),o.push(t[x],t[C],t[S],t[A])}return o.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<n.length;){const u=t[n.charAt(a++)],m=a<n.length?t[n.charAt(a)]:0;++a;const y=a<n.length?t[n.charAt(a)]:64;++a;const C=a<n.length?t[n.charAt(a)]:64;if(++a,u==null||m==null||y==null||C==null)throw new v1;const S=u<<2|m>>4;if(o.push(S),y!==64){const A=m<<4&240|y>>2;if(o.push(A),C!==64){const M=y<<6&192|C;o.push(M)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class v1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y1=function(n){const e=tw(n);return nw.encodeByteArray(e,!0)},Oh=function(n){return y1(n).replace(/\./g,"")},w1=function(n){try{return nw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=()=>E1().__FIREBASE_DEFAULTS__,T1=()=>{if(typeof process>"u"||typeof fv>"u")return;const n=fv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},C1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&w1(n[1]);return e&&JSON.parse(e)},cm=()=>{try{return x1()||T1()||C1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},S1=n=>{var e,t;return(t=(e=cm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},P1=n=>{const e=S1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),o]:[e.substring(0,t),o]},rw=()=>{var n;return(n=cm())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,o)=>{t?this.reject(t):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},o=e||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Oh(JSON.stringify(t)),Oh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b1(){var n;const e=(n=cm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k1(){return!b1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L1(){try{return typeof indexedDB=="object"}catch{return!1}}function M1(){return new Promise((n,e)=>{try{let t=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(o),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="FirebaseError";class jl extends Error{constructor(e,t,o){super(t),this.code=e,this.customData=o,this.name=N1,Object.setPrototypeOf(this,jl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iw.prototype.create)}}class iw{constructor(e,t,o){this.service=e,this.serviceName=t,this.errors=o}create(e,...t){const o=t[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?D1(u,o):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new jl(a,m,o)}}function D1(n,e){return n.replace(O1,(t,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const O1=/\{\$([^}]+)}/g;function yp(n,e){if(n===e)return!0;const t=Object.keys(n),o=Object.keys(e);for(const a of t){if(!o.includes(a))return!1;const u=n[a],h=e[a];if(pv(u)&&pv(h)){if(!yp(u,h))return!1}else if(u!==h)return!1}for(const a of o)if(!t.includes(a))return!1;return!0}function pv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(n){return n&&n._delegate?n._delegate:n}class ju{constructor(e,t,o){this.name=e,this.instanceFactory=t,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const o=new I1;if(this.instancesDeferred.set(t,o),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z1(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[t,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:a});o.resolve(u)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);o===m&&h.resolve(a)}return a}onInit(e,t){var o;const a=this.normalizeInstanceIdentifier(t),u=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const o=this.onInitCallbacks.get(t);if(o)for(const a of o)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:F1(e),options:t}),this.instances.set(e,o),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F1(n){return n===Sa?void 0:n}function z1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new V1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(lt||(lt={}));const j1={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},U1=lt.INFO,$1={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},W1=(n,e,...t)=>{if(e<n.logLevel)return;const o=new Date().toISOString(),a=$1[e];if(a)console[a](`[${o}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ow{constructor(e){this.name=e,this._logLevel=U1,this._logHandler=W1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const H1=(n,e)=>e.some(t=>n instanceof t);let mv,gv;function G1(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sw=new WeakMap,wp=new WeakMap,aw=new WeakMap,Yf=new WeakMap,hm=new WeakMap;function Z1(n){const e=new Promise((t,o)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{t(Os(n.result)),a()},h=()=>{o(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&sw.set(t,n)}).catch(()=>{}),hm.set(e,n),e}function q1(n){if(wp.has(n))return;const e=new Promise((t,o)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{t(),a()},h=()=>{o(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});wp.set(n,e)}let Ep={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return wp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||aw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Os(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Q1(n){Ep=n(Ep)}function Y1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const o=n.call(Xf(this),e,...t);return aw.set(o,e.sort?e.sort():[e]),Os(o)}:K1().includes(n)?function(...e){return n.apply(Xf(this),e),Os(sw.get(this))}:function(...e){return Os(n.apply(Xf(this),e))}}function X1(n){return typeof n=="function"?Y1(n):(n instanceof IDBTransaction&&q1(n),H1(n,G1())?new Proxy(n,Ep):n)}function Os(n){if(n instanceof IDBRequest)return Z1(n);if(Yf.has(n))return Yf.get(n);const e=X1(n);return e!==n&&(Yf.set(n,e),hm.set(e,n)),e}const Xf=n=>hm.get(n);function J1(n,e,{blocked:t,upgrade:o,blocking:a,terminated:u}={}){const h=indexedDB.open(n,e),m=Os(h);return o&&h.addEventListener("upgradeneeded",g=>{o(Os(h.result),g.oldVersion,g.newVersion,Os(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const eS=["get","getKey","getAll","getAllKeys","count"],tS=["put","add","delete","clear"],Jf=new Map;function _v(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const t=e.replace(/FromIndex$/,""),o=e!==t,a=tS.includes(t);if(!(t in(o?IDBIndex:IDBObjectStore).prototype)||!(a||eS.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let y=g.store;return o&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),a&&g.done]))[0]};return Jf.set(e,u),u}Q1(n=>({...n,get:(e,t,o)=>_v(e,t)||n.get(e,t,o),has:(e,t)=>!!_v(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rS(t)){const o=t.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(t=>t).join(" ")}}function rS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xp="@firebase/app",vv="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new ow("@firebase/app"),iS="@firebase/app-compat",oS="@firebase/analytics-compat",sS="@firebase/analytics",aS="@firebase/app-check-compat",lS="@firebase/app-check",uS="@firebase/auth",cS="@firebase/auth-compat",hS="@firebase/database",dS="@firebase/data-connect",fS="@firebase/database-compat",pS="@firebase/functions",mS="@firebase/functions-compat",gS="@firebase/installations",_S="@firebase/installations-compat",vS="@firebase/messaging",yS="@firebase/messaging-compat",wS="@firebase/performance",ES="@firebase/performance-compat",xS="@firebase/remote-config",TS="@firebase/remote-config-compat",CS="@firebase/storage",SS="@firebase/storage-compat",PS="@firebase/firestore",IS="@firebase/vertexai",RS="@firebase/firestore-compat",AS="firebase",bS="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",kS={[xp]:"fire-core",[iS]:"fire-core-compat",[sS]:"fire-analytics",[oS]:"fire-analytics-compat",[lS]:"fire-app-check",[aS]:"fire-app-check-compat",[uS]:"fire-auth",[cS]:"fire-auth-compat",[hS]:"fire-rtdb",[dS]:"fire-data-connect",[fS]:"fire-rtdb-compat",[pS]:"fire-fn",[mS]:"fire-fn-compat",[gS]:"fire-iid",[_S]:"fire-iid-compat",[vS]:"fire-fcm",[yS]:"fire-fcm-compat",[wS]:"fire-perf",[ES]:"fire-perf-compat",[xS]:"fire-rc",[TS]:"fire-rc-compat",[CS]:"fire-gcs",[SS]:"fire-gcs-compat",[PS]:"fire-fst",[RS]:"fire-fst-compat",[IS]:"fire-vertex","fire-js":"fire-js",[AS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,LS=new Map,Cp=new Map;function yv(n,e){try{n.container.addComponent(e)}catch(t){bo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fh(n){const e=n.name;if(Cp.has(e))return bo.debug(`There were multiple attempts to register component ${e}.`),!1;Cp.set(e,n);for(const t of Vh.values())yv(t,n);for(const t of LS.values())yv(t,n);return!0}function MS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new iw("app","Firebase",NS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ju("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=bS;function lw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const o=Object.assign({name:Tp,automaticDataCollectionEnabled:!1},e),a=o.name;if(typeof a!="string"||!a)throw Vs.create("bad-app-name",{appName:String(a)});if(t||(t=rw()),!t)throw Vs.create("no-options");const u=Vh.get(a);if(u){if(yp(t,u.options)&&yp(o,u.config))return u;throw Vs.create("duplicate-app",{appName:a})}const h=new B1(a);for(const g of Cp.values())h.addComponent(g);const m=new DS(t,o,h);return Vh.set(a,m),m}function VS(n=Tp){const e=Vh.get(n);if(!e&&n===Tp&&rw())return lw();if(!e)throw Vs.create("no-app",{appName:n});return e}function Cl(n,e,t){var o;let a=(o=kS[n])!==null&&o!==void 0?o:n;t&&(a+=`-${t}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bo.warn(m.join(" "));return}Fh(new ju(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="firebase-heartbeat-database",zS=1,Uu="firebase-heartbeat-store";let ep=null;function uw(){return ep||(ep=J1(FS,zS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vs.create("idb-open",{originalErrorMessage:n.message})})),ep}async function BS(n){try{const t=(await uw()).transaction(Uu),o=await t.objectStore(Uu).get(cw(n));return await t.done,o}catch(e){if(e instanceof jl)bo.warn(e.message);else{const t=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bo.warn(t.message)}}}async function wv(n,e){try{const o=(await uw()).transaction(Uu,"readwrite");await o.objectStore(Uu).put(e,cw(n)),await o.done}catch(t){if(t instanceof jl)bo.warn(t.message);else{const o=Vs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});bo.warn(o.message)}}}function cw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=1024,US=30*24*60*60*1e3;class $S{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HS(t),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ev();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=US}),this._storage.overwrite(this._heartbeatsCache))}catch(o){bo.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ev(),{heartbeatsToSend:o,unsentEntries:a}=WS(this._heartbeatsCache.heartbeats),u=Oh(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return bo.warn(t),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function WS(n,e=jS){const t=[];let o=n.slice();for(const a of n){const u=t.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),xv(t)>e){u.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),xv(t)>e){t.pop();break}o=o.slice(1)}return{heartbeatsToSend:t,unsentEntries:o}}class HS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L1()?M1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return wv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return wv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function xv(n){return Oh(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n){Fh(new ju("platform-logger",e=>new nS(e),"PRIVATE")),Fh(new ju("heartbeat",e=>new $S(e),"PRIVATE")),Cl(xp,vv,n),Cl(xp,vv,"esm2017"),Cl("fire-js","")}GS("");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ra,hw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,D){function V(){}V.prototype=D.prototype,z.D=D.prototype,z.prototype=new V,z.prototype.constructor=z,z.C=function(U,W,H){for(var j=Array(arguments.length-2),be=2;be<arguments.length;be++)j[be-2]=arguments[be];return D.prototype[W].apply(U,j)}}function t(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,t),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,D,V){V||(V=0);var U=Array(16);if(typeof D=="string")for(var W=0;16>W;++W)U[W]=D.charCodeAt(V++)|D.charCodeAt(V++)<<8|D.charCodeAt(V++)<<16|D.charCodeAt(V++)<<24;else for(W=0;16>W;++W)U[W]=D[V++]|D[V++]<<8|D[V++]<<16|D[V++]<<24;D=z.g[0],V=z.g[1],W=z.g[2];var H=z.g[3],j=D+(H^V&(W^H))+U[0]+3614090360&4294967295;D=V+(j<<7&4294967295|j>>>25),j=H+(W^D&(V^W))+U[1]+3905402710&4294967295,H=D+(j<<12&4294967295|j>>>20),j=W+(V^H&(D^V))+U[2]+606105819&4294967295,W=H+(j<<17&4294967295|j>>>15),j=V+(D^W&(H^D))+U[3]+3250441966&4294967295,V=W+(j<<22&4294967295|j>>>10),j=D+(H^V&(W^H))+U[4]+4118548399&4294967295,D=V+(j<<7&4294967295|j>>>25),j=H+(W^D&(V^W))+U[5]+1200080426&4294967295,H=D+(j<<12&4294967295|j>>>20),j=W+(V^H&(D^V))+U[6]+2821735955&4294967295,W=H+(j<<17&4294967295|j>>>15),j=V+(D^W&(H^D))+U[7]+4249261313&4294967295,V=W+(j<<22&4294967295|j>>>10),j=D+(H^V&(W^H))+U[8]+1770035416&4294967295,D=V+(j<<7&4294967295|j>>>25),j=H+(W^D&(V^W))+U[9]+2336552879&4294967295,H=D+(j<<12&4294967295|j>>>20),j=W+(V^H&(D^V))+U[10]+4294925233&4294967295,W=H+(j<<17&4294967295|j>>>15),j=V+(D^W&(H^D))+U[11]+2304563134&4294967295,V=W+(j<<22&4294967295|j>>>10),j=D+(H^V&(W^H))+U[12]+1804603682&4294967295,D=V+(j<<7&4294967295|j>>>25),j=H+(W^D&(V^W))+U[13]+4254626195&4294967295,H=D+(j<<12&4294967295|j>>>20),j=W+(V^H&(D^V))+U[14]+2792965006&4294967295,W=H+(j<<17&4294967295|j>>>15),j=V+(D^W&(H^D))+U[15]+1236535329&4294967295,V=W+(j<<22&4294967295|j>>>10),j=D+(W^H&(V^W))+U[1]+4129170786&4294967295,D=V+(j<<5&4294967295|j>>>27),j=H+(V^W&(D^V))+U[6]+3225465664&4294967295,H=D+(j<<9&4294967295|j>>>23),j=W+(D^V&(H^D))+U[11]+643717713&4294967295,W=H+(j<<14&4294967295|j>>>18),j=V+(H^D&(W^H))+U[0]+3921069994&4294967295,V=W+(j<<20&4294967295|j>>>12),j=D+(W^H&(V^W))+U[5]+3593408605&4294967295,D=V+(j<<5&4294967295|j>>>27),j=H+(V^W&(D^V))+U[10]+38016083&4294967295,H=D+(j<<9&4294967295|j>>>23),j=W+(D^V&(H^D))+U[15]+3634488961&4294967295,W=H+(j<<14&4294967295|j>>>18),j=V+(H^D&(W^H))+U[4]+3889429448&4294967295,V=W+(j<<20&4294967295|j>>>12),j=D+(W^H&(V^W))+U[9]+568446438&4294967295,D=V+(j<<5&4294967295|j>>>27),j=H+(V^W&(D^V))+U[14]+3275163606&4294967295,H=D+(j<<9&4294967295|j>>>23),j=W+(D^V&(H^D))+U[3]+4107603335&4294967295,W=H+(j<<14&4294967295|j>>>18),j=V+(H^D&(W^H))+U[8]+1163531501&4294967295,V=W+(j<<20&4294967295|j>>>12),j=D+(W^H&(V^W))+U[13]+2850285829&4294967295,D=V+(j<<5&4294967295|j>>>27),j=H+(V^W&(D^V))+U[2]+4243563512&4294967295,H=D+(j<<9&4294967295|j>>>23),j=W+(D^V&(H^D))+U[7]+1735328473&4294967295,W=H+(j<<14&4294967295|j>>>18),j=V+(H^D&(W^H))+U[12]+2368359562&4294967295,V=W+(j<<20&4294967295|j>>>12),j=D+(V^W^H)+U[5]+4294588738&4294967295,D=V+(j<<4&4294967295|j>>>28),j=H+(D^V^W)+U[8]+2272392833&4294967295,H=D+(j<<11&4294967295|j>>>21),j=W+(H^D^V)+U[11]+1839030562&4294967295,W=H+(j<<16&4294967295|j>>>16),j=V+(W^H^D)+U[14]+4259657740&4294967295,V=W+(j<<23&4294967295|j>>>9),j=D+(V^W^H)+U[1]+2763975236&4294967295,D=V+(j<<4&4294967295|j>>>28),j=H+(D^V^W)+U[4]+1272893353&4294967295,H=D+(j<<11&4294967295|j>>>21),j=W+(H^D^V)+U[7]+4139469664&4294967295,W=H+(j<<16&4294967295|j>>>16),j=V+(W^H^D)+U[10]+3200236656&4294967295,V=W+(j<<23&4294967295|j>>>9),j=D+(V^W^H)+U[13]+681279174&4294967295,D=V+(j<<4&4294967295|j>>>28),j=H+(D^V^W)+U[0]+3936430074&4294967295,H=D+(j<<11&4294967295|j>>>21),j=W+(H^D^V)+U[3]+3572445317&4294967295,W=H+(j<<16&4294967295|j>>>16),j=V+(W^H^D)+U[6]+76029189&4294967295,V=W+(j<<23&4294967295|j>>>9),j=D+(V^W^H)+U[9]+3654602809&4294967295,D=V+(j<<4&4294967295|j>>>28),j=H+(D^V^W)+U[12]+3873151461&4294967295,H=D+(j<<11&4294967295|j>>>21),j=W+(H^D^V)+U[15]+530742520&4294967295,W=H+(j<<16&4294967295|j>>>16),j=V+(W^H^D)+U[2]+3299628645&4294967295,V=W+(j<<23&4294967295|j>>>9),j=D+(W^(V|~H))+U[0]+4096336452&4294967295,D=V+(j<<6&4294967295|j>>>26),j=H+(V^(D|~W))+U[7]+1126891415&4294967295,H=D+(j<<10&4294967295|j>>>22),j=W+(D^(H|~V))+U[14]+2878612391&4294967295,W=H+(j<<15&4294967295|j>>>17),j=V+(H^(W|~D))+U[5]+4237533241&4294967295,V=W+(j<<21&4294967295|j>>>11),j=D+(W^(V|~H))+U[12]+1700485571&4294967295,D=V+(j<<6&4294967295|j>>>26),j=H+(V^(D|~W))+U[3]+2399980690&4294967295,H=D+(j<<10&4294967295|j>>>22),j=W+(D^(H|~V))+U[10]+4293915773&4294967295,W=H+(j<<15&4294967295|j>>>17),j=V+(H^(W|~D))+U[1]+2240044497&4294967295,V=W+(j<<21&4294967295|j>>>11),j=D+(W^(V|~H))+U[8]+1873313359&4294967295,D=V+(j<<6&4294967295|j>>>26),j=H+(V^(D|~W))+U[15]+4264355552&4294967295,H=D+(j<<10&4294967295|j>>>22),j=W+(D^(H|~V))+U[6]+2734768916&4294967295,W=H+(j<<15&4294967295|j>>>17),j=V+(H^(W|~D))+U[13]+1309151649&4294967295,V=W+(j<<21&4294967295|j>>>11),j=D+(W^(V|~H))+U[4]+4149444226&4294967295,D=V+(j<<6&4294967295|j>>>26),j=H+(V^(D|~W))+U[11]+3174756917&4294967295,H=D+(j<<10&4294967295|j>>>22),j=W+(D^(H|~V))+U[2]+718787259&4294967295,W=H+(j<<15&4294967295|j>>>17),j=V+(H^(W|~D))+U[9]+3951481745&4294967295,z.g[0]=z.g[0]+D&4294967295,z.g[1]=z.g[1]+(W+(j<<21&4294967295|j>>>11))&4294967295,z.g[2]=z.g[2]+W&4294967295,z.g[3]=z.g[3]+H&4294967295}o.prototype.u=function(z,D){D===void 0&&(D=z.length);for(var V=D-this.blockSize,U=this.B,W=this.h,H=0;H<D;){if(W==0)for(;H<=V;)a(this,z,H),H+=this.blockSize;if(typeof z=="string"){for(;H<D;)if(U[W++]=z.charCodeAt(H++),W==this.blockSize){a(this,U),W=0;break}}else for(;H<D;)if(U[W++]=z[H++],W==this.blockSize){a(this,U),W=0;break}}this.h=W,this.o+=D},o.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var D=1;D<z.length-8;++D)z[D]=0;var V=8*this.o;for(D=z.length-8;D<z.length;++D)z[D]=V&255,V/=256;for(this.u(z),z=Array(16),D=V=0;4>D;++D)for(var U=0;32>U;U+=8)z[V++]=this.g[D]>>>U&255;return z};function u(z,D){var V=m;return Object.prototype.hasOwnProperty.call(V,z)?V[z]:V[z]=D(z)}function h(z,D){this.h=D;for(var V=[],U=!0,W=z.length-1;0<=W;W--){var H=z[W]|0;U&&H==D||(V[W]=H,U=!1)}this.g=V}var m={};function g(z){return-128<=z&&128>z?u(z,function(D){return new h([D|0],0>D?-1:0)}):new h([z|0],0>z?-1:0)}function y(z){if(isNaN(z)||!isFinite(z))return C;if(0>z)return N(y(-z));for(var D=[],V=1,U=0;z>=V;U++)D[U]=z/V|0,V*=4294967296;return new h(D,0)}function x(z,D){if(z.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(z.charAt(0)=="-")return N(x(z.substring(1),D));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=y(Math.pow(D,8)),U=C,W=0;W<z.length;W+=8){var H=Math.min(8,z.length-W),j=parseInt(z.substring(W,W+H),D);8>H?(H=y(Math.pow(D,H)),U=U.j(H).add(y(j))):(U=U.j(V),U=U.add(y(j)))}return U}var C=g(0),S=g(1),A=g(16777216);n=h.prototype,n.m=function(){if(b(this))return-N(this).m();for(var z=0,D=1,V=0;V<this.g.length;V++){var U=this.i(V);z+=(0<=U?U:4294967296+U)*D,D*=4294967296}return z},n.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(M(this))return"0";if(b(this))return"-"+N(this).toString(z);for(var D=y(Math.pow(z,6)),V=this,U="";;){var W=q(V,D).g;V=B(V,W.j(D));var H=((0<V.g.length?V.g[0]:V.h)>>>0).toString(z);if(V=W,M(V))return H+U;for(;6>H.length;)H="0"+H;U=H+U}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function M(z){if(z.h!=0)return!1;for(var D=0;D<z.g.length;D++)if(z.g[D]!=0)return!1;return!0}function b(z){return z.h==-1}n.l=function(z){return z=B(this,z),b(z)?-1:M(z)?0:1};function N(z){for(var D=z.g.length,V=[],U=0;U<D;U++)V[U]=~z.g[U];return new h(V,~z.h).add(S)}n.abs=function(){return b(this)?N(this):this},n.add=function(z){for(var D=Math.max(this.g.length,z.g.length),V=[],U=0,W=0;W<=D;W++){var H=U+(this.i(W)&65535)+(z.i(W)&65535),j=(H>>>16)+(this.i(W)>>>16)+(z.i(W)>>>16);U=j>>>16,H&=65535,j&=65535,V[W]=j<<16|H}return new h(V,V[V.length-1]&-2147483648?-1:0)};function B(z,D){return z.add(N(D))}n.j=function(z){if(M(this)||M(z))return C;if(b(this))return b(z)?N(this).j(N(z)):N(N(this).j(z));if(b(z))return N(this.j(N(z)));if(0>this.l(A)&&0>z.l(A))return y(this.m()*z.m());for(var D=this.g.length+z.g.length,V=[],U=0;U<2*D;U++)V[U]=0;for(U=0;U<this.g.length;U++)for(var W=0;W<z.g.length;W++){var H=this.i(U)>>>16,j=this.i(U)&65535,be=z.i(W)>>>16,nt=z.i(W)&65535;V[2*U+2*W]+=j*nt,Z(V,2*U+2*W),V[2*U+2*W+1]+=H*nt,Z(V,2*U+2*W+1),V[2*U+2*W+1]+=j*be,Z(V,2*U+2*W+1),V[2*U+2*W+2]+=H*be,Z(V,2*U+2*W+2)}for(U=0;U<D;U++)V[U]=V[2*U+1]<<16|V[2*U];for(U=D;U<2*D;U++)V[U]=0;return new h(V,0)};function Z(z,D){for(;(z[D]&65535)!=z[D];)z[D+1]+=z[D]>>>16,z[D]&=65535,D++}function Y(z,D){this.g=z,this.h=D}function q(z,D){if(M(D))throw Error("division by zero");if(M(z))return new Y(C,C);if(b(z))return D=q(N(z),D),new Y(N(D.g),N(D.h));if(b(D))return D=q(z,N(D)),new Y(N(D.g),D.h);if(30<z.g.length){if(b(z)||b(D))throw Error("slowDivide_ only works with positive integers.");for(var V=S,U=D;0>=U.l(z);)V=ee(V),U=ee(U);var W=ae(V,1),H=ae(U,1);for(U=ae(U,2),V=ae(V,2);!M(U);){var j=H.add(U);0>=j.l(z)&&(W=W.add(V),H=j),U=ae(U,1),V=ae(V,1)}return D=B(z,W.j(D)),new Y(W,D)}for(W=C;0<=z.l(D);){for(V=Math.max(1,Math.floor(z.m()/D.m())),U=Math.ceil(Math.log(V)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),H=y(V),j=H.j(D);b(j)||0<j.l(z);)V-=U,H=y(V),j=H.j(D);M(H)&&(H=S),W=W.add(H),z=B(z,j)}return new Y(W,z)}n.A=function(z){return q(this,z).h},n.and=function(z){for(var D=Math.max(this.g.length,z.g.length),V=[],U=0;U<D;U++)V[U]=this.i(U)&z.i(U);return new h(V,this.h&z.h)},n.or=function(z){for(var D=Math.max(this.g.length,z.g.length),V=[],U=0;U<D;U++)V[U]=this.i(U)|z.i(U);return new h(V,this.h|z.h)},n.xor=function(z){for(var D=Math.max(this.g.length,z.g.length),V=[],U=0;U<D;U++)V[U]=this.i(U)^z.i(U);return new h(V,this.h^z.h)};function ee(z){for(var D=z.g.length+1,V=[],U=0;U<D;U++)V[U]=z.i(U)<<1|z.i(U-1)>>>31;return new h(V,z.h)}function ae(z,D){var V=D>>5;D%=32;for(var U=z.g.length-V,W=[],H=0;H<U;H++)W[H]=0<D?z.i(H+V)>>>D|z.i(H+V+1)<<32-D:z.i(H+V);return new h(W,z.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,hw=o,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=x,Ra=h}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dw,Au,fw,Ch,Sp,pw,mw,gw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,P){return d==Array.prototype||d==Object.prototype||(d[w]=P.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var w=0;w<d.length;++w){var P=d[w];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var o=t(this);function a(d,w){if(w)e:{var P=o;d=d.split(".");for(var O=0;O<d.length-1;O++){var J=d[O];if(!(J in P))break e;P=P[J]}d=d[d.length-1],O=P[d],w=w(O),w!=O&&w!=null&&e(P,d,{configurable:!0,writable:!0,value:w})}}function u(d,w){d instanceof String&&(d+="");var P=0,O=!1,J={next:function(){if(!O&&P<d.length){var le=P++;return{value:w(le,d[le]),done:!1}}return O=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}a("Array.prototype.values",function(d){return d||function(){return u(this,function(w,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function y(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function x(d,w,P){return d.call.apply(d.bind,arguments)}function C(d,w,P){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,O),d.apply(w,J)}}return function(){return d.apply(w,arguments)}}function S(d,w,P){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:C,S.apply(null,arguments)}function A(d,w){var P=Array.prototype.slice.call(arguments,1);return function(){var O=P.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function M(d,w){function P(){}P.prototype=w.prototype,d.aa=w.prototype,d.prototype=new P,d.prototype.constructor=d,d.Qb=function(O,J,le){for(var ye=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)ye[ht-2]=arguments[ht];return w.prototype[J].apply(O,ye)}}function b(d){const w=d.length;if(0<w){const P=Array(w);for(let O=0;O<w;O++)P[O]=d[O];return P}return[]}function N(d,w){for(let P=1;P<arguments.length;P++){const O=arguments[P];if(g(O)){const J=d.length||0,le=O.length||0;d.length=J+le;for(let ye=0;ye<le;ye++)d[J+ye]=O[ye]}else d.push(O)}}class B{constructor(w,P){this.i=w,this.j=P,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function Z(d){return/^[\s\xa0]*$/.test(d)}function Y(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var ee=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ae(d,w,P){for(const O in d)w.call(P,d[O],O,d)}function z(d,w){for(const P in d)w.call(void 0,d[P],P,d)}function D(d){const w={};for(const P in d)w[P]=d[P];return w}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(d,w){let P,O;for(let J=1;J<arguments.length;J++){O=arguments[J];for(P in O)d[P]=O[P];for(let le=0;le<V.length;le++)P=V[le],Object.prototype.hasOwnProperty.call(O,P)&&(d[P]=O[P])}}function W(d){var w=1;d=d.split(":");const P=[];for(;0<w&&d.length;)P.push(d.shift()),w--;return d.length&&P.push(d.join(":")),P}function H(d){m.setTimeout(()=>{throw d},0)}function j(){var d=he;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class be{constructor(){this.h=this.g=null}add(w,P){const O=nt.get();O.set(w,P),this.h?this.h.next=O:this.g=O,this.h=O}}var nt=new B(()=>new Re,d=>d.reset());class Re{constructor(){this.next=this.g=this.h=null}set(w,P){this.h=w,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ne=!1,he=new be,ue=()=>{const d=m.Promise.resolve(void 0);Ne=()=>{d.then(K)}};var K=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(P){H(P)}var w=nt;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}ne=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const P=()=>{};m.addEventListener("test",P,w),m.removeEventListener("test",P,w)}catch{}return d}();function Te(d,w){if(we.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var P=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(ee){e:{try{q(w.nodeName);var J=!0;break e}catch{}J=!1}J||(w=null)}}else P=="mouseover"?w=d.fromElement:P=="mouseout"&&(w=d.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ee[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Te.aa.h.call(this)}}M(Te,we);var Ee={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Ye(d,w,P,O,J){this.listener=d,this.proxy=null,this.src=w,this.type=P,this.capture=!!O,this.ha=J,this.key=++Ze,this.da=this.fa=!1}function yt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Tn(d){this.src=d,this.g={},this.h=0}Tn.prototype.add=function(d,w,P,O,J){var le=d.toString();d=this.g[le],d||(d=this.g[le]=[],this.h++);var ye=an(d,w,O,J);return-1<ye?(w=d[ye],P||(w.fa=!1)):(w=new Ye(w,this.src,le,!!O,J),w.fa=P,d.push(w)),w};function Vn(d,w){var P=w.type;if(P in d.g){var O=d.g[P],J=Array.prototype.indexOf.call(O,w,void 0),le;(le=0<=J)&&Array.prototype.splice.call(O,J,1),le&&(yt(w),d.g[P].length==0&&(delete d.g[P],d.h--))}}function an(d,w,P,O){for(var J=0;J<d.length;++J){var le=d[J];if(!le.da&&le.listener==w&&le.capture==!!P&&le.ha==O)return J}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),Zr={};function _i(d,w,P,O,J){if(Array.isArray(w)){for(var le=0;le<w.length;le++)_i(d,w[le],P,O,J);return null}return P=Xs(P),d&&d[je]?d.K(w,P,y(O)?!!O.capture:!!O,J):qr(d,w,P,!1,O,J)}function qr(d,w,P,O,J,le){if(!w)throw Error("Invalid event type");var ye=y(J)?!!J.capture:!!J,ht=Gi(d);if(ht||(d[Rr]=ht=new Tn(d)),P=ht.add(w,P,O,ye,le),P.proxy)return P;if(O=Qr(),P.proxy=O,O.src=d,O.listener=P,d.addEventListener)Pe||(J=ye),J===void 0&&(J=!1),d.addEventListener(w.toString(),O,J);else if(d.attachEvent)d.attachEvent(fr(w.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Qr(){function d(P){return w.call(d.src,d.listener,P)}const w=Vo;return d}function dr(d,w,P,O,J){if(Array.isArray(w))for(var le=0;le<w.length;le++)dr(d,w[le],P,O,J);else O=y(O)?!!O.capture:!!O,P=Xs(P),d&&d[je]?(d=d.i,w=String(w).toString(),w in d.g&&(le=d.g[w],P=an(le,P,O,J),-1<P&&(yt(le[P]),Array.prototype.splice.call(le,P,1),le.length==0&&(delete d.g[w],d.h--)))):d&&(d=Gi(d))&&(w=d.g[w.toString()],d=-1,w&&(d=an(w,P,O,J)),(P=-1<d?w[d]:null)&&Ar(P))}function Ar(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[je])Vn(w.i,d);else{var P=d.type,O=d.proxy;w.removeEventListener?w.removeEventListener(P,O,d.capture):w.detachEvent?w.detachEvent(fr(P),O):w.addListener&&w.removeListener&&w.removeListener(O),(P=Gi(w))?(Vn(P,d),P.h==0&&(P.src=null,w[Rr]=null)):yt(d)}}}function fr(d){return d in Zr?Zr[d]:Zr[d]="on"+d}function Vo(d,w){if(d.da)d=!0;else{w=new Te(w,this);var P=d.listener,O=d.ha||d.src;d.fa&&Ar(d),d=P.call(O,w)}return d}function Gi(d){return d=d[Rr],d instanceof Tn?d:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xs(d){return typeof d=="function"?d:(d[Fo]||(d[Fo]=function(w){return d.handleEvent(w)}),d[Fo])}function Lt(){ce.call(this),this.i=new Tn(this),this.M=this,this.F=null}M(Lt,ce),Lt.prototype[je]=!0,Lt.prototype.removeEventListener=function(d,w,P,O){dr(this,d,w,P,O)};function zt(d,w){var P,O=d.F;if(O)for(P=[];O;O=O.F)P.push(O);if(d=d.M,O=w.type||w,typeof w=="string")w=new we(w,d);else if(w instanceof we)w.target=w.target||d;else{var J=w;w=new we(O,d),U(w,J)}if(J=!0,P)for(var le=P.length-1;0<=le;le--){var ye=w.g=P[le];J=br(ye,O,!0,w)&&J}if(ye=w.g=d,J=br(ye,O,!0,w)&&J,J=br(ye,O,!1,w)&&J,P)for(le=0;le<P.length;le++)ye=w.g=P[le],J=br(ye,O,!1,w)&&J}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var P=d.g[w],O=0;O<P.length;O++)yt(P[O]);delete d.g[w],d.h--}}this.F=null},Lt.prototype.K=function(d,w,P,O){return this.i.add(String(d),w,!1,P,O)},Lt.prototype.L=function(d,w,P,O){return this.i.add(String(d),w,!0,P,O)};function br(d,w,P,O){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var J=!0,le=0;le<w.length;++le){var ye=w[le];if(ye&&!ye.da&&ye.capture==P){var ht=ye.listener,jt=ye.ha||ye.src;ye.fa&&Vn(d.i,ye),J=ht.call(jt,O)!==!1&&J}}return J&&!O.defaultPrevented}function Js(d,w,P){if(typeof d=="function")P&&(d=S(d,P));else if(d&&typeof d.handleEvent=="function")d=S(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:m.setTimeout(d,w||0)}function Yr(d){d.g=Js(()=>{d.g=null,d.i&&(d.i=!1,Yr(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class vi extends ce{constructor(w,P){super(),this.m=w,this.l=P,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Yr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(d){ce.call(this),this.h=d,this.g={}}M(Ki,ce);var zo=[];function Zi(d){ae(d.g,function(w,P){this.g.hasOwnProperty(P)&&Ar(w)},d),d.g={}}Ki.prototype.N=function(){Ki.aa.N.call(this),Zi(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bo=m.JSON.stringify,ea=m.JSON.parse,Xr=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function qi(){}qi.prototype.h=null;function jo(d){return d.h||(d.h=d.i())}function Qi(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){we.call(this,"d")}M(pr,we);function Uo(){we.call(this,"c")}M(Uo,we);var kr={},ta=null;function Yi(){return ta=ta||new Lt}kr.La="serverreachability";function na(d){we.call(this,kr.La,d)}M(na,we);function Jr(d){const w=Yi();zt(w,new na(w))}kr.STAT_EVENT="statevent";function Xi(d,w){we.call(this,kr.STAT_EVENT,d),this.stat=w}M(Xi,we);function Mt(d){const w=Yi();zt(w,new Xi(w,d))}kr.Ma="timingevent";function $o(d,w){we.call(this,kr.Ma,d),this.size=w}M($o,we);function mr(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},w)}function Ji(){this.g=!0}Ji.prototype.xa=function(){this.g=!1};function ln(d,w,P,O,J,le){d.info(function(){if(d.g)if(le)for(var ye="",ht=le.split("&"),jt=0;jt<ht.length;jt++){var it=ht[jt].split("=");if(1<it.length){var ft=it[0];it=it[1];var xt=ft.split("_");ye=2<=xt.length&&xt[1]=="type"?ye+(ft+"="+it+"&"):ye+(ft+"=redacted&")}}else ye=null;else ye=le;return"XMLHTTP REQ ("+O+") [attempt "+J+"]: "+w+`
`+P+`
`+ye})}function ke(d,w,P,O,J,le,ye){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+J+"]: "+w+`
`+P+`
`+le+" "+ye})}function Gn(d,w,P,O){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Va(d,P)+(O?" "+O:"")})}function Wo(d,w){d.info(function(){return"TIMEOUT: "+w})}Ji.prototype.info=function(){};function Va(d,w){if(!d.g)return w;if(!w)return null;try{var P=JSON.parse(w);if(P){for(d=0;d<P.length;d++)if(Array.isArray(P[d])){var O=P[d];if(!(2>O.length)){var J=O[1];if(Array.isArray(J)&&!(1>J.length)){var le=J[0];if(le!="noop"&&le!="stop"&&le!="close")for(var ye=1;ye<J.length;ye++)J[ye]=""}}}}return Bo(P)}catch{return w}}var eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ho={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Zn(){}M(Zn,qi),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Kn=new Zn;function qn(d,w,P,O){this.j=d,this.i=w,this.l=P,this.R=O||1,this.U=new Ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fa}function Fa(){this.i=null,this.g="",this.h=!1}var ra={},Go={};function Ko(d,w,P){d.L=1,d.v=Pn(Ct(w)),d.m=P,d.P=!0,Zo(d,null)}function Zo(d,w){d.F=Date.now(),wt(d),d.A=Ct(d.v);var P=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),Ci(P.i,"t",O),d.C=0,P=d.j.J,d.h=new Fa,d.g=$a(d.j,P?w:null,!d.m),0<d.O&&(d.M=new vi(S(d.Y,d,d.g),d.O)),w=d.U,P=d.g,O=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(zo[0]=J.toString()),J=zo);for(var le=0;le<J.length;le++){var ye=_i(P,J[le],O||w.handleEvent,!1,w.h||w);if(!ye)break;w.g[ye.key]=ye}w=d.H?D(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),Jr(),ln(d.i,d.u,d.A,d.l,d.R,d.m)}qn.prototype.ca=function(d){d=d.target;const w=this.M;w&&Gt(d)==3?w.j():this.Y(d)},qn.prototype.Y=function(d){try{if(d==this.g)e:{const xt=Gt(this.g);var w=this.g.Ba();const rr=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||es(this.g)))){this.J||xt!=4||w==7||(w==8||0>=rr?Jr(3):Jr(2)),to(this);var P=this.g.Z();this.X=P;t:if(za(this)){var O=es(this.g);d="";var J=O.length,le=Gt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),yi(this);var ye="";break t}this.h.i=new m.TextDecoder}for(w=0;w<J;w++)this.h.h=!0,d+=this.h.i.decode(O[w],{stream:!(le&&w==J-1)});O.length=0,this.h.g+=d,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=P==200,ke(this.i,this.u,this.A,this.l,this.R,xt,P),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,jt=this.g;if((ht=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(ht)){var it=ht;break t}}it=null}if(P=it)Gn(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,no(this,P);else{this.o=!1,this.s=3,Mt(12),Qn(this),yi(this);break e}}if(this.P){P=!0;let Nt;for(;!this.J&&this.C<ye.length;)if(Nt=qo(this,ye),Nt==Go){xt==4&&(this.s=4,Mt(14),P=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==ra){this.s=4,Mt(15),Gn(this.i,this.l,ye,"[Invalid Chunk]"),P=!1;break}else Gn(this.i,this.l,Nt,null),no(this,Nt);if(za(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ye.length!=0||this.h.h||(this.s=1,Mt(16),P=!1),this.o=this.o&&P,!P)Gn(this.i,this.l,ye,"[Invalid Chunked Response]"),Qn(this),yi(this);else if(0<ye.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),rs(ft),ft.M=!0,Mt(11))}}else Gn(this.i,this.l,ye,null),no(this,ye);xt==4&&Qn(this),this.o&&!this.J&&(xt==4?ho(this.j,this):(this.o=!1,wt(this)))}else ts(this.g),P==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Qn(this),yi(this)}}}catch{}finally{}};function za(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function qo(d,w){var P=d.C,O=w.indexOf(`
`,P);return O==-1?Go:(P=Number(w.substring(P,O)),isNaN(P)?ra:(O+=1,O+P>w.length?Go:(w=w.slice(O,O+P),d.C=O+P,w)))}qn.prototype.cancel=function(){this.J=!0,Qn(this)};function wt(d){d.S=Date.now()+d.I,Ba(d,d.I)}function Ba(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=mr(S(d.ba,d),w)}function to(d){d.B&&(m.clearTimeout(d.B),d.B=null)}qn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Wo(this.i,this.A),this.L!=2&&(Jr(),Mt(17)),Qn(this),this.s=2,yi(this)):Ba(this,this.S-d)};function yi(d){d.j.G==0||d.J||ho(d.j,d)}function Qn(d){to(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,Zi(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function no(d,w){try{var P=d.j;if(P.G!=0&&(P.g==d||We(P.h,d))){if(!d.K&&We(P.h,d)&&P.G==3){try{var O=P.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var J=O;if(J[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<d.F)os(P),vr(P);else break e;co(P),Mt(18)}}else P.za=J[1],0<P.za-P.T&&37500>J[2]&&P.F&&P.v==0&&!P.C&&(P.C=mr(S(P.Za,P),6e3));if(1>=xi(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else oi(P,11)}else if((d.K||P.g==d)&&os(P),!Z(w))for(J=P.Da.g.parse(w),w=0;w<J.length;w++){let it=J[w];if(P.T=it[0],it=it[1],P.G==2)if(it[0]=="c"){P.K=it[1],P.ia=it[2];const ft=it[3];ft!=null&&(P.la=ft,P.j.info("VER="+P.la));const xt=it[4];xt!=null&&(P.Aa=xt,P.j.info("SVER="+P.Aa));const rr=it[5];rr!=null&&typeof rr=="number"&&0<rr&&(O=1.5*rr,P.L=O,P.j.info("backChannelRequestTimeoutMs_="+O)),O=P;const Nt=d.g;if(Nt){const po=Nt.g?Nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var le=O.h;le.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(gt(le,le.h),le.h=null))}if(O.D){const yr=Nt.g?Nt.g.getResponseHeader("X-HTTP-Session-Id"):null;yr&&(O.ya=yr,He(O.I,O.D,yr))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-d.F,P.j.info("Handshake RTT: "+P.R+"ms")),O=P;var ye=d;if(O.qa=ss(O,O.J?O.ia:null,O.W),ye.K){ro(O.h,ye);var ht=ye,jt=O.L;jt&&(ht.I=jt),ht.B&&(to(ht),wt(ht)),O.g=ye}else In(O);0<P.i.length&&nr(P)}else it[0]!="stop"&&it[0]!="close"||oi(P,7);else P.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?oi(P,7):Kt(P):it[0]!="noop"&&P.l&&P.l.ta(it),P.v=0)}}Jr(4)}catch{}}var wi=class{constructor(d,w){this.g=d,this.map=w}};function Ei(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function xi(d){return d.h?1:d.g?d.g.size:0}function We(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function gt(d,w){d.g?d.g.add(w):d.h=w}function ro(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Ei.prototype.cancel=function(){if(this.i=ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ei(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const P of d.g.values())w=w.concat(P.D);return w}return b(d.i)}function gr(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(g(d)){for(var w=[],P=d.length,O=0;O<P;O++)w.push(d[O]);return w}w=[],P=0;for(O in d)w[P++]=d[O];return w}function Ti(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(g(d)||typeof d=="string"){var w=[];d=d.length;for(var P=0;P<d;P++)w.push(P);return w}w=[],P=0;for(const O in d)w[P++]=O;return w}}}function Ue(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(g(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var P=Ti(d),O=gr(d),J=O.length,le=0;le<J;le++)w.call(void 0,O[le],P&&P[le],d)}var _t=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(d,w){if(d){d=d.split("&");for(var P=0;P<d.length;P++){var O=d[P].indexOf("="),J=null;if(0<=O){var le=d[P].substring(0,O);J=d[P].substring(O+1)}else le=d[P];w(le,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Yn(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Yn){this.h=d.h,io(this,d.j),this.o=d.o,this.g=d.g,_r(this,d.s),this.l=d.l;var w=d.i,P=new Jn;P.i=w.i,w.g&&(P.g=new Map(w.g),P.h=w.h),Sn(this,P),this.m=d.m}else d&&(w=String(d).match(_t))?(this.h=!1,io(this,w[1]||"",!0),this.o=Je(w[2]||""),this.g=Je(w[3]||"",!0),_r(this,w[4]),this.l=Je(w[5]||"",!0),Sn(this,w[6]||"",!0),this.m=Je(w[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}Yn.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Xn(w,Lr,!0),":");var P=this.g;return(P||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Xn(w,Lr,!0),"@"),d.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&d.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&d.push("/"),d.push(Xn(P,P.charAt(0)=="/"?Xo:Yo,!0))),(P=this.i.toString())&&d.push("?",P),(P=this.m)&&d.push("#",Xn(P,so)),d.join("")};function Ct(d){return new Yn(d)}function io(d,w,P){d.j=P?Je(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function _r(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Sn(d,w,P){w instanceof Jn?(d.i=w,$t(d.i,d.h)):(P||(w=Xn(w,oo)),d.i=new Jn(w,d.h))}function He(d,w,P){d.i.set(w,P)}function Pn(d){return He(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Je(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Xn(d,w,P){return typeof d=="string"?(d=encodeURI(d).replace(w,Qo),P&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Qo(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Lr=/[#\/\?@]/g,Yo=/[#\?:]/g,Xo=/[#\?]/g,oo=/[#\?@]/g,so=/#/g;function Jn(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Bt(d){d.g||(d.g=new Map,d.h=0,d.i&&ia(d.i,function(w,P){d.add(decodeURIComponent(w.replace(/\+/g," ")),P)}))}n=Jn.prototype,n.add=function(d,w){Bt(this),this.i=null,d=De(this,d);var P=this.g.get(d);return P||this.g.set(d,P=[]),P.push(w),this.h+=1,this};function er(d,w){Bt(d),w=De(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function zn(d,w){return Bt(d),w=De(d,w),d.g.has(w)}n.forEach=function(d,w){Bt(this),this.g.forEach(function(P,O){P.forEach(function(J){d.call(w,J,O,this)},this)},this)},n.na=function(){Bt(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),P=[];for(let O=0;O<w.length;O++){const J=d[O];for(let le=0;le<J.length;le++)P.push(w[O])}return P},n.V=function(d){Bt(this);let w=[];if(typeof d=="string")zn(this,d)&&(w=w.concat(this.g.get(De(this,d))));else{d=Array.from(this.g.values());for(let P=0;P<d.length;P++)w=w.concat(d[P])}return w},n.set=function(d,w){return Bt(this),this.i=null,d=De(this,d),zn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},n.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Ci(d,w,P){er(d,w),0<P.length&&(d.i=null,d.g.set(De(d,w),b(P)),d.h+=P.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var P=0;P<w.length;P++){var O=w[P];const le=encodeURIComponent(String(O)),ye=this.V(O);for(O=0;O<ye.length;O++){var J=le;ye[O]!==""&&(J+="="+encodeURIComponent(String(ye[O]))),d.push(J)}}return this.i=d.join("&")};function De(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function $t(d,w){w&&!d.j&&(Bt(d),d.i=null,d.g.forEach(function(P,O){var J=O.toLowerCase();O!=J&&(er(this,O),Ci(this,J,P))},d)),d.j=w}function dt(d,w){const P=new Ji;if(m.Image){const O=new Image;O.onload=A(un,P,"TestLoadImage: loaded",!0,w,O),O.onerror=A(un,P,"TestLoadImage: error",!1,w,O),O.onabort=A(un,P,"TestLoadImage: abort",!1,w,O),O.ontimeout=A(un,P,"TestLoadImage: timeout",!1,w,O),m.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else w(!1)}function oa(d,w){const P=new Ji,O=new AbortController,J=setTimeout(()=>{O.abort(),un(P,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:O.signal}).then(le=>{clearTimeout(J),le.ok?un(P,"TestPingServer: ok",!0,w):un(P,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),un(P,"TestPingServer: error",!1,w)})}function un(d,w,P,O,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),O(P)}catch{}}function sa(){this.g=new Xr}function Jo(d,w,P){const O=P||"";try{Ue(d,function(J,le){let ye=J;y(J)&&(ye=Bo(J)),w.push(O+le+"="+encodeURIComponent(ye))})}catch(J){throw w.push(O+"type="+encodeURIComponent("_badmap")),J}}function gn(d){this.l=d.Ub||null,this.j=d.eb||!1}M(gn,qi),gn.prototype.g=function(){return new ti(this.l,this.j)},gn.prototype.i=function(d){return function(){return d}}({});function ti(d,w){Lt.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ti,Lt),n=ti.prototype,n.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,Xt(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||m).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vt(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xt(this)),this.g&&(this.readyState=3,Xt(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Si(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Si(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?vt(this):Xt(this),this.readyState==3&&Si(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,vt(this))},n.Qa=function(d){this.g&&(this.response=d,vt(this))},n.ga=function(){this.g&&vt(this)};function vt(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Xt(d)}n.setRequestHeader=function(d,w){this.u.append(d,w)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var P=w.next();!P.done;)P=P.value,d.push(P[0]+": "+P[1]),P=w.next();return d.join(`\r
`)};function Xt(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Mr(d){let w="";return ae(d,function(P,O){w+=O,w+=":",w+=P,w+=`\r
`}),w}function ni(d,w,P){e:{for(O in P){var O=!1;break e}O=!0}O||(P=Mr(P),typeof d=="string"?P!=null&&encodeURIComponent(String(P)):He(d,w,P))}function St(d){Lt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(St,Lt);var ja=/^https?$/i,ao=["POST","PUT"];n=St.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,w,P,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?jo(this.o):jo(Kn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(le){lo(this,le);return}if(d=P||"",P=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var J in O)P.set(J,O[J]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const le of O.keys())P.set(le,O.get(le));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(P.keys()).find(le=>le.toLowerCase()=="content-type"),J=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ao,w,void 0))||O||J||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,ye]of P)this.g.setRequestHeader(le,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cn(this),this.u=!0,this.g.send(d),this.u=!1}catch(le){lo(this,le)}};function lo(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,uo(d),Bn(d)}function uo(d){d.A||(d.A=!0,zt(d,"complete"),zt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,zt(this,"complete"),zt(this,"abort"),Bn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bn(this,!0)),St.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tt(this):this.bb())},n.bb=function(){tt(this)};function tt(d){if(d.h&&typeof h<"u"&&(!d.v[1]||Gt(d)!=4||d.Z()!=2)){if(d.u&&Gt(d)==4)Js(d.Ea,0,d);else if(zt(d,"readystatechange"),Gt(d)==4){d.h=!1;try{const ye=d.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var P;if(!(P=w)){var O;if(O=ye===0){var J=String(d.D).match(_t)[1]||null;!J&&m.self&&m.self.location&&(J=m.self.location.protocol.slice(0,-1)),O=!ja.test(J?J.toLowerCase():"")}P=O}if(P)zt(d,"complete"),zt(d,"success");else{d.m=6;try{var le=2<Gt(d)?d.g.statusText:""}catch{le=""}d.l=le+" ["+d.Z()+"]",uo(d)}}finally{Bn(d)}}}}function Bn(d,w){if(d.g){cn(d);const P=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||zt(d,"ready");try{P.onreadystatechange=O}catch{}}}function cn(d){d.I&&(m.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Gt(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),ea(w)}};function es(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(d){const w={};d=(d.g&&2<=Gt(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(Z(d[O]))continue;var P=W(d[O]);const J=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const le=w[J]||[];w[J]=le,le.push(P)}z(w,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(d,w,P){return P&&P.internalChannelParams&&P.internalChannelParams[d]||w}function aa(d){this.Aa=0,this.i=[],this.j=new Ji,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tr("baseRetryDelayMs",5e3,d),this.cb=tr("retryDelaySeedMs",1e4,d),this.Wa=tr("forwardChannelMaxRetries",2,d),this.wa=tr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ei(d&&d.concurrentRequestLimit),this.Da=new sa,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=aa.prototype,n.la=8,n.G=1,n.connect=function(d,w,P,O){Mt(0),this.W=d,this.H=w||{},P&&O!==void 0&&(this.H.OSID=P,this.H.OAID=O),this.F=this.X,this.I=ss(this,null,this.W),nr(this)};function Kt(d){if(ns(d),d.G==3){var w=d.U++,P=Ct(d.I);if(He(P,"SID",d.K),He(P,"RID",w),He(P,"TYPE","terminate"),ri(d,P),w=new qn(d,d.j,w),w.L=2,w.v=Pn(Ct(P)),P=!1,m.navigator&&m.navigator.sendBeacon)try{P=m.navigator.sendBeacon(w.v.toString(),"")}catch{}!P&&m.Image&&(new Image().src=w.v,P=!0),P||(w.g=$a(w.j,null),w.g.ea(w.v)),w.F=Date.now(),wt(w)}Ua(d)}function vr(d){d.g&&(rs(d),d.g.cancel(),d.g=null)}function ns(d){vr(d),d.u&&(m.clearTimeout(d.u),d.u=null),os(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function nr(d){if(!Cn(d.h)&&!d.s){d.s=!0;var w=d.Ga;Ne||ue(),ne||(Ne(),ne=!0),he.add(w,d),d.B=0}}function Yl(d,w){return xi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=mr(S(d.Ga,d,w),la(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new qn(this,this.j,d);let le=this.o;if(this.S&&(le?(le=D(le),U(le,this.S)):le=this.S),this.m!==null||this.O||(J.H=le,le=null),this.P)e:{for(var w=0,P=0;P<this.i.length;P++){t:{var O=this.i[P];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=P;break e}if(w===4096||P===this.i.length-1){w=P+1;break e}}w=1e3}else w=1e3;w=ii(this,J,w),P=Ct(this.I),He(P,"RID",d),He(P,"CVER",22),this.D&&He(P,"X-HTTP-Session-Id",this.D),ri(this,P),le&&(this.O?w="headers="+encodeURIComponent(String(Mr(le)))+"&"+w:this.m&&ni(P,this.m,le)),gt(this.h,J),this.Ua&&He(P,"TYPE","init"),this.P?(He(P,"$req",w),He(P,"SID","null"),J.T=!0,Ko(J,P,null)):Ko(J,P,w),this.G=2}}else this.G==3&&(d?_n(this,d):this.i.length==0||Cn(this.h)||_n(this))};function _n(d,w){var P;w?P=w.l:P=d.U++;const O=Ct(d.I);He(O,"SID",d.K),He(O,"RID",P),He(O,"AID",d.T),ri(d,O),d.m&&d.o&&ni(O,d.m,d.o),P=new qn(d,d.j,P,d.B+1),d.m===null&&(P.H=d.o),w&&(d.i=w.D.concat(d.i)),w=ii(d,P,1e3),P.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),gt(d.h,P),Ko(P,O,w)}function ri(d,w){d.H&&ae(d.H,function(P,O){He(w,O,P)}),d.l&&Ue({},function(P,O){He(w,O,P)})}function ii(d,w,P){P=Math.min(d.i.length,P);var O=d.l?S(d.l.Na,d.l,d):null;e:{var J=d.i;let le=-1;for(;;){const ye=["count="+P];le==-1?0<P?(le=J[0].g,ye.push("ofs="+le)):le=0:ye.push("ofs="+le);let ht=!0;for(let jt=0;jt<P;jt++){let it=J[jt].g;const ft=J[jt].map;if(it-=le,0>it)le=Math.max(0,J[jt].g-100),ht=!1;else try{Jo(ft,ye,"req"+it+"_")}catch{O&&O(ft)}}if(ht){O=ye.join("&");break e}}}return d=d.i.splice(0,P),w.D=d,O}function In(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;Ne||ue(),ne||(Ne(),ne=!0),he.add(w,d),d.v=0}}function co(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=mr(S(d.Fa,d),la(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,is(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=mr(S(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),vr(this),is(this))};function rs(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function is(d){d.g=new qn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Ct(d.qa);He(w,"RID","rpc"),He(w,"SID",d.K),He(w,"AID",d.T),He(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&He(w,"TO",d.ja),He(w,"TYPE","xmlhttp"),ri(d,w),d.m&&d.o&&ni(w,d.m,d.o),d.L&&(d.g.I=d.L);var P=d.g;d=d.ia,P.L=1,P.v=Pn(Ct(w)),P.m=null,P.P=!0,Zo(P,d)}n.Za=function(){this.C!=null&&(this.C=null,vr(this),co(this),Mt(19))};function os(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function ho(d,w){var P=null;if(d.g==w){os(d),rs(d),d.g=null;var O=2}else if(We(d.h,w))P=w.D,ro(d.h,w),O=1;else return;if(d.G!=0){if(w.o)if(O==1){P=w.m?w.m.length:0,w=Date.now()-w.F;var J=d.B;O=Yi(),zt(O,new $o(O,P)),nr(d)}else In(d);else if(J=w.s,J==3||J==0&&0<w.X||!(O==1&&Yl(d,w)||O==2&&co(d)))switch(P&&0<P.length&&(w=d.h,w.i=w.i.concat(P)),J){case 1:oi(d,5);break;case 4:oi(d,10);break;case 3:oi(d,6);break;default:oi(d,2)}}}function la(d,w){let P=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(P*=2),P*w}function oi(d,w){if(d.j.info("Error code "+w),w==2){var P=S(d.fb,d),O=d.Xa;const J=!O;O=new Yn(O||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||io(O,"https"),Pn(O),J?dt(O.toString(),P):oa(O.toString(),P)}else Mt(2);d.G=0,d.l&&d.l.sa(w),Ua(d),ns(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Ua(d){if(d.G=0,d.ka=[],d.l){const w=ei(d.h);(w.length!=0||d.i.length!=0)&&(N(d.ka,w),N(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function ss(d,w,P){var O=P instanceof Yn?Ct(P):new Yn(P);if(O.g!="")w&&(O.g=w+"."+O.g),_r(O,O.s);else{var J=m.location;O=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;var le=new Yn(null);O&&io(le,O),w&&(le.g=w),J&&_r(le,J),P&&(le.l=P),O=le}return P=d.D,w=d.ya,P&&w&&He(O,P,w),He(O,"VER",d.la),ri(d,O),O}function $a(d,w,P){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new St(new gn({eb:P})):new St(d.pa),w.Ha(d.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function as(){}n=as.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function fo(){}fo.prototype.g=function(d,w){return new Zt(d,w)};function Zt(d,w){Lt.call(this),this.g=new aa(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!Z(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!Z(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Rn(this)}M(Zt,Lt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Kt(this.g)},Zt.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var P={};P.__data__=d,d=P}else this.u&&(P={},P.__data__=Bo(d),d=P);w.i.push(new wi(w.Ya++,d)),w.G==3&&nr(w)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,Zt.aa.N.call(this)};function Nr(d){pr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const P in w){d=P;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}M(Nr,pr);function Wa(){Uo.call(this),this.status=1}M(Wa,Uo);function Rn(d){this.g=d}M(Rn,as),Rn.prototype.ua=function(){zt(this.g,"a")},Rn.prototype.ta=function(d){zt(this.g,new Nr(d))},Rn.prototype.sa=function(d){zt(this.g,new Wa)},Rn.prototype.ra=function(){zt(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,gw=function(){return new fo},mw=function(){return Yi()},pw=kr,Sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,Ch=eo,Ho.COMPLETE="complete",fw=Ho,Qi.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,Au=Qi,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,dw=St}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const Cv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new ow("@firebase/firestore");function yl(){return Aa.logLevel}function Se(n,...e){if(Aa.logLevel<=lt.DEBUG){const t=e.map(dm);Aa.debug(`Firestore (${Ul}): ${n}`,...t)}}function ko(n,...e){if(Aa.logLevel<=lt.ERROR){const t=e.map(dm);Aa.error(`Firestore (${Ul}): ${n}`,...t)}}function Al(n,...e){if(Aa.logLevel<=lt.WARN){const t=e.map(dm);Aa.warn(`Firestore (${Ul}): ${n}`,...t)}}function dm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(n="Unexpected state"){const e=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: `+n;throw ko(e),new Error(e)}function mt(n,e){n||Ke()}function Qe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends jl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dn.UNAUTHENTICATED))}shutdown(){}}class ZS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qS{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0);let o=this.i;const a=g=>this.i!==o?(o=this.i,t(g)):Promise.resolve();let u=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fs,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fs)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(mt(typeof o.accessToken=="string"),new _w(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string"),new Dn(e)}}class QS{constructor(e,t,o){this.l=e,this.h=t,this.P=o,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class YS{constructor(e,t,o){this.l=e,this.h=t,this.P=o}getToken(){return Promise.resolve(new QS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){mt(this.o===void 0);const o=u=>{u.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,Se("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt(typeof t.token=="string"),this.R=t.token,new XS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let o=0;o<n;o++)t[o]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const a=eP(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<t&&(o+=e.charAt(a[u]%e.length))}return o}}function st(n,e){return n<e?-1:n>e?1:0}function bl(n,e,t){return n.length===e.length&&n.every((o,a)=>t(o,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new rn(t,o)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new rn(0,0))}static max(){return new qe(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t,o){t===void 0?t=0:t>e.length&&Ke(),o===void 0?o=e.length-t:o>e.length-t&&Ke(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return $u.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $u?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const u=e.get(a),h=t.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kt extends $u{construct(e,t,o){return new kt(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new kt(t)}static emptyPath(){return new kt([])}}const tP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends $u{construct(e,t,o){return new En(e,t,o)}static isValidIdentifier(e){return tP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new En(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const u=()=>{if(o.length===0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new Oe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Oe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(o+=m,a++):(u(),a++)}if(u(),h)throw new Oe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(t)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(kt.fromString(e))}static fromName(e){return new Be(kt.fromString(e).popFirst(5))}static empty(){return new Be(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new kt(e.slice()))}}function nP(n,e){const t=n.toTimestamp().seconds,o=n.toTimestamp().nanoseconds+1,a=qe.fromTimestamp(o===1e9?new rn(t+1,0):new rn(t,o));return new Us(a,Be.empty(),e)}function rP(n){return new Us(n.readTime,n.key,-1)}class Us{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Us(qe.min(),Be.empty(),-1)}static max(){return new Us(qe.max(),Be.empty(),-1)}}function iP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==oP)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,o)=>{t(e)})}static reject(e){return new de((t,o)=>{o(e)})}static waitFor(e){return new de((t,o)=>{let a=0,u=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++u,h&&u===a&&t()},g=>o(g))}),h=!0,u===a&&t()})}static or(e){let t=de.resolve(!1);for(const o of e)t=t.next(a=>a?de.resolve(a):o());return t}static forEach(e,t){const o=[];return e.forEach((a,u)=>{o.push(t.call(this,a,u))}),this.waitFor(o)}static mapArray(e,t){return new de((o,a)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next(x=>{h[y]=x,++m,m===u&&o(h)},x=>a(x))}})}static doWhile(e,t){return new de((o,a)=>{const u=()=>{e()===!0?t().next(()=>{u()},a):o()};u()})}}function aP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ie(o),this.se=o=>t.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ad.oe=-1;function ld(n){return n==null}function zh(n){return n===0&&1/n==-1/0}function lP(n){return typeof n=="number"&&Number.isInteger(n)&&!zh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Sv(e)),e=cP(n.get(t),e);return Sv(e)}function cP(n,e){let t=e;const o=n.length;for(let a=0;a<o;a++){const u=n.charAt(a);switch(u){case"\0":t+="";break;case"":t+="";break;default:t+=u}}return t}function Sv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t){this.comparator=e,this.root=t||wn.EMPTY}insert(e,t){return new Ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(o===0)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(a===0)return t+o.left.size;a<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,t,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,t,o,a,u){this.key=e,this.value=t,this.color=o??wn.RED,this.left=a??wn.EMPTY,this.right=u??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,a,u){return new wn(e??this.key,t??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,o),null):u===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return wn.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,t,o,a,u){return this}insert(e,t,o){return new wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let o;for(o=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(e){return new Iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new on(this.comparator);return t.data=e,t}}class Iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new Pr([])}unionWith(e){let t=new on(En.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,(t,o)=>t.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ww("Invalid base64 string: "+u):u}}(e);return new xn(t)}static fromUint8Array(e){const t=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const o=new Uint8Array(t.length);for(let a=0;a<t.length;a++)o[a]=t.charCodeAt(a);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const hP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(n){if(mt(!!n),typeof n=="string"){let e=0;const t=hP.exec(n);if(mt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(n);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ws(n){return typeof n=="string"?xn.fromBase64String(n):xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function ud(n){const e=n.mapValue.fields.__previous_value__;return fm(e)?ud(e):e}function Wu(n){const e=$s(n.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t,o,a,u,h,m,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}class Hu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fm(n)?4:pP(n)?9007199254740991:fP(n)?10:11:Ke()}function Bi(n,e){if(n===e)return!0;const t=Hs(n);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wu(n).isEqual(Wu(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=$s(a.timestampValue),m=$s(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,u){return Ws(a.bytesValue).isEqual(Ws(u.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,u){return Ht(a.geoPointValue.latitude)===Ht(u.geoPointValue.latitude)&&Ht(a.geoPointValue.longitude)===Ht(u.geoPointValue.longitude)}(n,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return Ht(a.integerValue)===Ht(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=Ht(a.doubleValue),m=Ht(u.doubleValue);return h===m?zh(h)===zh(m):isNaN(h)&&isNaN(m)}return!1}(n,e);case 9:return bl(n.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(Pv(h)!==Pv(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Bi(h[g],m[g])))return!1;return!0}(n,e);default:return Ke()}}function Gu(n,e){return(n.values||[]).find(t=>Bi(t,e))!==void 0}function kl(n,e){if(n===e)return 0;const t=Hs(n),o=Hs(e);if(t!==o)return st(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return function(u,h){const m=Ht(u.integerValue||u.doubleValue),g=Ht(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(n,e);case 3:return Rv(n.timestampValue,e.timestampValue);case 4:return Rv(Wu(n),Wu(e));case 5:return st(n.stringValue,e.stringValue);case 6:return function(u,h){const m=Ws(u),g=Ws(h);return m.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let y=0;y<m.length&&y<g.length;y++){const x=st(m[y],g[y]);if(x!==0)return x}return st(m.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(u,h){const m=st(Ht(u.latitude),Ht(h.latitude));return m!==0?m:st(Ht(u.longitude),Ht(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Av(n.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,y,x;const C=u.fields||{},S=h.fields||{},A=(m=C.value)===null||m===void 0?void 0:m.arrayValue,M=(g=S.value)===null||g===void 0?void 0:g.arrayValue,b=st(((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0,((x=M==null?void 0:M.values)===null||x===void 0?void 0:x.length)||0);return b!==0?b:Av(A,M)}(n.mapValue,e.mapValue);case 11:return function(u,h){if(u===dh.mapValue&&h===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(h===dh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=h.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let C=0;C<g.length&&C<x.length;++C){const S=st(g[C],x[C]);if(S!==0)return S;const A=kl(m[g[C]],y[x[C]]);if(A!==0)return A}return st(g.length,x.length)}(n.mapValue,e.mapValue);default:throw Ke()}}function Rv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=$s(n),o=$s(e),a=st(t.seconds,o.seconds);return a!==0?a:st(t.nanos,o.nanos)}function Av(n,e){const t=n.values||[],o=e.values||[];for(let a=0;a<t.length&&a<o.length;++a){const u=kl(t[a],o[a]);if(u)return u}return st(t.length,o.length)}function Ll(n){return Pp(n)}function Pp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const o=$s(t);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ws(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let o="[",a=!0;for(const u of t.values||[])a?a=!1:o+=",",o+=Pp(u);return o+"]"}(n.arrayValue):"mapValue"in n?function(t){const o=Object.keys(t.fields||{}).sort();let a="{",u=!0;for(const h of o)u?u=!1:a+=",",a+=`${h}:${Pp(t.fields[h])}`;return a+"}"}(n.mapValue):Ke()}function Sh(n){switch(Hs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(n);return e?16+Sh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ws(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((a,u)=>a+Sh(u),0)}(n.arrayValue);case 10:case 11:return function(o){let a=0;return Qs(o.fields,(u,h)=>{a+=u.length+Sh(h)}),a}(n.mapValue);default:throw Ke()}}function Ip(n){return!!n&&"integerValue"in n}function pm(n){return!!n&&"arrayValue"in n}function bv(n){return!!n&&"nullValue"in n}function kv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ph(n){return!!n&&"mapValue"in n}function fP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Du(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qs(n.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Du(o)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Du(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(t)}setAll(e){let t=En.emptyPath(),o={},a=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,o,a),o={},a=[],t=m.popLast()}h?o[m.lastSegment()]=Du(h):a.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,a)}delete(e){const t=this.field(e.popLast());Ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];Ph(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){Qs(t,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new hr(Du(this.value))}}function Ew(n){const e=[];return Qs(n.fields,(t,o)=>{const a=new En([t]);if(Ph(o)){const u=Ew(o.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,t,o,a,u,h,m){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new On(e,0,qe.min(),qe.min(),qe.min(),hr.empty(),0)}static newFoundDocument(e,t,o,a){return new On(e,1,t,qe.min(),o,a,0)}static newNoDocument(e,t){return new On(e,2,t,qe.min(),qe.min(),hr.empty(),0)}static newUnknownDocument(e,t){return new On(e,3,t,qe.min(),qe.min(),hr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t){this.position=e,this.inclusive=t}}function Lv(n,e,t){let o=0;for(let a=0;a<n.position.length;a++){const u=e[a],h=n.position[a];if(u.field.isKeyField()?o=Be.comparator(Be.fromName(h.referenceValue),t.key):o=kl(h,t.data.field(u.field)),u.dir==="desc"&&(o*=-1),o!==0)break}return o}function Mv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t="asc"){this.field=e,this.dir=t}}function mP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xw=class{};class nn extends xw{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,o):new _P(e,t,o):t==="array-contains"?new wP(e,o):t==="in"?new EP(e,o):t==="not-in"?new xP(e,o):t==="array-contains-any"?new TP(e,o):new nn(e,t,o)}static createKeyFieldInFilter(e,t,o){return t==="in"?new vP(e,o):new yP(e,o)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(kl(t,this.value)):t!==null&&Hs(this.value)===Hs(t)&&this.matchesComparison(kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends xw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ji(e,t)}matches(e){return Tw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Tw(n){return n.op==="and"}function Cw(n){return gP(n)&&Tw(n)}function gP(n){for(const e of n.filters)if(e instanceof ji)return!1;return!0}function Rp(n){if(n instanceof nn)return n.field.canonicalString()+n.op.toString()+Ll(n.value);if(Cw(n))return n.filters.map(e=>Rp(e)).join(",");{const e=n.filters.map(t=>Rp(t)).join(",");return`${n.op}(${e})`}}function Sw(n,e){return n instanceof nn?function(o,a){return a instanceof nn&&o.op===a.op&&o.field.isEqual(a.field)&&Bi(o.value,a.value)}(n,e):n instanceof ji?function(o,a){return a instanceof ji&&o.op===a.op&&o.filters.length===a.filters.length?o.filters.reduce((u,h,m)=>u&&Sw(h,a.filters[m]),!0):!1}(n,e):void Ke()}function Pw(n){return n instanceof nn?function(t){return`${t.field.canonicalString()} ${t.op} ${Ll(t.value)}`}(n):n instanceof ji?function(t){return t.op.toString()+" {"+t.getFilters().map(Pw).join(" ,")+"}"}(n):"Filter"}class _P extends nn{constructor(e,t,o){super(e,t,o),this.key=Be.fromName(o.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class vP extends nn{constructor(e,t){super(e,"in",t),this.keys=Iw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yP extends nn{constructor(e,t){super(e,"not-in",t),this.keys=Iw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Iw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(o=>Be.fromName(o.referenceValue))}class wP extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pm(t)&&Gu(t.arrayValue,this.value)}}class EP extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gu(this.value.arrayValue,t)}}class xP extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Gu(this.value.arrayValue,t)}}class TP extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Gu(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,t=null,o=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function Nv(n,e=null,t=[],o=[],a=null,u=null,h=null){return new CP(n,e,t,o,a,u,h)}function mm(n){const e=Qe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Rp(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>function(u){return u.field.canonicalString()+u.dir}(o)).join(","),ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Ll(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Ll(o)).join(",")),e.ue=t}return e.ue}function gm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Sw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Mv(n.startAt,e.startAt)&&Mv(n.endAt,e.endAt)}function Ap(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t=null,o=[],a=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function SP(n,e,t,o,a,u,h,m){return new cd(n,e,t,o,a,u,h,m)}function Rw(n){return new cd(n)}function Dv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function PP(n){return n.collectionGroup!==null}function Ou(n){const e=Qe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new on(En.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new jh(u,o))}),t.has(En.keyField().canonicalString())||e.ce.push(new jh(En.keyField(),o))}return e.ce}function Oi(n){const e=Qe(n);return e.le||(e.le=IP(e,Ou(n))),e.le}function IP(n,e){if(n.limitType==="F")return Nv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new jh(a.field,u)});const t=n.endAt?new Bh(n.endAt.position,n.endAt.inclusive):null,o=n.startAt?new Bh(n.startAt.position,n.startAt.inclusive):null;return Nv(n.path,n.collectionGroup,e,n.filters,n.limit,t,o)}}function bp(n,e,t){return new cd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hd(n,e){return gm(Oi(n),Oi(e))&&n.limitType===e.limitType}function Aw(n){return`${mm(Oi(n))}|lt:${n.limitType}`}function wl(n){return`Query(target=${function(t){let o=t.path.canonicalString();return t.collectionGroup!==null&&(o+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(o+=`, filters: [${t.filters.map(a=>Pw(a)).join(", ")}]`),ld(t.limit)||(o+=", limit: "+t.limit),t.orderBy.length>0&&(o+=`, orderBy: [${t.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),t.startAt&&(o+=", startAt: ",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(a=>Ll(a)).join(",")),t.endAt&&(o+=", endAt: ",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(a=>Ll(a)).join(",")),`Target(${o})`}(Oi(n))}; limitType=${n.limitType})`}function dd(n,e){return e.isFoundDocument()&&function(o,a){const u=a.key.path;return o.collectionGroup!==null?a.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(u):Be.isDocumentKey(o.path)?o.path.isEqual(u):o.path.isImmediateParentOf(u)}(n,e)&&function(o,a){for(const u of Ou(o))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(n,e)&&function(o,a){for(const u of o.filters)if(!u.matches(a))return!1;return!0}(n,e)&&function(o,a){return!(o.startAt&&!function(h,m,g){const y=Lv(h,m,g);return h.inclusive?y<=0:y<0}(o.startAt,Ou(o),a)||o.endAt&&!function(h,m,g){const y=Lv(h,m,g);return h.inclusive?y>=0:y>0}(o.endAt,Ou(o),a))}(n,e)}function RP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bw(n){return(e,t)=>{let o=!1;for(const a of Ou(n)){const u=AP(a,e,t);if(u!==0)return u;o=o||a.field.isKeyField()}return 0}}function AP(n,e,t){const o=n.field.isKeyField()?Be.comparator(e.key,t.key):function(u,h,m){const g=h.data.field(u),y=m.data.field(u);return g!==null&&y!==null?kl(g,y):Ke()}(n.field,e,t);switch(n.dir){case"asc":return o;case"desc":return-1*o;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(o!==void 0){for(const[a,u]of o)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const o=this.mapKeyFn(e),a=this.inner[o];if(a===void 0)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return o.length===1?delete this.inner[t]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(t,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return yw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Ft(Be.comparator);function Lo(){return bP}const kw=new Ft(Be.comparator);function bu(...n){let e=kw;for(const t of n)e=e.insert(t.key,t);return e}function Lw(n){let e=kw;return n.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ia(){return Vu()}function Mw(){return Vu()}function Vu(){return new Ma(n=>n.toString(),(n,e)=>n.isEqual(e))}const kP=new Ft(Be.comparator),LP=new on(Be.comparator);function ot(...n){let e=LP;for(const t of n)e=e.add(t);return e}const MP=new on(st);function NP(){return MP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function Nw(n){return{integerValue:""+n}}function DP(n,e){return lP(e)?Nw(e):_m(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function OP(n,e,t){return n instanceof Uh?function(a,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&fm(u)&&(u=ud(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):n instanceof Ku?Ow(n,e):n instanceof Zu?Vw(n,e):function(a,u){const h=Dw(a,u),m=Ov(h)+Ov(a.Pe);return Ip(h)&&Ip(a.Pe)?Nw(m):_m(a.serializer,m)}(n,e)}function VP(n,e,t){return n instanceof Ku?Ow(n,e):n instanceof Zu?Vw(n,e):t}function Dw(n,e){return n instanceof $h?function(o){return Ip(o)||function(u){return!!u&&"doubleValue"in u}(o)}(e)?e:{integerValue:0}:null}class Uh extends fd{}class Ku extends fd{constructor(e){super(),this.elements=e}}function Ow(n,e){const t=Fw(e);for(const o of n.elements)t.some(a=>Bi(a,o))||t.push(o);return{arrayValue:{values:t}}}class Zu extends fd{constructor(e){super(),this.elements=e}}function Vw(n,e){let t=Fw(e);for(const o of n.elements)t=t.filter(a=>!Bi(a,o));return{arrayValue:{values:t}}}class $h extends fd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ov(n){return Ht(n.integerValue||n.doubleValue)}function Fw(n){return pm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function FP(n,e){return n.field.isEqual(e.field)&&function(o,a){return o instanceof Ku&&a instanceof Ku||o instanceof Zu&&a instanceof Zu?bl(o.elements,a.elements,Bi):o instanceof $h&&a instanceof $h?Bi(o.Pe,a.Pe):o instanceof Uh&&a instanceof Uh}(n.transform,e.transform)}class zP{constructor(e,t){this.version=e,this.transformResults=t}}class pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class pd{}function zw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vm(n.key,pi.none()):new rc(n.key,n.data,pi.none());{const t=n.data,o=hr.empty();let a=new on(En.comparator);for(let u of e.fields)if(!a.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?o.delete(u):o.set(u,h),a=a.add(u)}return new Ys(n.key,o,new Pr(a.toArray()),pi.none())}}function BP(n,e,t){n instanceof rc?function(a,u,h){const m=a.value.clone(),g=Fv(a.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Ys?function(a,u,h){if(!Ih(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Fv(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Bw(a)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(n,e,t):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Fu(n,e,t,o){return n instanceof rc?function(u,h,m,g){if(!Ih(u.precondition,h))return m;const y=u.value.clone(),x=zv(u.fieldTransforms,g,h);return y.setAll(x),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(n,e,t,o):n instanceof Ys?function(u,h,m,g){if(!Ih(u.precondition,h))return m;const y=zv(u.fieldTransforms,g,h),x=h.data;return x.setAll(Bw(u)),x.setAll(y),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(C=>C.field))}(n,e,t,o):function(u,h,m){return Ih(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(n,e,t)}function jP(n,e){let t=null;for(const o of n.fieldTransforms){const a=e.data.field(o.field),u=Dw(o.transform,a||null);u!=null&&(t===null&&(t=hr.empty()),t.set(o.field,u))}return t||null}function Vv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(o,a){return o===void 0&&a===void 0||!(!o||!a)&&bl(o,a,(u,h)=>FP(u,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class rc extends pd{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ys extends pd{constructor(e,t,o,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Bw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=n.data.field(t);e.set(t,o)}}),e}function Fv(n,e,t){const o=new Map;mt(n.length===t.length);for(let a=0;a<t.length;a++){const u=n[a],h=u.transform,m=e.data.field(u.field);o.set(u.field,VP(h,m,t[a]))}return o}function zv(n,e,t){const o=new Map;for(const a of n){const u=a.transform,h=t.data.field(a.field);o.set(a.field,OP(u,h,e))}return o}class vm extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UP extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t,o,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&BP(u,e,o[a])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Fu(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Fu(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Mw();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(a.key)?null:m;const g=zw(h,m);g!==null&&o.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(qe.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ot())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,(t,o)=>Vv(t,o))&&bl(this.baseMutations,e.baseMutations,(t,o)=>Vv(t,o))}}class ym{constructor(e,t,o,a){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=a}static from(e,t,o){mt(e.mutations.length===o.length);let a=function(){return kP}();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,o[h].version);return new ym(e,t,o,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,at;function GP(n){switch(n){default:return Ke();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function jw(n){if(n===void 0)return ko("GRPC error has no .code"),ge.UNKNOWN;switch(n){case Yt.OK:return ge.OK;case Yt.CANCELLED:return ge.CANCELLED;case Yt.UNKNOWN:return ge.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ge.INTERNAL;case Yt.UNAVAILABLE:return ge.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ge.NOT_FOUND;case Yt.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Yt.ABORTED:return ge.ABORTED;case Yt.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Yt.DATA_LOSS:return ge.DATA_LOSS;default:return Ke()}}(at=Yt||(Yt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new Ra([4294967295,4294967295],0);function Bv(n){const e=KP().encode(n),t=new hw;return t.update(e),new Uint8Array(t.digest())}function jv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ra([t,o],0),new Ra([a,u],0)]}class wm{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new ku(`Invalid padding: ${t}`);if(o<0)throw new ku(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${o}`);if(e.length===0&&t!==0)throw new ku(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ra.fromNumber(this.Te)}Ee(e,t,o){let a=e.add(t.multiply(Ra.fromNumber(o)));return a.compare(ZP)===1&&(a=new Ra([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Bv(e),[o,a]=jv(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(o,a,u);if(!this.de(h))return!1}return!0}static create(e,t,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new wm(u,a,t);return o.forEach(m=>h.insert(m)),h}insert(e){if(this.Te===0)return;const t=Bv(e),[o,a]=jv(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(o,a,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),o=e%8;this.bitmap[t]|=1<<o}}class ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t,o,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const a=new Map;return a.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new md(qe.min(),a,new Ft(st),Lo(),ot())}}class ic{constructor(e,t,o,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new ic(o,t,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t,o,a){this.Re=e,this.removedTargetIds=t,this.key=o,this.Ve=a}}class Uw{constructor(e,t){this.targetId=e,this.me=t}}class $w{constructor(e,t,o=xn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=a}}class Uv{constructor(){this.fe=0,this.ge=$v(),this.pe=xn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ot(),t=ot(),o=ot();return this.ge.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:o=o.add(a);break;default:Ke()}}),new ic(this.pe,this.ye,e,t,o)}Ce(){this.we=!1,this.ge=$v()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qP{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lo(),this.qe=fh(),this.Qe=fh(),this.Ke=new Ft(st)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const o=this.ze(t);switch(e.state){case 0:this.je(t)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(t);break;case 3:this.je(t)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),o.De(e.resumeToken));break;default:Ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((o,a)=>{this.je(a)&&t(a)})}Je(e){const t=e.targetId,o=e.me.count,a=this.Ye(t);if(a){const u=a.target;if(Ap(u))if(o===0){const h=new Be(u.path);this.We(t,h,On.newNoDocument(h,qe.min()))}else mt(o===1);else{const h=this.Ze(t);if(h!==o){const m=this.Xe(e),g=m?this.et(m,e,h):1;if(g!==0){this.He(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:o="",padding:a=0},hashCount:u=0}=t;let h,m;try{h=Ws(o).toUint8Array()}catch(g){if(g instanceof ww)return Al("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new wm(h,a,u)}catch(g){return Al(g instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Te===0?null:m}et(e,t,o){return t.me.count===o-this.rt(e,t.targetId)?0:2}rt(e,t){const o=this.Le.getRemoteKeysForTarget(t);let a=0;return o.forEach(u=>{const h=this.Le.nt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.We(t,u,null),a++)}),a}it(e){const t=new Map;this.Be.forEach((u,h)=>{const m=this.Ye(h);if(m){if(u.current&&Ap(m.target)){const g=new Be(m.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,On.newNoDocument(g,e))}u.be&&(t.set(h,u.ve()),u.Ce())}});let o=ot();this.Qe.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const y=this.Ye(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(o=o.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const a=new md(e,t,this.Ke,this.ke,o);return this.ke=Lo(),this.qe=fh(),this.Qe=fh(),this.Ke=new Ft(st),a}Ue(e,t){if(!this.je(e))return;const o=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,o),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,o){if(!this.je(e))return;const a=this.ze(e);this.ot(e,t)?a.Fe(t,1):a.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),o&&(this.ke=this.ke.insert(t,o))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Uv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new on(st),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new on(st),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Uv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function fh(){return new Ft(Be.comparator)}function $v(){return new Ft(Be.comparator)}const QP={asc:"ASCENDING",desc:"DESCENDING"},YP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XP={and:"AND",or:"OR"};class JP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kp(n,e){return n.useProto3Json||ld(e)?e:{value:e}}function Wh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ww(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eI(n,e){return Wh(n,e.toTimestamp())}function Vi(n){return mt(!!n),qe.fromTimestamp(function(t){const o=$s(t);return new rn(o.seconds,o.nanos)}(n))}function Em(n,e){return Lp(n,e).canonicalString()}function Lp(n,e){const t=function(a){return new kt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Hw(n){const e=kt.fromString(n);return mt(Qw(e)),e}function Mp(n,e){return Em(n.databaseId,e.path)}function tp(n,e){const t=Hw(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(Kw(t))}function Gw(n,e){return Em(n.databaseId,e)}function tI(n){const e=Hw(n);return e.length===4?kt.emptyPath():Kw(e)}function Np(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Kw(n){return mt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Wv(n,e,t){return{name:Mp(n,e),fields:t.value.mapValue.fields}}function nI(n,e){let t;if("targetChange"in e){e.targetChange;const o=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(y,x){return y.useProto3Json?(mt(x===void 0||typeof x=="string"),xn.fromBase64String(x||"")):(mt(x===void 0||x instanceof Buffer||x instanceof Uint8Array),xn.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(y){const x=y.code===void 0?ge.UNKNOWN:jw(y.code);return new Oe(x,y.message||"")}(h);t=new $w(o,a,u,m||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const a=tp(n,o.document.name),u=Vi(o.document.updateTime),h=o.document.createTime?Vi(o.document.createTime):qe.min(),m=new hr({mapValue:{fields:o.document.fields}}),g=On.newFoundDocument(a,u,h,m),y=o.targetIds||[],x=o.removedTargetIds||[];t=new Rh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const a=tp(n,o.document),u=o.readTime?Vi(o.readTime):qe.min(),h=On.newNoDocument(a,u),m=o.removedTargetIds||[];t=new Rh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const a=tp(n,o.document),u=o.removedTargetIds||[];t=new Rh([],u,a,null)}else{if(!("filter"in e))return Ke();{e.filter;const o=e.filter;o.targetId;const{count:a=0,unchangedNames:u}=o,h=new HP(a,u),m=o.targetId;t=new Uw(m,h)}}return t}function rI(n,e){let t;if(e instanceof rc)t={update:Wv(n,e.key,e.value)};else if(e instanceof vm)t={delete:Mp(n,e.key)};else if(e instanceof Ys)t={update:Wv(n,e.key,e.data),updateMask:dI(e.fieldMask)};else{if(!(e instanceof UP))return Ke();t={verify:Mp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,h){const m=h.transform;if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ku)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Zu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $h)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw Ke()}(0,o))),e.precondition.isNone||(t.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:eI(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ke()}(n,e.precondition)),t}function iI(n,e){return n&&n.length>0?(mt(e!==void 0),n.map(t=>function(a,u){let h=a.updateTime?Vi(a.updateTime):Vi(u);return h.isEqual(qe.min())&&(h=Vi(u)),new zP(h,a.transformResults||[])}(t,e))):[]}function oI(n,e){return{documents:[Gw(n,e.path)]}}function sI(n,e){const t={structuredQuery:{}},o=e.path;let a;e.collectionGroup!==null?(a=o,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=o.popLast(),t.structuredQuery.from=[{collectionId:o.lastSegment()}]),t.parent=Gw(n,a);const u=function(y){if(y.length!==0)return qw(ji.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(x=>function(S){return{field:El(S.field),direction:uI(S.dir)}}(x))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=kp(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:a}}function aI(n){let e=tI(n.parent);const t=n.structuredQuery,o=t.from?t.from.length:0;let a=null;if(o>0){mt(o===1);const x=t.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let u=[];t.where&&(u=function(C){const S=Zw(C);return S instanceof ji&&Cw(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(C){return C.map(S=>function(M){return new jh(xl(M.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(S))}(t.orderBy));let m=null;t.limit&&(m=function(C){let S;return S=typeof C=="object"?C.value:C,ld(S)?null:S}(t.limit));let g=null;t.startAt&&(g=function(C){const S=!!C.before,A=C.values||[];return new Bh(A,S)}(t.startAt));let y=null;return t.endAt&&(y=function(C){const S=!C.before,A=C.values||[];return new Bh(A,S)}(t.endAt)),SP(e,a,h,u,m,"F",g,y)}function lI(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Zw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const o=xl(t.unaryFilter.field);return nn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const a=xl(t.unaryFilter.field);return nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=xl(t.unaryFilter.field);return nn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=xl(t.unaryFilter.field);return nn.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(n):n.fieldFilter!==void 0?function(t){return nn.create(xl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ji.create(t.compositeFilter.filters.map(o=>Zw(o)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ke()}}(t.compositeFilter.op))}(n):Ke()}function uI(n){return QP[n]}function cI(n){return YP[n]}function hI(n){return XP[n]}function El(n){return{fieldPath:n.canonicalString()}}function xl(n){return En.fromServerFormat(n.fieldPath)}function qw(n){return n instanceof nn?function(t){if(t.op==="=="){if(kv(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NAN"}};if(bv(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kv(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NOT_NAN"}};if(bv(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(t.field),op:cI(t.op),value:t.value}}}(n):n instanceof ji?function(t){const o=t.getFilters().map(a=>qw(a));return o.length===1?o[0]:{compositeFilter:{op:hI(t.op),filters:o}}}(n):Ke()}function dI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Qw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t,o,a,u=qe.min(),h=qe.min(),m=xn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.ht=e}}function pI(n){const e=aI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.ln=new gI}addToCollectionParentIndex(e,t){return this.ln.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(Us.min())}updateCollectionGroup(e,t,o){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class gI{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t]||new on(kt.comparator),u=!a.has(o);return this.index[t]=a.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t];return a&&a.has(o)}getEntries(e){return(this.index[e]||new on(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cr{static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(41943040,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ml(0)}static Qn(){return new Ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv([n,e],[t,o]){const a=st(n,t);return a===0?st(e,o):a}class _I{constructor(e){this.Gn=e,this.buffer=new on(Gv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Gv(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vI{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wl(t)?Se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await $l(t)}await this.Yn(3e5)})}}class yI{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(t===0)return de.resolve(ad.oe);const o=new _I(t);return this.Zn.forEachTarget(e,a=>o.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>o.Hn(a))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Zn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Hv)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let o,a,u,h,m,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,h=Date.now(),this.nthSequenceNumber(e,a))).next(C=>(o=C,m=Date.now(),this.removeTargets(e,o,t))).next(C=>(u=C,g=Date.now(),this.removeOrphanedDocuments(e,o))).next(C=>(y=Date.now(),yl()<=lt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${C} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:C})))}}function wI(n,e){return new yI(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.changes=new Ma(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return o!==void 0?de.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t,o,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(o!==null&&Fu(o.mutation,a,Pr.empty(),rn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,ot()).next(()=>o))}getLocalViewOfDocuments(e,t,o=ot()){const a=Ia();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,o).next(u=>{let h=bu();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const o=Ia();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,ot()))}populateOverlays(e,t,o){const a=[];return o.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,o,a){let u=Lo();const h=Vu(),m=function(){return Vu()}();return t.forEach((g,y)=>{const x=o.get(y.key);a.has(y.key)&&(x===void 0||x.mutation instanceof Ys)?u=u.insert(y.key,y):x!==void 0?(h.set(y.key,x.mutation.getFieldMask()),Fu(x.mutation,y,x.mutation.getFieldMask(),rn.now())):h.set(y.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,x)=>h.set(y,x)),t.forEach((y,x)=>{var C;return m.set(y,new xI(x,(C=h.get(y))!==null&&C!==void 0?C:null))}),m))}recalculateAndSaveOverlays(e,t){const o=Vu();let a=new Ft((h,m)=>h-m),u=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let x=o.get(g)||Pr.empty();x=m.applyToLocalView(y,x),o.set(g,x);const C=(a.get(m.batchId)||ot()).add(g);a=a.insert(m.batchId,C)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,x=g.value,C=Mw();x.forEach(S=>{if(!u.has(S)){const A=zw(t.get(S),o.get(S));A!==null&&C.set(S,A),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,C))}return de.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o,a){return function(h){return Be.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o,a):this.getDocumentsMatchingCollectionQuery(e,t,o,a)}getNextDocuments(e,t,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,a-u.size):de.resolve(Ia());let m=-1,g=u;return h.next(y=>de.forEach(y,(x,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),u.get(x)?de.resolve():this.remoteDocumentCache.getEntry(e,x).next(S=>{g=g.insert(x,S)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,ot())).next(x=>({batchId:m,changes:Lw(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next(o=>{let a=bu();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,o,a){const u=t.collectionGroup;let h=bu();return this.indexManager.getCollectionParents(e,u).next(m=>de.forEach(m,g=>{const y=function(C,S){return new cd(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,o,a).next(x=>{x.forEach((C,S)=>{h=h.insert(C,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,o,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,u,a))).next(h=>{u.forEach((g,y)=>{const x=y.getKey();h.get(x)===null&&(h=h.insert(x,On.newInvalidDocument(x)))});let m=bu();return h.forEach((g,y)=>{const x=u.get(g);x!==void 0&&Fu(x.mutation,y,Pr.empty(),rn.now()),dd(t,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return de.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Vi(a.createTime)}}(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(a){return{name:a.name,query:pI(a.bundledQuery),readTime:Vi(a.readTime)}}(t)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.overlays=new Ft(Be.comparator),this.Er=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ia();return de.forEach(t,a=>this.getOverlay(e,a).next(u=>{u!==null&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((a,u)=>{this.Tt(e,t,u)}),de.resolve()}removeOverlaysForBatchId(e,t,o){const a=this.Er.get(o);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(o)),de.resolve()}getOverlaysForCollection(e,t,o){const a=Ia(),u=t.length+1,h=new Be(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>o&&a.set(g.getKey(),g)}return de.resolve(a)}getOverlaysForCollectionGroup(e,t,o,a){let u=new Ft((y,x)=>y-x);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>o){let x=u.get(y.largestBatchId);x===null&&(x=Ia(),u=u.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const m=Ia(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,x)=>m.set(y,x)),!(m.size()>=a)););return de.resolve(m)}Tt(e,t,o){const a=this.overlays.get(o.key);if(a!==null){const h=this.Er.get(a.largestBatchId).delete(o.key);this.Er.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new WP(t,o));let u=this.Er.get(t);u===void 0&&(u=ot(),this.Er.set(t,u)),this.Er.set(t,u.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.dr=new on(pn.Ar),this.Rr=new on(pn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const o=new pn(e,t);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.gr(new pn(e,t))}pr(e,t){e.forEach(o=>this.removeReference(o,t))}yr(e){const t=new Be(new kt([])),o=new pn(t,e),a=new pn(t,e+1),u=[];return this.Rr.forEachInRange([o,a],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Be(new kt([])),o=new pn(t,e),a=new pn(t,e+1);let u=ot();return this.Rr.forEachInRange([o,a],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new pn(e,0),o=this.dr.firstAfterOrEqual(t);return o!==null&&e.isEqual(o.key)}}class pn{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Be.comparator(e.key,t.key)||st(e.br,t.br)}static Vr(e,t){return st(e.br,t.br)||Be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new on(pn.Ar)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,o,a){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new $P(u,t,o,a);this.mutationQueue.push(h);for(const m of a)this.vr=this.vr.add(new pn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return de.resolve(h)}lookupMutationBatch(e,t){return de.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const o=t+1,a=this.Fr(o),u=a<0?0:a;return de.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new pn(t,0),a=new pn(t,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([o,a],h=>{const m=this.Cr(h.br);u.push(m)}),de.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new on(st);return t.forEach(a=>{const u=new pn(a,0),h=new pn(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],m=>{o=o.add(m.br)})}),de.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1;let u=o;Be.isDocumentKey(u)||(u=u.child(""));const h=new pn(new Be(u),0);let m=new on(st);return this.vr.forEachWhile(g=>{const y=g.key.path;return!!o.isPrefixOf(y)&&(y.length===a&&(m=m.add(g.br)),!0)},h),de.resolve(this.Mr(m))}Mr(e){const t=[];return e.forEach(o=>{const a=this.Cr(o);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){mt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return de.forEach(t.mutations,a=>{const u=new pn(a.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=o})}Ln(e){}containsKey(e,t){const o=new pn(t,0),a=this.vr.firstAfterOrEqual(o);return de.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.Nr=e,this.docs=function(){return new Ft(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,a=this.docs.get(o),u=a?a.size:0,h=this.Nr(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return de.resolve(o?o.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let o=Lo();return t.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():On.newInvalidDocument(a))}),de.resolve(o)}getDocumentsMatchingQuery(e,t,o,a){let u=Lo();const h=t.path,m=new Be(h.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||iP(rP(x),o)<=0||(a.has(x.key)||dd(t,x))&&(u=u.insert(x.key,x.mutableCopy()))}return de.resolve(u)}getAllFromCollectionGroup(e,t,o,a){Ke()}Lr(e,t){return de.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new AI(this)}getSize(e){return de.resolve(this.size)}}class AI extends EI{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?t.push(this.hr.addEntry(e,a)):this.hr.removeEntry(o)}),de.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.persistence=e,this.Br=new Ma(t=>mm(t),gm),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.kr=0,this.qr=new xm,this.targetCount=0,this.Qr=Ml.qn()}forEachTarget(e,t){return this.Br.forEach((o,a)=>t(a)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.kr&&(this.kr=t),de.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Ml(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Un(t),de.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,o){let a=0;const u=[];return this.Br.forEach((h,m)=>{m.sequenceNumber<=t&&o.get(m.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),de.waitFor(u).next(()=>a)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const o=this.Br.get(t)||null;return de.resolve(o)}addMatchingKeys(e,t,o){return this.qr.mr(t,o),de.resolve()}removeMatchingKeys(e,t,o){this.qr.pr(t,o);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),de.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const o=this.qr.Sr(t);return de.resolve(o)}containsKey(e,t){return de.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new ad(0),this.Ur=!1,this.Ur=!0,this.Wr=new PI,this.referenceDelegate=e(this),this.Gr=new bI(this),this.indexManager=new mI,this.remoteDocumentCache=function(a){return new RI(a)}(o=>this.referenceDelegate.zr(o)),this.serializer=new fI(t),this.jr=new CI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Kr[e.toKey()];return o||(o=new II(t,this.referenceDelegate),this.Kr[e.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,o){Se("MemoryPersistence","Starting transaction:",e);const a=new kI(this.$r.next());return this.referenceDelegate.Hr(),o(a).next(u=>this.referenceDelegate.Jr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Yr(e,t){return de.or(Object.values(this.Kr).map(o=>()=>o.containsKey(e,t)))}}class kI extends sP{constructor(e){super(),this.currentSequenceNumber=e}}class Tm{constructor(e){this.persistence=e,this.Zr=new xm,this.Xr=null}static ei(e){return new Tm(e)}get ti(){if(this.Xr)return this.Xr;throw Ke()}addReference(e,t,o){return this.Zr.addReference(o,t),this.ti.delete(o.toString()),de.resolve()}removeReference(e,t,o){return this.Zr.removeReference(o,t),this.ti.add(o.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),de.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(a=>this.ti.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.ti.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.ti,o=>{const a=Be.fromPath(o);return this.ni(e,a).next(u=>{u||t.removeEntry(a,qe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(o=>{o?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return de.or([()=>de.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Hh{constructor(e,t){this.persistence=e,this.ri=new Ma(o=>uP(o.path),(o,a)=>o.isEqual(a)),this.garbageCollector=wI(this,t)}static ei(e,t){return new Hh(e,t)}Hr(){}Jr(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>t.next(a=>o+a))}nr(e){let t=0;return this.er(e,o=>{t++}).next(()=>t)}er(e,t){return de.forEach(this.ri,(o,a)=>this.ir(e,o,a).next(u=>u?de.resolve():t(a)))}removeTargets(e,t,o){return this.persistence.getTargetCache().removeTargets(e,t,o)}removeOrphanedDocuments(e,t){let o=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.Lr(e,h=>this.ir(e,h,t).next(m=>{m||(o++,u.removeEntry(h,qe.min()))})).next(()=>u.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,t,o){return this.ri.set(o,e.currentSequenceNumber),de.resolve()}removeReference(e,t,o){return this.ri.set(o,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),de.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sh(e.data.value)),t}ir(e,t,o){return de.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.ri.get(t);return de.resolve(a!==void 0&&a>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t,o,a){this.targetId=e,this.fromCache=t,this.Wi=o,this.Gi=a}static zi(e,t){let o=ot(),a=ot();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Cm(e,t.fromCache,o,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return k1()?8:aP(A1())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,o,a){const u={result:null};return this.Xi(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,t,a,o).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new LI;return this.ts(e,t,h).next(m=>{if(u.result=m,this.Hi)return this.ns(e,t,h,m.size)})}).next(()=>u.result)}ns(e,t,o,a){return o.documentReadCount<this.Ji?(yl()<=lt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",wl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),de.resolve()):(yl()<=lt.DEBUG&&Se("QueryEngine","Query:",wl(t),"scans",o.documentReadCount,"local documents and returns",a,"documents as results."),o.documentReadCount>this.Yi*a?(yl()<=lt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",wl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(t))):de.resolve())}Xi(e,t){if(Dv(t))return de.resolve(null);let o=Oi(t);return this.indexManager.getIndexType(e,o).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=bp(t,null,"F"),o=Oi(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const h=ot(...u);return this.Zi.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,o).next(g=>{const y=this.rs(t,m);return this.ss(t,y,h,g.readTime)?this.Xi(e,bp(t,null,"F")):this.os(e,y,t,g)}))})))}es(e,t,o,a){return Dv(t)||a.isEqual(qe.min())?de.resolve(null):this.Zi.getDocuments(e,o).next(u=>{const h=this.rs(t,u);return this.ss(t,h,o,a)?de.resolve(null):(yl()<=lt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wl(t)),this.os(e,h,t,nP(a,-1)).next(m=>m))})}rs(e,t){let o=new on(bw(e));return t.forEach((a,u)=>{dd(e,u)&&(o=o.add(u))}),o}ss(e,t,o,a){if(e.limit===null)return!1;if(o.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ts(e,t,o){return yl()<=lt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",wl(t)),this.Zi.getDocumentsMatchingQuery(e,t,Us.min(),o)}os(e,t,o,a){return this.Zi.getDocumentsMatchingQuery(e,o,a).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t,o,a){this.persistence=e,this._s=t,this.serializer=a,this.us=new Ft(st),this.cs=new Ma(u=>mm(u),gm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(o)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TI(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function DI(n,e,t,o){return new NI(n,e,t,o)}async function Xw(n,e){const t=Qe(n);return await t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,t.Ps(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const h=[],m=[];let g=ot();for(const y of a){h.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of u){m.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return t.localDocuments.getDocuments(o,g).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:m}))})})}function OI(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=t.hs.newChangeBuffer({trackRemovals:!0});return function(m,g,y,x){const C=y.batch,S=C.keys();let A=de.resolve();return S.forEach(M=>{A=A.next(()=>x.getEntry(g,M)).next(b=>{const N=y.docVersions.get(M);mt(N!==null),b.version.compareTo(N)<0&&(C.applyToRemoteDocument(b,y),b.isValidDocument()&&(b.setReadTime(y.commitVersion),x.addEntry(b)))})}),A.next(()=>m.mutationQueue.removeMutationBatch(g,C))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(m){let g=ot();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(o,a))})}function Jw(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function VI(n,e){const t=Qe(n),o=e.snapshotVersion;let a=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});a=t.us;const m=[];e.targetChanges.forEach((x,C)=>{const S=a.get(C);if(!S)return;m.push(t.Gr.removeMatchingKeys(u,x.removedDocuments,C).next(()=>t.Gr.addMatchingKeys(u,x.addedDocuments,C)));let A=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(C)!==null?A=A.withResumeToken(xn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):x.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(x.resumeToken,o)),a=a.insert(C,A),function(b,N,B){return b.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(S,A,x)&&m.push(t.Gr.updateTargetData(u,A))});let g=Lo(),y=ot();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,x))}),m.push(FI(u,h,e.documentUpdates).next(x=>{g=x.Is,y=x.Es})),!o.isEqual(qe.min())){const x=t.Gr.getLastRemoteSnapshotVersion(u).next(C=>t.Gr.setTargetsMetadata(u,u.currentSequenceNumber,o));m.push(x)}return de.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(t.us=a,u))}function FI(n,e,t){let o=ot(),a=ot();return t.forEach(u=>o=o.add(u)),e.getEntries(n,o).next(u=>{let h=Lo();return t.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(qe.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):Se("LocalStore","Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Is:h,Es:a}})}function zI(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function BI(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return t.Gr.getTargetData(o,e).next(u=>u?(a=u,de.resolve(a)):t.Gr.allocateTargetId(o).next(h=>(a=new Ds(e,h,"TargetPurposeListen",o.currentSequenceNumber),t.Gr.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=t.us.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.us=t.us.insert(o.targetId,o),t.cs.set(e,o.targetId)),o})}async function Dp(n,e,t){const o=Qe(n),a=o.us.get(e),u=t?"readwrite":"readwrite-primary";try{t||await o.persistence.runTransaction("Release target",u,h=>o.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Wl(h))throw h;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}o.us=o.us.remove(e),o.cs.delete(a.target)}function Kv(n,e,t){const o=Qe(n);let a=qe.min(),u=ot();return o.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,x){const C=Qe(g),S=C.cs.get(x);return S!==void 0?de.resolve(C.us.get(S)):C.Gr.getTargetData(y,x)}(o,h,Oi(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>o._s.getDocumentsMatchingQuery(h,e,t?a:qe.min(),t?u:ot())).next(m=>(jI(o,RP(e),m),{documents:m,ds:u})))}function jI(n,e,t){let o=n.ls.get(e)||qe.min();t.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),n.ls.set(e,o)}class Zv{constructor(){this.activeTargetIds=NP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UI{constructor(){this._o=new Zv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,o){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Zv,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function np(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class GI extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const o=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+t.host,this.Mo=`projects/${a}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Oo(t,o,a,u,h){const m=np(),g=this.No(t,o.toUriEncodedString());Se("RestConnection",`Sending RPC '${t}' ${m}:`,g,a);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,u,h),this.Bo(t,g,y,a).then(x=>(Se("RestConnection",`Received RPC '${t}' ${m}: `,x),x),x=>{throw Al("RestConnection",`RPC '${t}' ${m} failed with error: `,x,"url: ",g,"request:",a),x})}ko(t,o,a,u,h,m){return this.Oo(t,o,a,u,h)}Lo(t,o,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ul}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((u,h)=>t[h]=u),a&&a.headers.forEach((u,h)=>t[h]=u)}No(t,o){const a=WI[t];return`${this.Fo}/v1/${o}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,o,a){const u=np();return new Promise((h,m)=>{const g=new dw;g.setWithCredentials(!0),g.listenOnce(fw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ch.NO_ERROR:const x=g.getResponseJson();Se(Nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),h(x);break;case Ch.TIMEOUT:Se(Nn,`RPC '${e}' ${u} timed out`),m(new Oe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const C=g.getStatus();if(Se(Nn,`RPC '${e}' ${u} failed with status:`,C,"response text:",g.getResponseText()),C>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S==null?void 0:S.error;if(A&&A.status&&A.message){const M=function(N){const B=N.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(B)>=0?B:ge.UNKNOWN}(A.status);m(new Oe(M,A.message))}else m(new Oe(ge.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Oe(ge.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Se(Nn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(a);Se(Nn,`RPC '${e}' ${u} sending request:`,a),g.send(t,"POST",y,o,15)})}qo(e,t,o){const a=np(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=gw(),m=mw(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,t,o),g.encodeInitMessageHeaders=!0;const x=u.join("");Se(Nn,`Creating RPC '${e}' stream ${a}: ${x}`,g);const C=h.createWebChannel(x,g);let S=!1,A=!1;const M=new HI({Eo:N=>{A?Se(Nn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(S||(Se(Nn,`Opening RPC '${e}' stream ${a} transport.`),C.open(),S=!0),Se(Nn,`RPC '${e}' stream ${a} sending:`,N),C.send(N))},Ao:()=>C.close()}),b=(N,B,Z)=>{N.listen(B,Y=>{try{Z(Y)}catch(q){setTimeout(()=>{throw q},0)}})};return b(C,Au.EventType.OPEN,()=>{A||(Se(Nn,`RPC '${e}' stream ${a} transport opened.`),M.So())}),b(C,Au.EventType.CLOSE,()=>{A||(A=!0,Se(Nn,`RPC '${e}' stream ${a} transport closed`),M.Do())}),b(C,Au.EventType.ERROR,N=>{A||(A=!0,Al(Nn,`RPC '${e}' stream ${a} transport errored:`,N),M.Do(new Oe(ge.UNAVAILABLE,"The operation could not be completed")))}),b(C,Au.EventType.MESSAGE,N=>{var B;if(!A){const Z=N.data[0];mt(!!Z);const Y=Z,q=(Y==null?void 0:Y.error)||((B=Y[0])===null||B===void 0?void 0:B.error);if(q){Se(Nn,`RPC '${e}' stream ${a} received error:`,q);const ee=q.status;let ae=function(V){const U=Yt[V];if(U!==void 0)return jw(U)}(ee),z=q.message;ae===void 0&&(ae=ge.INTERNAL,z="Unknown error status: "+ee+" with message "+q.message),A=!0,M.Do(new Oe(ae,z)),C.close()}else Se(Nn,`RPC '${e}' stream ${a} received:`,Z),M.vo(Z)}}),b(m,pw.STAT_EVENT,N=>{N.stat===Sp.PROXY?Se(Nn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===Sp.NOPROXY&&Se(Nn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{M.bo()},0),M}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(n){return new JP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,t,o=1e3,a=1.5,u=6e4){this.li=e,this.timerId=t,this.Qo=o,this.Ko=a,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),a=Math.max(0,t-o);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t,o,a,u,h,m,g){this.li=e,this.Yo=o,this.Zo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new e0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(ko(t.toString()),ko("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Xo===t&&this.I_(o,a)},o=>{e(()=>{const a=new Oe(ge.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(a)})})}I_(e,t){const o=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{o(()=>this.E_(a))}),this.stream.onMessage(a=>{o(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KI extends t0{constructor(e,t,o,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,a,h),this.serializer=u}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=nI(this.serializer,e),o=function(u){if(!("targetChange"in u))return qe.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?qe.min():h.readTime?Vi(h.readTime):qe.min()}(e);return this.listener.R_(t,o)}V_(e){const t={};t.database=Np(this.serializer),t.addTarget=function(u,h){let m;const g=h.target;if(m=Ap(g)?{documents:oI(u,g)}:{query:sI(u,g).ct},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Ww(u,h.resumeToken);const y=kp(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(qe.min())>0){m.readTime=Wh(u,h.snapshotVersion.toTimestamp());const y=kp(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const o=lI(this.serializer,e);o&&(t.labels=o),this.c_(t)}m_(e){const t={};t.database=Np(this.serializer),t.removeTarget=e,this.c_(t)}}class ZI extends t0{constructor(e,t,o,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,a,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return mt(!!e.streamToken),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=iI(e.writeResults,e.commitTime),o=Vi(e.commitTime);return this.listener.y_(o,t)}w_(){const e={};e.database=Np(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>rI(this.serializer,o))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Lp(t,o),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(ge.UNKNOWN,u.toString())})}ko(e,t,o,a,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.ko(e,Lp(t,o),a,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Oe(ge.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class QI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ko(t),this.C_=!1):Se("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,t,o,a,u){this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{o.enqueueAndForget(async()=>{Na(this)&&(Se("RemoteStore","Restarting streams for network reachability change."),await async function(g){const y=Qe(g);y.k_.add(4),await oc(y),y.K_.set("Unknown"),y.k_.delete(4),await _d(y)}(this))})}),this.K_=new QI(o,a)}}async function _d(n){if(Na(n))for(const e of n.q_)await e(!0)}async function oc(n){for(const e of n.q_)await e(!1)}function n0(n,e){const t=Qe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Rm(t)?Im(t):Hl(t).s_()&&Pm(t,e))}function Sm(n,e){const t=Qe(n),o=Hl(t);t.B_.delete(e),o.s_()&&r0(t,e),t.B_.size===0&&(o.s_()?o.a_():Na(t)&&t.K_.set("Unknown"))}function Pm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hl(n).V_(e)}function r0(n,e){n.U_.xe(e),Hl(n).m_(e)}function Im(n){n.U_=new qP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Hl(n).start(),n.K_.F_()}function Rm(n){return Na(n)&&!Hl(n).i_()&&n.B_.size>0}function Na(n){return Qe(n).k_.size===0}function i0(n){n.U_=void 0}async function XI(n){n.K_.set("Online")}async function JI(n){n.B_.forEach((e,t)=>{Pm(n,e)})}async function eR(n,e){i0(n),Rm(n)?(n.K_.O_(e),Im(n)):n.K_.set("Unknown")}async function tR(n,e,t){if(n.K_.set("Online"),e instanceof $w&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const m of u.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.B_.delete(m),a.U_.removeTarget(m))}(n,e)}catch(o){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Gh(n,o)}else if(e instanceof Rh?n.U_.$e(e):e instanceof Uw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(qe.min()))try{const o=await Jw(n.localStore);t.compareTo(o)>=0&&await function(u,h){const m=u.U_.it(h);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=u.B_.get(y);x&&u.B_.set(y,x.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,y)=>{const x=u.B_.get(g);if(!x)return;u.B_.set(g,x.withResumeToken(xn.EMPTY_BYTE_STRING,x.snapshotVersion)),r0(u,g);const C=new Ds(x.target,g,y,x.sequenceNumber);Pm(u,C)}),u.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(o){Se("RemoteStore","Failed to raise snapshot:",o),await Gh(n,o)}}async function Gh(n,e,t){if(!Wl(e))throw e;n.k_.add(1),await oc(n),n.K_.set("Offline"),t||(t=()=>Jw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Se("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await _d(n)})}function o0(n,e){return e().catch(t=>Gh(n,t,e))}async function vd(n){const e=Qe(n),t=Gs(e);let o=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;nR(e);)try{const a=await zI(e.localStore,o);if(a===null){e.L_.length===0&&t.a_();break}o=a.batchId,rR(e,a)}catch(a){await Gh(e,a)}s0(e)&&a0(e)}function nR(n){return Na(n)&&n.L_.length<10}function rR(n,e){n.L_.push(e);const t=Gs(n);t.s_()&&t.f_&&t.g_(e.mutations)}function s0(n){return Na(n)&&!Gs(n).i_()&&n.L_.length>0}function a0(n){Gs(n).start()}async function iR(n){Gs(n).w_()}async function oR(n){const e=Gs(n);for(const t of n.L_)e.g_(t.mutations)}async function sR(n,e,t){const o=n.L_.shift(),a=ym.from(o,e,t);await o0(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await vd(n)}async function aR(n,e){e&&Gs(n).f_&&await async function(o,a){if(function(h){return GP(h)&&h!==ge.ABORTED}(a.code)){const u=o.L_.shift();Gs(o).__(),await o0(o,()=>o.remoteSyncer.rejectFailedWrite(u.batchId,a)),await vd(o)}}(n,e),s0(n)&&a0(n)}async function Qv(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const o=Na(t);t.k_.add(3),await oc(t),o&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await _d(t)}async function lR(n,e){const t=Qe(n);e?(t.k_.delete(2),await _d(t)):e||(t.k_.add(2),await oc(t),t.K_.set("Unknown"))}function Hl(n){return n.W_||(n.W_=function(t,o,a){const u=Qe(t);return u.b_(),new KI(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{Ro:XI.bind(null,n),mo:JI.bind(null,n),po:eR.bind(null,n),R_:tR.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Rm(n)?Im(n):n.K_.set("Unknown")):(await n.W_.stop(),i0(n))})),n.W_}function Gs(n){return n.G_||(n.G_=function(t,o,a){const u=Qe(t);return u.b_(),new ZI(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:iR.bind(null,n),po:aR.bind(null,n),p_:oR.bind(null,n),y_:sR.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await vd(n)):(await n.G_.stop(),n.L_.length>0&&(Se("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t,o,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,o,a,u){const h=Date.now()+o,m=new Am(e,t,h,a,u);return m.start(o),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bm(n,e){if(ko("AsyncQueue",`${e}: ${n}`),Wl(n))return new Oe(ge.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{static emptySet(e){return new Sl(e.comparator)}constructor(e){this.comparator=e?(t,o)=>e(t,o)||Be.comparator(t.key,o.key):(t,o)=>Be.comparator(t.key,o.key),this.keyedMap=bu(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const o=new Sl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.z_=new Ft(Be.comparator)}track(e){const t=e.doc.key,o=this.z_.get(t);o?e.type!==0&&o.type===3?this.z_=this.z_.insert(t,e):e.type===3&&o.type!==1?this.z_=this.z_.insert(t,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.z_=this.z_.remove(t):e.type===1&&o.type===2?this.z_=this.z_.insert(t,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ke():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,o)=>{e.push(o)}),e}}class Nl{constructor(e,t,o,a,u,h,m,g,y){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,o,a,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Nl(e,t,Sl.emptySet(t),h,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==o[a].type||!t[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class cR{constructor(){this.queries=Xv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,o){const a=Qe(t),u=a.queries;a.queries=Xv(),u.forEach((h,m)=>{for(const g of m.J_)g.onError(o)})})(this,new Oe(ge.ABORTED,"Firestore shutting down"))}}function Xv(){return new Ma(n=>Aw(n),hd)}async function hR(n,e){const t=Qe(n);let o=3;const a=e.query;let u=t.queries.get(a);u?!u.Y_()&&e.Z_()&&(o=2):(u=new uR,o=e.Z_()?0:1);try{switch(o){case 0:u.H_=await t.onListen(a,!0);break;case 1:u.H_=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const m=bm(h,`Initialization of query '${wl(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,u),u.J_.push(e),e.ea(t.onlineState),u.H_&&e.ta(u.H_)&&km(t)}async function dR(n,e){const t=Qe(n),o=e.query;let a=3;const u=t.queries.get(o);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?a=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return t.queries.delete(o),t.onUnlisten(o,!0);case 1:return t.queries.delete(o),t.onUnlisten(o,!1);case 2:return t.onLastRemoteStoreUnlisten(o);default:return}}function fR(n,e){const t=Qe(n);let o=!1;for(const a of e){const u=a.query,h=t.queries.get(u);if(h){for(const m of h.J_)m.ta(a)&&(o=!0);h.H_=a}}o&&km(t)}function pR(n,e,t){const o=Qe(n),a=o.queries.get(e);if(a)for(const u of a.J_)u.onError(t);o.queries.delete(e)}function km(n){n.X_.forEach(e=>{e.next()})}var Op,Jv;(Jv=Op||(Op={})).na="default",Jv.Cache="cache";class mR{constructor(e,t,o){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)a.type!==3&&o.push(a);e=new Nl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const o=t!=="Offline";return(!this.options.ua||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class gR{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ot(),this.mutatedKeys=ot(),this.Va=bw(e),this.ma=new Sl(this.Va)}get fa(){return this.da}ga(e,t){const o=t?t.pa:new Yv,a=t?t.ma:this.ma;let u=t?t.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,C)=>{const S=a.get(x),A=dd(this.query,C)?C:null,M=!!S&&this.mutatedKeys.has(S.key),b=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;S&&A?S.data.isEqual(A.data)?M!==b&&(o.track({type:3,doc:A}),N=!0):this.ya(S,A)||(o.track({type:2,doc:A}),N=!0,(g&&this.Va(A,g)>0||y&&this.Va(A,y)<0)&&(m=!0)):!S&&A?(o.track({type:0,doc:A}),N=!0):S&&!A&&(o.track({type:1,doc:S}),N=!0,(g||y)&&(m=!0)),N&&(A?(h=h.add(A),u=b?u.add(x):u.delete(x)):(h=h.delete(x),u=u.delete(x)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),u=u.delete(x.key),o.track({type:1,doc:x})}return{ma:h,pa:o,ss:m,mutatedKeys:u}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o,a){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((x,C)=>function(A,M){const b=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return b(A)-b(M)}(x.type,C.type)||this.Va(x.doc,C.doc)),this.wa(o),a=a!=null&&a;const m=t&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,y=g!==this.Aa;return this.Aa=g,h.length!==0||y?{snapshot:new Nl(this.query,e.ma,u,h,e.mutatedKeys,g===0,y,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Yv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ot(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const t=[];return e.forEach(o=>{this.Ra.has(o)||t.push(new u0(o))}),this.Ra.forEach(o=>{e.has(o)||t.push(new l0(o))}),t}va(e){this.da=e.ds,this.Ra=ot();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Nl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class _R{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class vR{constructor(e){this.key=e,this.Fa=!1}}class yR{constructor(e,t,o,a,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Ma(m=>Aw(m),hd),this.Oa=new Map,this.Na=new Set,this.La=new Ft(Be.comparator),this.Ba=new Map,this.ka=new xm,this.qa={},this.Qa=new Map,this.Ka=Ml.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function wR(n,e,t=!0){const o=m0(n);let a;const u=o.xa.get(e);return u?(o.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Ca()):a=await c0(o,e,t,!0),a}async function ER(n,e){const t=m0(n);await c0(t,e,!0,!1)}async function c0(n,e,t,o){const a=await BI(n.localStore,Oi(e)),u=a.targetId,h=n.sharedClientState.addLocalQueryTarget(u,t);let m;return o&&(m=await xR(n,e,u,h==="current",a.resumeToken)),n.isPrimaryClient&&t&&n0(n.remoteStore,a),m}async function xR(n,e,t,o,a){n.Ua=(C,S,A)=>async function(b,N,B,Z){let Y=N.view.ga(B);Y.ss&&(Y=await Kv(b.localStore,N.query,!1).then(({documents:z})=>N.view.ga(z,Y)));const q=Z&&Z.targetChanges.get(N.targetId),ee=Z&&Z.targetMismatches.get(N.targetId)!=null,ae=N.view.applyChanges(Y,b.isPrimaryClient,q,ee);return ty(b,N.targetId,ae.ba),ae.snapshot}(n,C,S,A);const u=await Kv(n.localStore,e,!0),h=new gR(e,u.ds),m=h.ga(u.documents),g=ic.createSynthesizedTargetChangeForCurrentChange(t,o&&n.onlineState!=="Offline",a),y=h.applyChanges(m,n.isPrimaryClient,g);ty(n,t,y.ba);const x=new _R(e,t,h);return n.xa.set(e,x),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function TR(n,e,t){const o=Qe(n),a=o.xa.get(e),u=o.Oa.get(a.targetId);if(u.length>1)return o.Oa.set(a.targetId,u.filter(h=>!hd(h,e))),void o.xa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(a.targetId),o.sharedClientState.isActiveQueryTarget(a.targetId)||await Dp(o.localStore,a.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(a.targetId),t&&Sm(o.remoteStore,a.targetId),Vp(o,a.targetId)}).catch($l)):(Vp(o,a.targetId),await Dp(o.localStore,a.targetId,!0))}async function CR(n,e){const t=Qe(n),o=t.xa.get(e),a=t.Oa.get(o.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(o.targetId),Sm(t.remoteStore,o.targetId))}async function SR(n,e,t){const o=LR(n);try{const a=await function(h,m){const g=Qe(h),y=rn.now(),x=m.reduce((A,M)=>A.add(M.key),ot());let C,S;return g.persistence.runTransaction("Locally write mutations","readwrite",A=>{let M=Lo(),b=ot();return g.hs.getEntries(A,x).next(N=>{M=N,M.forEach((B,Z)=>{Z.isValidDocument()||(b=b.add(B))})}).next(()=>g.localDocuments.getOverlayedDocuments(A,M)).next(N=>{C=N;const B=[];for(const Z of m){const Y=jP(Z,C.get(Z.key).overlayedDocument);Y!=null&&B.push(new Ys(Z.key,Y,Ew(Y.value.mapValue),pi.exists(!0)))}return g.mutationQueue.addMutationBatch(A,y,B,m)}).next(N=>{S=N;const B=N.applyToLocalDocumentSet(C,b);return g.documentOverlayCache.saveOverlays(A,N.batchId,B)})}).then(()=>({batchId:S.batchId,changes:Lw(C)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let y=h.qa[h.currentUser.toKey()];y||(y=new Ft(st)),y=y.insert(m,g),h.qa[h.currentUser.toKey()]=y}(o,a.batchId,t),await sc(o,a.changes),await vd(o.remoteStore)}catch(a){const u=bm(a,"Failed to persist write");t.reject(u)}}async function h0(n,e){const t=Qe(n);try{const o=await VI(t.localStore,e);e.targetChanges.forEach((a,u)=>{const h=t.Ba.get(u);h&&(mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Fa=!0:a.modifiedDocuments.size>0?mt(h.Fa):a.removedDocuments.size>0&&(mt(h.Fa),h.Fa=!1))}),await sc(t,o,e)}catch(o){await $l(o)}}function ey(n,e,t){const o=Qe(n);if(o.isPrimaryClient&&t===0||!o.isPrimaryClient&&t===1){const a=[];o.xa.forEach((u,h)=>{const m=h.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=Qe(h);g.onlineState=m;let y=!1;g.queries.forEach((x,C)=>{for(const S of C.J_)S.ea(m)&&(y=!0)}),y&&km(g)}(o.eventManager,e),a.length&&o.Ma.R_(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function PR(n,e,t){const o=Qe(n);o.sharedClientState.updateQueryState(e,"rejected",t);const a=o.Ba.get(e),u=a&&a.key;if(u){let h=new Ft(Be.comparator);h=h.insert(u,On.newNoDocument(u,qe.min()));const m=ot().add(u),g=new md(qe.min(),new Map,new Ft(st),h,m);await h0(o,g),o.La=o.La.remove(u),o.Ba.delete(e),Lm(o)}else await Dp(o.localStore,e,!1).then(()=>Vp(o,e,t)).catch($l)}async function IR(n,e){const t=Qe(n),o=e.batch.batchId;try{const a=await OI(t.localStore,e);f0(t,o,null),d0(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),await sc(t,a)}catch(a){await $l(a)}}async function RR(n,e,t){const o=Qe(n);try{const a=await function(h,m){const g=Qe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let x;return g.mutationQueue.lookupMutationBatch(y,m).next(C=>(mt(C!==null),x=C.keys(),g.mutationQueue.removeMutationBatch(y,C))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x)).next(()=>g.localDocuments.getDocuments(y,x))})}(o.localStore,e);f0(o,e,t),d0(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),await sc(o,a)}catch(a){await $l(a)}}function d0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function f0(n,e,t){const o=Qe(n);let a=o.qa[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),o.qa[o.currentUser.toKey()]=a}}function Vp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const o of n.Oa.get(e))n.xa.delete(o),t&&n.Ma.Wa(o,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(o=>{n.ka.containsKey(o)||p0(n,o)})}function p0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Sm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Lm(n))}function ty(n,e,t){for(const o of t)o instanceof l0?(n.ka.addReference(o.key,e),AR(n,o)):o instanceof u0?(Se("SyncEngine","Document no longer in limbo: "+o.key),n.ka.removeReference(o.key,e),n.ka.containsKey(o.key)||p0(n,o.key)):Ke()}function AR(n,e){const t=e.key,o=t.path.canonicalString();n.La.get(t)||n.Na.has(o)||(Se("SyncEngine","New document in limbo: "+t),n.Na.add(o),Lm(n))}function Lm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Be(kt.fromString(e)),o=n.Ka.next();n.Ba.set(o,new vR(t)),n.La=n.La.insert(t,o),n0(n.remoteStore,new Ds(Oi(Rw(t.path)),o,"TargetPurposeLimboResolution",ad.oe))}}async function sc(n,e,t){const o=Qe(n),a=[],u=[],h=[];o.xa.isEmpty()||(o.xa.forEach((m,g)=>{h.push(o.Ua(g,e,t).then(y=>{var x;if((y||t)&&o.isPrimaryClient){const C=y?!y.fromCache:(x=t==null?void 0:t.targetChanges.get(g.targetId))===null||x===void 0?void 0:x.current;o.sharedClientState.updateQueryState(g.targetId,C?"current":"not-current")}if(y){a.push(y);const C=Cm.zi(g.targetId,y);u.push(C)}}))}),await Promise.all(h),o.Ma.R_(a),await async function(g,y){const x=Qe(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>de.forEach(y,S=>de.forEach(S.Wi,A=>x.persistence.referenceDelegate.addReference(C,S.targetId,A)).next(()=>de.forEach(S.Gi,A=>x.persistence.referenceDelegate.removeReference(C,S.targetId,A)))))}catch(C){if(!Wl(C))throw C;Se("LocalStore","Failed to update sequence numbers: "+C)}for(const C of y){const S=C.targetId;if(!C.fromCache){const A=x.us.get(S),M=A.snapshotVersion,b=A.withLastLimboFreeSnapshotVersion(M);x.us=x.us.insert(S,b)}}}(o.localStore,u))}async function bR(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const o=await Xw(t.localStore,e);t.currentUser=e,function(u,h){u.Qa.forEach(m=>{m.forEach(g=>{g.reject(new Oe(ge.CANCELLED,h))})}),u.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await sc(t,o.Ts)}}function kR(n,e){const t=Qe(n),o=t.Ba.get(e);if(o&&o.Fa)return ot().add(o.key);{let a=ot();const u=t.Oa.get(e);if(!u)return a;for(const h of u){const m=t.xa.get(h);a=a.unionWith(m.view.fa)}return a}}function m0(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PR.bind(null,e),e.Ma.R_=fR.bind(null,e.eventManager),e.Ma.Wa=pR.bind(null,e.eventManager),e}function LR(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RR.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return DI(this.persistence,new MI,e.initialUser,this.serializer)}ja(e){return new Yw(Tm.ei,this.serializer)}za(e){return new UI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class MR extends Kh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){mt(this.persistence.referenceDelegate instanceof Hh);const o=this.persistence.referenceDelegate.garbageCollector;return new vI(o,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new Yw(o=>Hh.ei(o,t),this.serializer)}}class Fp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>ey(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=bR.bind(null,this.syncEngine),await lR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cR}()}createDatastore(e){const t=gd(e.databaseInfo.databaseId),o=function(u){return new GI(u)}(e.databaseInfo);return function(u,h,m,g){return new qI(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return function(o,a,u,h,m){return new YI(o,a,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>ey(this.syncEngine,t,0),function(){return qv.p()?new qv:new $I}())}createSyncEngine(e,t){return function(a,u,h,m,g,y,x){const C=new yR(a,u,h,m,g,y);return x&&(C.$a=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const u=Qe(a);Se("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await oc(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Fp.provider={build:()=>new Fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ko("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,t,o,a,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=a,this.user=Dn.UNAUTHENTICATED,this.clientId=vw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(o,async h=>{Se("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(o,h=>(Se("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const o=bm(t,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function ip(n,e){n.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let o=t.initialUser;n.setCredentialChangeListener(async a=>{o.isEqual(a)||(await Xw(e.localStore,a),o=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ny(n,e){n.asyncQueue.verifyOperationInProgress();const t=await OR(n);Se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(o=>Qv(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,a)=>Qv(e.remoteStore,a)),n._onlineComponents=e}async function OR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{await ip(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ge.FAILED_PRECONDITION||a.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Al("Error using user provided cache. Falling back to memory cache: "+t),await ip(n,new Kh)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),await ip(n,new MR(void 0));return n._offlineComponents}async function g0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),await ny(n,n._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),await ny(n,new Fp))),n._onlineComponents}function VR(n){return g0(n).then(e=>e.syncEngine)}async function FR(n){const e=await g0(n),t=e.eventManager;return t.onListen=wR.bind(null,e.syncEngine),t.onUnlisten=TR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ER.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=CR.bind(null,e.syncEngine),t}function zR(n,e,t={}){const o=new Fs;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,y){const x=new NR({next:S=>{x.eu(),h.enqueueAndForget(()=>dR(u,C)),S.fromCache&&g.source==="server"?y.reject(new Oe(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),C=new mR(m,x,{includeMetadataChanges:!0,ua:!0});return hR(u,C)}(await FR(n),n.asyncQueue,e,t,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(n,e,t){if(!t)throw new Oe(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BR(n,e,t,o){if(e===!0&&o===!0)throw new Oe(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iy(n){if(!Be.isDocumentKey(n))throw new Oe(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oy(n){if(Be.isDocumentKey(n))throw new Oe(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ke()}function ba(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mm(n);throw new Oe(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){var t,o;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Oe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_0((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Oe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Oe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Oe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,a){return o.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yd{constructor(e,t,o,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sy(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new KS;switch(o.type){case"firstParty":return new YS(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Oe(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const o=ry.get(t);o&&(Se("ComponentProvider","Removing Datastore"),ry.delete(t),o.terminate())}(this),Promise.resolve()}}function jR(n,e,t,o={}){var a;const u=(n=ba(n,yd))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),o.mockUserToken){let m,g;if(typeof o.mockUserToken=="string")m=o.mockUserToken,g=Dn.MOCK_USER;else{m=R1(o.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!y)throw new Oe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Dn(y)}n._authCredentials=new ZS(new _w(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new wd(this.firestore,e,this._query)}}class Hr{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hr(this.firestore,e,this._key)}}class zs extends wd{constructor(e,t,o){super(e,t,Rw(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hr(this.firestore,null,new Be(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function zp(n,e,...t){if(n=js(n),v0("collection","path",e),n instanceof yd){const o=kt.fromString(e,...t);return oy(o),new zs(n,null,o)}{if(!(n instanceof Hr||n instanceof zs))throw new Oe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(kt.fromString(e,...t));return oy(o),new zs(n.firestore,null,o)}}function Bp(n,e,...t){if(n=js(n),arguments.length===1&&(e=vw.newId()),v0("doc","path",e),n instanceof yd){const o=kt.fromString(e,...t);return iy(o),new Hr(n,null,new Be(o))}{if(!(n instanceof Hr||n instanceof zs))throw new Oe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(kt.fromString(e,...t));return iy(o),new Hr(n.firestore,n instanceof zs?n.converter:null,new Be(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new e0(this,"async_queue_retry"),this.fu=()=>{const o=rp();o&&Se("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=e;const t=rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Fs;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Wl(e))throw e;Se("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(o=>{this.Au=o,this.Ru=!1;const a=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(o);throw ko("INTERNAL UNHANDLED ERROR: ",a),o}).then(o=>(this.Ru=!1,o))));return this.gu=t,t}enqueueAfterDelay(e,t,o){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const a=Am.createAndSchedule(this,e,t,o,u=>this.Su(u));return this.du.push(a),a}pu(){this.Au&&Ke()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class ac extends yd{constructor(e,t,o,a){super(e,t,o,a),this.type="firestore",this._queue=new ay,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ay(e),this._firestoreClient=void 0,await e}}}function UR(n,e){const t=typeof n=="object"?n:VS(),o=typeof n=="string"?n:"(default)",a=MS(t,"firestore").getImmediate({identifier:o});if(!a._initialized){const u=P1("firestore");u&&jR(a,...u)}return a}function y0(n){if(n._terminated)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$R(n),n._firestoreClient}function $R(n){var e,t,o;const a=n._freezeSettings(),u=function(m,g,y,x){return new dP(m,g,y,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,_0(x.experimentalLongPollingOptions),x.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((o=a.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new DR(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(xn.fromBase64String(e))}catch(t){throw new Oe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dl(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Oe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,a){if(o.length!==a.length)return!1;for(let u=0;u<o.length;++u)if(o[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=/^__.*__$/;class HR{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new rc(e,this.data,t,this.fieldTransforms)}}class w0{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function E0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class Vm{constructor(e,t,o,a,u,h){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=a,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.xu({path:o,Nu:!1});return a.Lu(e),a}Bu(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.xu({path:o,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Zh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(E0(this.Mu)&&WR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class GR{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||gd(e)}$u(e,t,o,a=!1){return new Vm({Mu:e,methodName:t,Ku:o,path:En.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x0(n){const e=n._freezeSettings(),t=gd(n._databaseId);return new GR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KR(n,e,t,o,a,u={}){const h=n.$u(u.merge||u.mergeFields?2:0,e,t,a);Fm("Data must be an object, but it was:",h,o);const m=T0(o,h);let g,y;if(u.merge)g=new Pr(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const x=[];for(const C of u.mergeFields){const S=jp(e,C,t);if(!h.contains(S))throw new Oe(ge.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);S0(x,S)||x.push(S)}g=new Pr(x),y=h.fieldTransforms.filter(C=>g.covers(C.field))}else g=null,y=h.fieldTransforms;return new HR(new hr(m),g,y)}class xd extends Nm{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xd}}function ZR(n,e,t,o){const a=n.$u(1,e,t);Fm("Data must be an object, but it was:",a,o);const u=[],h=hr.empty();Qs(o,(g,y)=>{const x=zm(e,g,t);y=js(y);const C=a.Bu(x);if(y instanceof xd)u.push(x);else{const S=Td(y,C);S!=null&&(u.push(x),h.set(x,S))}});const m=new Pr(u);return new w0(h,m,a.fieldTransforms)}function qR(n,e,t,o,a,u){const h=n.$u(1,e,t),m=[jp(e,o,t)],g=[a];if(u.length%2!=0)throw new Oe(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(jp(e,u[S])),g.push(u[S+1]);const y=[],x=hr.empty();for(let S=m.length-1;S>=0;--S)if(!S0(y,m[S])){const A=m[S];let M=g[S];M=js(M);const b=h.Bu(A);if(M instanceof xd)y.push(A);else{const N=Td(M,b);N!=null&&(y.push(A),x.set(A,N))}}const C=new Pr(y);return new w0(x,C,h.fieldTransforms)}function Td(n,e){if(C0(n=js(n)))return Fm("Unsupported field value:",e,n),T0(n,e);if(n instanceof Nm)return function(o,a){if(!E0(a.Mu))throw a.qu(`${o._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${o._methodName}() is not currently supported inside arrays`);const u=o._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(o,a){const u=[];let h=0;for(const m of o){let g=Td(m,a.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(n,e)}return function(o,a){if((o=js(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return DP(a.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const u=rn.fromDate(o);return{timestampValue:Wh(a.serializer,u)}}if(o instanceof rn){const u=new rn(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Wh(a.serializer,u)}}if(o instanceof Dm)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Dl)return{bytesValue:Ww(a.serializer,o._byteString)};if(o instanceof Hr){const u=a.databaseId,h=o.firestore._databaseId;if(!h.isEqual(u))throw a.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Em(o.firestore._databaseId||a.databaseId,o._key.path)}}if(o instanceof Om)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.qu("VectorValues must only contain numeric values.");return _m(m.serializer,g)})}}}}}}(o,a);throw a.qu(`Unsupported field value: ${Mm(o)}`)}(n,e)}function T0(n,e){const t={};return yw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(n,(o,a)=>{const u=Td(a,e.Ou(o));u!=null&&(t[o]=u)}),{mapValue:{fields:t}}}function C0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rn||n instanceof Dm||n instanceof Dl||n instanceof Hr||n instanceof Nm||n instanceof Om)}function Fm(n,e,t){if(!C0(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const o=Mm(t);throw o==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+o)}}function jp(n,e,t){if((e=js(e))instanceof Ed)return e._internalPath;if(typeof e=="string")return zm(n,e);throw Zh("Field path arguments must be of type string or ",n,!1,void 0,t)}const QR=new RegExp("[~\\*/\\[\\]]");function zm(n,e,t){if(e.search(QR)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ed(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zh(n,e,t,o,a){const u=o&&!o.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${o}`),h&&(g+=` in document ${a}`),g+=")"),new Oe(ge.INVALID_ARGUMENT,m+n+g)}function S0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t,o,a,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(I0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class YR extends P0{data(){return super.data()}}function I0(n,e){return typeof e=="string"?zm(n,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Oe(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JR{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return Qs(e,(a,u)=>{o[a]=this.convertValue(u,t)}),o}convertVectorValue(e){var t,o,a;const u=(a=(o=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||o===void 0?void 0:o.values)===null||a===void 0?void 0:a.map(h=>Ht(h.doubleValue));return new Om(u)}convertGeoPoint(e){return new Dm(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ud(e);return o==null?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const t=$s(e);return new rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=kt.fromString(e);mt(Qw(o));const a=new Hu(o.get(1),o.get(3)),u=new Be(o.popFirst(5));return a.isEqual(t)||ko(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(n,e,t){let o;return o=n?n.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tA extends P0{constructor(e,t,o,a,u,h){super(e,t,o,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(I0("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Ah extends tA{data(e={}){return super.data(e)}}class nA{constructor(e,t,o,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new mh(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Ah(this._firestore,this._userDataWriter,o.key,o,new mh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new Ah(a._firestore,a._userDataWriter,m.doc.key,m.doc,new mh(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Ah(a._firestore,a._userDataWriter,m.doc.key,m.doc,new mh(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,x=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),x=h.indexOf(m.doc.key)),{type:rA(m.type),doc:g,oldIndex:y,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}class iA extends JR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,t)}}function R0(n){n=ba(n,wd);const e=ba(n.firestore,ac),t=y0(e),o=new iA(e);return XR(n._query),zR(t,n._query).then(a=>new nA(e,o,n,a))}function oA(n,e,t,...o){n=ba(n,Hr);const a=ba(n.firestore,ac),u=x0(a);let h;return h=typeof(e=js(e))=="string"||e instanceof Ed?qR(u,"updateDoc",n._key,e,t,o):ZR(u,"updateDoc",n._key,e),Bm(a,[h.toMutation(n._key,pi.exists(!0))])}function sA(n){return Bm(ba(n.firestore,ac),[new vm(n._key,pi.none())])}function aA(n,e){const t=ba(n.firestore,ac),o=Bp(n),a=eA(n.converter,e);return Bm(t,[KR(x0(n.firestore),"addDoc",o._key,a,n.converter!==null,{}).toMutation(o._key,pi.exists(!1))]).then(()=>o)}function Bm(n,e){return function(o,a){const u=new Fs;return o.asyncQueue.enqueueAndForget(async()=>SR(await VR(o),a,u)),u.promise}(y0(n),e)}(function(e,t=!0){(function(a){Ul=a})(OS),Fh(new ju("firestore",(o,{instanceIdentifier:a,options:u})=>{const h=o.getProvider("app").getImmediate(),m=new ac(new qS(o.getProvider("auth-internal")),new JS(o.getProvider("app-check-internal")),function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Oe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(y.options.projectId,x)}(h,a),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Cl(Cv,"4.7.5",e),Cl(Cv,"4.7.5","esm2017")})();var lA="firebase",uA="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cl(lA,uA,"app");const cA={apiKey:"AIzaSyBZuujmFub6feGZjLdVXOlK99oF6Kh-2Jw",authDomain:"edi-app-9b765.firebaseapp.com",projectId:"edi-app-9b765",storageBucket:"edi-app-9b765.firebasestorage.app",messagingSenderId:"645504511280",appId:"1:645504511280:web:5bf2404329aa906d2d6cf5"},hA=lw(cA),Lu=UR(hA);function A0(n,e){const t=I.useRef(e);I.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const dA=1;function fA(n){return Object.freeze({__version:dA,map:n})}function pA(n,e){return Object.freeze({...n,...e})}const b0=I.createContext(null),k0=b0.Provider;function L0(){const n=I.useContext(b0);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function mA(n){function e(t,o){const{instance:a,context:u}=n(t).current;return I.useImperativeHandle(o,()=>a),t.children==null?null:fi.createElement(k0,{value:u},t.children)}return I.forwardRef(e)}function gA(n){function e(t,o){const[a,u]=I.useState(!1),{instance:h}=n(t,u).current;I.useImperativeHandle(o,()=>h),I.useEffect(function(){a&&h.update()},[h,a,t.children]);const m=h._contentNode;return m?sd.createPortal(t.children,m):null}return I.forwardRef(e)}function _A(n){function e(t,o){const{instance:a}=n(t).current;return I.useImperativeHandle(o,()=>a),null}return I.forwardRef(e)}function M0(n,e){const t=I.useRef();I.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function jm(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function vA(n,e){return function(o,a){const u=L0(),h=n(jm(o,u),u);return A0(u.map,o.attribution),M0(h.current,o.eventHandlers),e(h.current,u,o,a),h}}var Mu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var yA=Mu.exports,ly;function wA(){return ly||(ly=1,function(n,e){(function(t,o){o(e)})(yA,function(t){var o="1.9.4";function a(i){var l,f,_,T;for(f=1,_=arguments.length;f<_;f++){T=arguments[f];for(l in T)i[l]=T[l]}return i}var u=Object.create||function(){function i(){}return function(l){return i.prototype=l,new i}}();function h(i,l){var f=Array.prototype.slice;if(i.bind)return i.bind.apply(i,f.call(arguments,1));var _=f.call(arguments,2);return function(){return i.apply(l,_.length?_.concat(f.call(arguments)):arguments)}}var m=0;function g(i){return"_leaflet_id"in i||(i._leaflet_id=++m),i._leaflet_id}function y(i,l,f){var _,T,k,G;return G=function(){_=!1,T&&(k.apply(f,T),T=!1)},k=function(){_?T=arguments:(i.apply(f,arguments),setTimeout(G,l),_=!0)},k}function x(i,l,f){var _=l[1],T=l[0],k=_-T;return i===_&&f?i:((i-T)%k+k)%k+T}function C(){return!1}function S(i,l){if(l===!1)return i;var f=Math.pow(10,l===void 0?6:l);return Math.round(i*f)/f}function A(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function M(i){return A(i).split(/\s+/)}function b(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?u(i.options):{});for(var f in l)i.options[f]=l[f];return i.options}function N(i,l,f){var _=[];for(var T in i)_.push(encodeURIComponent(f?T.toUpperCase():T)+"="+encodeURIComponent(i[T]));return(!l||l.indexOf("?")===-1?"?":"&")+_.join("&")}var B=/\{ *([\w_ -]+) *\}/g;function Z(i,l){return i.replace(B,function(f,_){var T=l[_];if(T===void 0)throw new Error("No value provided for variable "+f);return typeof T=="function"&&(T=T(l)),T})}var Y=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function q(i,l){for(var f=0;f<i.length;f++)if(i[f]===l)return f;return-1}var ee="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ae(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var z=0;function D(i){var l=+new Date,f=Math.max(0,16-(l-z));return z=l+f,window.setTimeout(i,f)}var V=window.requestAnimationFrame||ae("RequestAnimationFrame")||D,U=window.cancelAnimationFrame||ae("CancelAnimationFrame")||ae("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function W(i,l,f){if(f&&V===D)i.call(l);else return V.call(window,h(i,l))}function H(i){i&&U.call(window,i)}var j={__proto__:null,extend:a,create:u,bind:h,get lastId(){return m},stamp:g,throttle:y,wrapNum:x,falseFn:C,formatNum:S,trim:A,splitWords:M,setOptions:b,getParamString:N,template:Z,isArray:Y,indexOf:q,emptyImageUrl:ee,requestFn:V,cancelFn:U,requestAnimFrame:W,cancelAnimFrame:H};function be(){}be.extend=function(i){var l=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,_=u(f);_.constructor=l,l.prototype=_;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(l[T]=this[T]);return i.statics&&a(l,i.statics),i.includes&&(nt(i.includes),a.apply(null,[_].concat(i.includes))),a(_,i),delete _.statics,delete _.includes,_.options&&(_.options=f.options?u(f.options):{},a(_.options,i.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,G=_._initHooks.length;k<G;k++)_._initHooks[k].call(this)}},l},be.include=function(i){var l=this.prototype.options;return a(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},be.mergeOptions=function(i){return a(this.prototype.options,i),this},be.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),f=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function nt(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=Y(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Re={on:function(i,l,f){if(typeof i=="object")for(var _ in i)this._on(_,i[_],l);else{i=M(i);for(var T=0,k=i.length;T<k;T++)this._on(i[T],l,f)}return this},off:function(i,l,f){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var _ in i)this._off(_,i[_],l);else{i=M(i);for(var T=arguments.length===1,k=0,G=i.length;k<G;k++)T?this._off(i[k]):this._off(i[k],l,f)}return this},_on:function(i,l,f,_){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,f)===!1){f===this&&(f=void 0);var T={fn:l,ctx:f};_&&(T.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(T)}},_off:function(i,l,f){var _,T,k;if(this._events&&(_=this._events[i],!!_)){if(arguments.length===1){if(this._firingCount)for(T=0,k=_.length;T<k;T++)_[T].fn=C;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var G=this._listens(i,l,f);if(G!==!1){var te=_[G];this._firingCount&&(te.fn=C,this._events[i]=_=_.slice()),_.splice(G,1)}}},fire:function(i,l,f){if(!this.listens(i,f))return this;var _=a({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var T=this._events[i];if(T){this._firingCount=this._firingCount+1||1;for(var k=0,G=T.length;k<G;k++){var te=T[k],oe=te.fn;te.once&&this.off(i,oe,te.ctx),oe.call(te.ctx||this,_)}this._firingCount--}}return f&&this._propagateEvent(_),this},listens:function(i,l,f,_){typeof i!="string"&&console.warn('"string" type argument expected');var T=l;typeof l!="function"&&(_=!!l,T=void 0,f=void 0);var k=this._events&&this._events[i];if(k&&k.length&&this._listens(i,T,f)!==!1)return!0;if(_){for(var G in this._eventParents)if(this._eventParents[G].listens(i,l,f,_))return!0}return!1},_listens:function(i,l,f){if(!this._events)return!1;var _=this._events[i]||[];if(!l)return!!_.length;f===this&&(f=void 0);for(var T=0,k=_.length;T<k;T++)if(_[T].fn===l&&_[T].ctx===f)return T;return!1},once:function(i,l,f){if(typeof i=="object")for(var _ in i)this._on(_,i[_],l,!0);else{i=M(i);for(var T=0,k=i.length;T<k;T++)this._on(i[T],l,f,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[g(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[g(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,a({layer:i.target,propagatedFrom:i.target},i),!0)}};Re.addEventListener=Re.on,Re.removeEventListener=Re.clearAllEventListeners=Re.off,Re.addOneTimeEventListener=Re.once,Re.fireEvent=Re.fire,Re.hasEventListeners=Re.listens;var Ne=be.extend(Re);function ne(i,l,f){this.x=f?Math.round(i):i,this.y=f?Math.round(l):l}var he=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(i){return this.clone()._add(ue(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(ue(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new ne(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new ne(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=he(this.x),this.y=he(this.y),this},distanceTo:function(i){i=ue(i);var l=i.x-this.x,f=i.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(i){return i=ue(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=ue(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function ue(i,l,f){return i instanceof ne?i:Y(i)?new ne(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new ne(i.x,i.y):new ne(i,l,f)}function K(i,l){if(i)for(var f=l?[i,l]:i,_=0,T=f.length;_<T;_++)this.extend(f[_])}K.prototype={extend:function(i){var l,f;if(!i)return this;if(i instanceof ne||typeof i[0]=="number"||"x"in i)l=f=ue(i);else if(i=ce(i),l=i.min,f=i.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(i){return ue((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return ue(this.min.x,this.max.y)},getTopRight:function(){return ue(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,f;return typeof i[0]=="number"||i instanceof ne?i=ue(i):i=ce(i),i instanceof K?(l=i.min,f=i.max):l=f=i,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(i){i=ce(i);var l=this.min,f=this.max,_=i.min,T=i.max,k=T.x>=l.x&&_.x<=f.x,G=T.y>=l.y&&_.y<=f.y;return k&&G},overlaps:function(i){i=ce(i);var l=this.min,f=this.max,_=i.min,T=i.max,k=T.x>l.x&&_.x<f.x,G=T.y>l.y&&_.y<f.y;return k&&G},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,f=this.max,_=Math.abs(l.x-f.x)*i,T=Math.abs(l.y-f.y)*i;return ce(ue(l.x-_,l.y-T),ue(f.x+_,f.y+T))},equals:function(i){return i?(i=ce(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ce(i,l){return!i||i instanceof K?i:new K(i,l)}function we(i,l){if(i)for(var f=l?[i,l]:i,_=0,T=f.length;_<T;_++)this.extend(f[_])}we.prototype={extend:function(i){var l=this._southWest,f=this._northEast,_,T;if(i instanceof Te)_=i,T=i;else if(i instanceof we){if(_=i._southWest,T=i._northEast,!_||!T)return this}else return i?this.extend(Ee(i)||Pe(i)):this;return!l&&!f?(this._southWest=new Te(_.lat,_.lng),this._northEast=new Te(T.lat,T.lng)):(l.lat=Math.min(_.lat,l.lat),l.lng=Math.min(_.lng,l.lng),f.lat=Math.max(T.lat,f.lat),f.lng=Math.max(T.lng,f.lng)),this},pad:function(i){var l=this._southWest,f=this._northEast,_=Math.abs(l.lat-f.lat)*i,T=Math.abs(l.lng-f.lng)*i;return new we(new Te(l.lat-_,l.lng-T),new Te(f.lat+_,f.lng+T))},getCenter:function(){return new Te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Te(this.getNorth(),this.getWest())},getSouthEast:function(){return new Te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof Te||"lat"in i?i=Ee(i):i=Pe(i);var l=this._southWest,f=this._northEast,_,T;return i instanceof we?(_=i.getSouthWest(),T=i.getNorthEast()):_=T=i,_.lat>=l.lat&&T.lat<=f.lat&&_.lng>=l.lng&&T.lng<=f.lng},intersects:function(i){i=Pe(i);var l=this._southWest,f=this._northEast,_=i.getSouthWest(),T=i.getNorthEast(),k=T.lat>=l.lat&&_.lat<=f.lat,G=T.lng>=l.lng&&_.lng<=f.lng;return k&&G},overlaps:function(i){i=Pe(i);var l=this._southWest,f=this._northEast,_=i.getSouthWest(),T=i.getNorthEast(),k=T.lat>l.lat&&_.lat<f.lat,G=T.lng>l.lng&&_.lng<f.lng;return k&&G},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=Pe(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Pe(i,l){return i instanceof we?i:new we(i,l)}function Te(i,l,f){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,f!==void 0&&(this.alt=+f)}Te.prototype={equals:function(i,l){if(!i)return!1;i=Ee(i);var f=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return f<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+S(this.lat,i)+", "+S(this.lng,i)+")"},distanceTo:function(i){return Ze.distance(this,Ee(i))},wrap:function(){return Ze.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,f=l/Math.cos(Math.PI/180*this.lat);return Pe([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new Te(this.lat,this.lng,this.alt)}};function Ee(i,l,f){return i instanceof Te?i:Y(i)&&typeof i[0]!="object"?i.length===3?new Te(i[0],i[1],i[2]):i.length===2?new Te(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new Te(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new Te(i,l,f)}var je={latLngToPoint:function(i,l){var f=this.projection.project(i),_=this.scale(l);return this.transformation._transform(f,_)},pointToLatLng:function(i,l){var f=this.scale(l),_=this.transformation.untransform(i,f);return this.projection.unproject(_)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(i),_=this.transformation.transform(l.min,f),T=this.transformation.transform(l.max,f);return new K(_,T)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?x(i.lng,this.wrapLng,!0):i.lng,f=this.wrapLat?x(i.lat,this.wrapLat,!0):i.lat,_=i.alt;return new Te(f,l,_)},wrapLatLngBounds:function(i){var l=i.getCenter(),f=this.wrapLatLng(l),_=l.lat-f.lat,T=l.lng-f.lng;if(_===0&&T===0)return i;var k=i.getSouthWest(),G=i.getNorthEast(),te=new Te(k.lat-_,k.lng-T),oe=new Te(G.lat-_,G.lng-T);return new we(te,oe)}},Ze=a({},je,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var f=Math.PI/180,_=i.lat*f,T=l.lat*f,k=Math.sin((l.lat-i.lat)*f/2),G=Math.sin((l.lng-i.lng)*f/2),te=k*k+Math.cos(_)*Math.cos(T)*G*G,oe=2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te));return this.R*oe}}),Ye=6378137,yt={R:Ye,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,f=this.MAX_LATITUDE,_=Math.max(Math.min(f,i.lat),-f),T=Math.sin(_*l);return new ne(this.R*i.lng*l,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(i){var l=180/Math.PI;return new Te((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:function(){var i=Ye*Math.PI;return new K([-i,-i],[i,i])}()};function Tn(i,l,f,_){if(Y(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=f,this._d=_}Tn.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new ne((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function Vn(i,l,f,_){return new Tn(i,l,f,_)}var an=a({},Ze,{code:"EPSG:3857",projection:yt,transformation:function(){var i=.5/(Math.PI*yt.R);return Vn(i,.5,-i,.5)}()}),Rr=a({},an,{code:"EPSG:900913"});function Zr(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function _i(i,l){var f="",_,T,k,G,te,oe;for(_=0,k=i.length;_<k;_++){for(te=i[_],T=0,G=te.length;T<G;T++)oe=te[T],f+=(T?"L":"M")+oe.x+" "+oe.y;f+=l?ke.svg?"z":"x":""}return f||"M0 0"}var qr=document.documentElement.style,Qr="ActiveXObject"in window,dr=Qr&&!document.addEventListener,Ar="msLaunchUri"in navigator&&!("documentMode"in document),fr=ln("webkit"),Vo=ln("android"),Gi=ln("android 2")||ln("android 3"),Fo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xs=Vo&&ln("Google")&&Fo<537&&!("AudioNode"in window),Lt=!!window.opera,zt=!Ar&&ln("chrome"),br=ln("gecko")&&!fr&&!Lt&&!Qr,Js=!zt&&ln("safari"),Yr=ln("phantom"),vi="OTransition"in qr,Ki=navigator.platform.indexOf("Win")===0,zo=Qr&&"transition"in qr,Zi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Gi,Bo="MozPerspective"in qr,ea=!window.L_DISABLE_3D&&(zo||Zi||Bo)&&!vi&&!Yr,Xr=typeof orientation<"u"||ln("mobile"),qi=Xr&&fr,jo=Xr&&Zi,Qi=!window.PointerEvent&&window.MSPointerEvent,Fn=!!(window.PointerEvent||Qi),pr="ontouchstart"in window||!!window.TouchEvent,Uo=!window.L_NO_TOUCH&&(pr||Fn),kr=Xr&&Lt,ta=Xr&&br,Yi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,na=function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",C,l),window.removeEventListener("testPassiveEventSupport",C,l)}catch{}return i}(),Jr=function(){return!!document.createElement("canvas").getContext}(),Xi=!!(document.createElementNS&&Zr("svg").createSVGRect),Mt=!!Xi&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$o=!Xi&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),mr=navigator.platform.indexOf("Mac")===0,Ji=navigator.platform.indexOf("Linux")===0;function ln(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var ke={ie:Qr,ielt9:dr,edge:Ar,webkit:fr,android:Vo,android23:Gi,androidStock:Xs,opera:Lt,chrome:zt,gecko:br,safari:Js,phantom:Yr,opera12:vi,win:Ki,ie3d:zo,webkit3d:Zi,gecko3d:Bo,any3d:ea,mobile:Xr,mobileWebkit:qi,mobileWebkit3d:jo,msPointer:Qi,pointer:Fn,touch:Uo,touchNative:pr,mobileOpera:kr,mobileGecko:ta,retina:Yi,passiveEvents:na,canvas:Jr,svg:Xi,vml:$o,inlineSvg:Mt,mac:mr,linux:Ji},Gn=ke.msPointer?"MSPointerDown":"pointerdown",Wo=ke.msPointer?"MSPointerMove":"pointermove",Va=ke.msPointer?"MSPointerUp":"pointerup",eo=ke.msPointer?"MSPointerCancel":"pointercancel",Ho={touchstart:Gn,touchmove:Wo,touchend:Va,touchcancel:eo},Kn={touchstart:wt,touchmove:qo,touchend:qo,touchcancel:qo},Zn={},qn=!1;function Fa(i,l,f){return l==="touchstart"&&za(),Kn[l]?(f=Kn[l].bind(this,f),i.addEventListener(Ho[l],f,!1),f):(console.warn("wrong event specified:",l),C)}function ra(i,l,f){if(!Ho[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(Ho[l],f,!1)}function Go(i){Zn[i.pointerId]=i}function Ko(i){Zn[i.pointerId]&&(Zn[i.pointerId]=i)}function Zo(i){delete Zn[i.pointerId]}function za(){qn||(document.addEventListener(Gn,Go,!0),document.addEventListener(Wo,Ko,!0),document.addEventListener(Va,Zo,!0),document.addEventListener(eo,Zo,!0),qn=!0)}function qo(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in Zn)l.touches.push(Zn[f]);l.changedTouches=[l],i(l)}}function wt(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&vt(l),qo(i,l)}function Ba(i){var l={},f,_;for(_ in i)f=i[_],l[_]=f&&f.bind?f.bind(i):f;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var to=200;function yi(i,l){i.addEventListener("dblclick",l);var f=0,_;function T(k){if(k.detail!==1){_=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var G=Mr(k);if(!(G.some(function(oe){return oe instanceof HTMLLabelElement&&oe.attributes.for})&&!G.some(function(oe){return oe instanceof HTMLInputElement||oe instanceof HTMLSelectElement}))){var te=Date.now();te-f<=to?(_++,_===2&&l(Ba(k))):_=1,f=te}}}return i.addEventListener("click",T),{dblclick:l,simDblclick:T}}function Qn(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var no=_r(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),wi=_r(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ei=wi==="webkitTransition"||wi==="OTransition"?wi+"End":"transitionend";function Cn(i){return typeof i=="string"?document.getElementById(i):i}function xi(i,l){var f=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(i,null);f=_?_[l]:null}return f==="auto"?null:f}function We(i,l,f){var _=document.createElement(i);return _.className=l||"",f&&f.appendChild(_),_}function gt(i){var l=i.parentNode;l&&l.removeChild(i)}function ro(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function ei(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function gr(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function Ti(i,l){if(i.classList!==void 0)return i.classList.contains(l);var f=Yn(i);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function Ue(i,l){if(i.classList!==void 0)for(var f=M(l),_=0,T=f.length;_<T;_++)i.classList.add(f[_]);else if(!Ti(i,l)){var k=Yn(i);ia(i,(k?k+" ":"")+l)}}function _t(i,l){i.classList!==void 0?i.classList.remove(l):ia(i,A((" "+Yn(i)+" ").replace(" "+l+" "," ")))}function ia(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function Yn(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Ct(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&io(i,l)}function io(i,l){var f=!1,_="DXImageTransform.Microsoft.Alpha";try{f=i.filters.item(_)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):i.style.filter+=" progid:"+_+"(opacity="+l+")"}function _r(i){for(var l=document.documentElement.style,f=0;f<i.length;f++)if(i[f]in l)return i[f];return!1}function Sn(i,l,f){var _=l||new ne(0,0);i.style[no]=(ke.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(f?" scale("+f+")":"")}function He(i,l){i._leaflet_pos=l,ke.any3d?Sn(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function Pn(i){return i._leaflet_pos||new ne(0,0)}var Je,Xn,Qo;if("onselectstart"in document)Je=function(){De(window,"selectstart",vt)},Xn=function(){dt(window,"selectstart",vt)};else{var Lr=_r(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Je=function(){if(Lr){var i=document.documentElement.style;Qo=i[Lr],i[Lr]="none"}},Xn=function(){Lr&&(document.documentElement.style[Lr]=Qo,Qo=void 0)}}function Yo(){De(window,"dragstart",vt)}function Xo(){dt(window,"dragstart",vt)}var oo,so;function Jn(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Bt(),oo=i,so=i.style.outlineStyle,i.style.outlineStyle="none",De(window,"keydown",Bt))}function Bt(){oo&&(oo.style.outlineStyle=so,oo=void 0,so=void 0,dt(window,"keydown",Bt))}function er(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function zn(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var Ci={__proto__:null,TRANSFORM:no,TRANSITION:wi,TRANSITION_END:Ei,get:Cn,getStyle:xi,create:We,remove:gt,empty:ro,toFront:ei,toBack:gr,hasClass:Ti,addClass:Ue,removeClass:_t,setClass:ia,getClass:Yn,setOpacity:Ct,testProp:_r,setTransform:Sn,setPosition:He,getPosition:Pn,get disableTextSelection(){return Je},get enableTextSelection(){return Xn},disableImageDrag:Yo,enableImageDrag:Xo,preventOutline:Jn,restoreOutline:Bt,getSizedParentNode:er,getScale:zn};function De(i,l,f,_){if(l&&typeof l=="object")for(var T in l)sa(i,T,l[T],f);else{l=M(l);for(var k=0,G=l.length;k<G;k++)sa(i,l[k],f,_)}return this}var $t="_leaflet_events";function dt(i,l,f,_){if(arguments.length===1)oa(i),delete i[$t];else if(l&&typeof l=="object")for(var T in l)Jo(i,T,l[T],f);else if(l=M(l),arguments.length===2)oa(i,function(te){return q(l,te)!==-1});else for(var k=0,G=l.length;k<G;k++)Jo(i,l[k],f,_);return this}function oa(i,l){for(var f in i[$t]){var _=f.split(/\d/)[0];(!l||l(_))&&Jo(i,_,null,null,f)}}var un={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function sa(i,l,f,_){var T=l+g(f)+(_?"_"+g(_):"");if(i[$t]&&i[$t][T])return this;var k=function(te){return f.call(_||i,te||window.event)},G=k;!ke.touchNative&&ke.pointer&&l.indexOf("touch")===0?k=Fa(i,l,k):ke.touch&&l==="dblclick"?k=yi(i,k):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(un[l]||l,k,ke.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(k=function(te){te=te||window.event,ao(i,te)&&G(te)},i.addEventListener(un[l],k,!1)):i.addEventListener(l,G,!1):i.attachEvent("on"+l,k),i[$t]=i[$t]||{},i[$t][T]=k}function Jo(i,l,f,_,T){T=T||l+g(f)+(_?"_"+g(_):"");var k=i[$t]&&i[$t][T];if(!k)return this;!ke.touchNative&&ke.pointer&&l.indexOf("touch")===0?ra(i,l,k):ke.touch&&l==="dblclick"?Qn(i,k):"removeEventListener"in i?i.removeEventListener(un[l]||l,k,!1):i.detachEvent("on"+l,k),i[$t][T]=null}function gn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function ti(i){return sa(i,"wheel",gn),this}function Si(i){return De(i,"mousedown touchstart dblclick contextmenu",gn),i._leaflet_disable_click=!0,this}function vt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Xt(i){return vt(i),gn(i),this}function Mr(i){if(i.composedPath)return i.composedPath();for(var l=[],f=i.target;f;)l.push(f),f=f.parentNode;return l}function ni(i,l){if(!l)return new ne(i.clientX,i.clientY);var f=zn(l),_=f.boundingClientRect;return new ne((i.clientX-_.left)/f.x-l.clientLeft,(i.clientY-_.top)/f.y-l.clientTop)}var St=ke.linux&&ke.chrome?window.devicePixelRatio:ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ja(i){return ke.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/St:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function ao(i,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==i;)f=f.parentNode}catch{return!1}return f!==i}var lo={__proto__:null,on:De,off:dt,stopPropagation:gn,disableScrollPropagation:ti,disableClickPropagation:Si,preventDefault:vt,stop:Xt,getPropagationPath:Mr,getMousePosition:ni,getWheelDelta:ja,isExternalTarget:ao,addListener:De,removeListener:dt},uo=Ne.extend({run:function(i,l,f,_){this.stop(),this._el=i,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Pn(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var f=this._startPos.add(this._offset.multiplyBy(i));l&&f._round(),He(this._el,f),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),tt=Ne.extend({options:{crs:an,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=b(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Ee(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=wi&&ke.any3d&&!ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),De(this._proxy,Ei,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(Ee(i),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=a({animate:f.animate},f.zoom),f.pan=a({animate:f.animate,duration:f.duration},f.pan));var _=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,f.zoom):this._tryAnimatedPan(i,f.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,f){var _=this.getZoomScale(l),T=this.getSize().divideBy(2),k=i instanceof ne?i:this.latLngToContainerPoint(i),G=k.subtract(T).multiplyBy(1-1/_),te=this.containerPointToLatLng(T.add(G));return this.setView(te,l,{zoom:f})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():Pe(i);var f=ue(l.paddingTopLeft||l.padding||[0,0]),_=ue(l.paddingBottomRight||l.padding||[0,0]),T=this.getBoundsZoom(i,!1,f.add(_));if(T=typeof l.maxZoom=="number"?Math.min(l.maxZoom,T):T,T===1/0)return{center:i.getCenter(),zoom:T};var k=_.subtract(f).divideBy(2),G=this.project(i.getSouthWest(),T),te=this.project(i.getNorthEast(),T),oe=this.unproject(G.add(te).divideBy(2).add(k),T);return{center:oe,zoom:T}},fitBounds:function(i,l){if(i=Pe(i),!i.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(i,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=ue(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new uo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Ue(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,f){if(f=f||{},f.animate===!1||!ke.any3d)return this.setView(i,l,f);this._stop();var _=this.project(this.getCenter()),T=this.project(i),k=this.getSize(),G=this._zoom;i=Ee(i),l=l===void 0?G:l;var te=Math.max(k.x,k.y),oe=te*this.getZoomScale(G,l),fe=T.distanceTo(_)||1,xe=1.42,Ve=xe*xe;function Xe(pt){var ys=pt?-1:1,Fd=pt?oe:te,zd=oe*oe-te*te+ys*Ve*Ve*fe*fe,_o=2*Fd*Ve*fe,vo=zd/_o,yo=Math.sqrt(vo*vo+1)-vo,tl=yo<1e-9?-18:Math.log(yo);return tl}function Jt(pt){return(Math.exp(pt)-Math.exp(-pt))/2}function qt(pt){return(Math.exp(pt)+Math.exp(-pt))/2}function Un(pt){return Jt(pt)/qt(pt)}var An=Xe(0);function _s(pt){return te*(qt(An)/qt(An+xe*pt))}function uu(pt){return te*(qt(An)*Un(An+xe*pt)-Jt(An))/Ve}function bi(pt){return 1-Math.pow(1-pt,1.5)}var Tc=Date.now(),go=(Xe(1)-An)/xe,Fr=f.duration?1e3*f.duration:1e3*go*.8;function vs(){var pt=(Date.now()-Tc)/Fr,ys=bi(pt)*go;pt<=1?(this._flyToFrame=W(vs,this),this._move(this.unproject(_.add(T.subtract(_).multiplyBy(uu(ys)/fe)),G),this.getScaleZoom(te/_s(ys),G),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),vs.call(this),this},flyToBounds:function(i,l){var f=this._getBoundsCenterZoom(i,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(i){return i=Pe(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var f=this.getCenter(),_=this._limitCenter(f,this._zoom,Pe(i));return f.equals(_)||this.panTo(_,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var f=ue(l.paddingTopLeft||l.padding||[0,0]),_=ue(l.paddingBottomRight||l.padding||[0,0]),T=this.project(this.getCenter()),k=this.project(i),G=this.getPixelBounds(),te=ce([G.min.add(f),G.max.subtract(_)]),oe=te.getSize();if(!te.contains(k)){this._enforcingBounds=!0;var fe=k.subtract(te.getCenter()),xe=te.extend(k).getSize().subtract(oe);T.x+=fe.x<0?-xe.x:xe.x,T.y+=fe.y<0?-xe.y:xe.y,this.panTo(this.unproject(T),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=a({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),_=l.divideBy(2).round(),T=f.divideBy(2).round(),k=_.subtract(T);return!k.x&&!k.y?this:(i.animate&&i.pan?this.panBy(k):(i.pan&&this._rawPanBy(k),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=a({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=h(this._handleGeolocationResponse,this),f=h(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,i):navigator.geolocation.getCurrentPosition(l,f,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,f=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,f=i.coords.longitude,_=new Te(l,f),T=_.toBounds(i.coords.accuracy*2),k=this._locateOptions;if(k.setView){var G=this.getBoundsZoom(T);this.setView(_,k.maxZoom?Math.min(G,k.maxZoom):G)}var te={latlng:_,bounds:T,timestamp:i.timestamp};for(var oe in i.coords)typeof i.coords[oe]=="number"&&(te[oe]=i.coords[oe]);this.fire("locationfound",te)}},addHandler:function(i,l){if(!l)return this;var f=this[i]=new l(this);return this._handlers.push(f),this.options[i]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),gt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)gt(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var f="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),_=We("div",f,l||this._mapPane);return i&&(this._panes[i]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),f=this.unproject(i.getTopRight());return new we(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,f){i=Pe(i),f=ue(f||[0,0]);var _=this.getZoom()||0,T=this.getMinZoom(),k=this.getMaxZoom(),G=i.getNorthWest(),te=i.getSouthEast(),oe=this.getSize().subtract(f),fe=ce(this.project(te,_),this.project(G,_)).getSize(),xe=ke.any3d?this.options.zoomSnap:1,Ve=oe.x/fe.x,Xe=oe.y/fe.y,Jt=l?Math.max(Ve,Xe):Math.min(Ve,Xe);return _=this.getScaleZoom(Jt,_),xe&&(_=Math.round(_/(xe/100))*(xe/100),_=l?Math.ceil(_/xe)*xe:Math.floor(_/xe)*xe),Math.max(T,Math.min(k,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var f=this._getTopLeftPoint(i,l);return new K(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(i)/f.scale(l)},getScaleZoom:function(i,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var _=f.zoom(i*f.scale(l));return isNaN(_)?1/0:_},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Ee(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(ue(i),l)},layerPointToLatLng:function(i){var l=ue(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(Ee(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(Ee(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(Pe(i))},distance:function(i,l){return this.options.crs.distance(Ee(i),Ee(l))},containerPointToLayerPoint:function(i){return ue(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return ue(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(ue(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ee(i)))},mouseEventToContainerPoint:function(i){return ni(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=Cn(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");De(l,"scroll",this._onScroll,this),this._containerId=g(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&ke.any3d,Ue(i,"leaflet-container"+(ke.touch?" leaflet-touch":"")+(ke.retina?" leaflet-retina":"")+(ke.ielt9?" leaflet-oldie":"")+(ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=xi(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),He(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ue(i.markerPane,"leaflet-zoom-hide"),Ue(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,f){He(this._mapPane,new ne(0,0));var _=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var T=this._zoom!==l;this._moveStart(T,f)._move(i,l)._moveEnd(T),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,f,_){l===void 0&&(l=this._zoom);var T=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),_?f&&f.pinch&&this.fire("zoom",f):((T||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){He(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[g(this._container)]=this;var l=i?dt:De;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ke.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var f=[],_,T=l==="mouseout"||l==="mouseover",k=i.target||i.srcElement,G=!1;k;){if(_=this._targets[g(k)],_&&(l==="click"||l==="preclick")&&this._draggableMoved(_)){G=!0;break}if(_&&_.listens(l,!0)&&(T&&!ao(k,i)||(f.push(_),T))||k===this._container)break;k=k.parentNode}return!f.length&&!G&&!T&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var f=i.type;f==="mousedown"&&Jn(l),this._fireDOMEvent(i,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,f){if(i.type==="click"){var _=a({},i);_.type="preclick",this._fireDOMEvent(_,_.type,f)}var T=this._findEventTargets(i,l);if(f){for(var k=[],G=0;G<f.length;G++)f[G].listens(l,!0)&&k.push(f[G]);T=k.concat(T)}if(T.length){l==="contextmenu"&&vt(i);var te=T[0],oe={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var fe=te.getLatLng&&(!te._radius||te._radius<=10);oe.containerPoint=fe?this.latLngToContainerPoint(te.getLatLng()):this.mouseEventToContainerPoint(i),oe.layerPoint=this.containerPointToLayerPoint(oe.containerPoint),oe.latlng=fe?te.getLatLng():this.layerPointToLatLng(oe.layerPoint)}for(G=0;G<T.length;G++)if(T[G].fire(l,oe,!0),oe.originalEvent._stopped||T[G].options.bubblingMouseEvents===!1&&q(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return Pn(this._mapPane)||new ne(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var f=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var f=this.getSize()._divideBy(2);return this.project(i,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,f){var _=this._getNewPixelOrigin(f,l);return this.project(i,l)._subtract(_)},_latLngBoundsToNewLayerBounds:function(i,l,f){var _=this._getNewPixelOrigin(f,l);return ce([this.project(i.getSouthWest(),l)._subtract(_),this.project(i.getNorthWest(),l)._subtract(_),this.project(i.getSouthEast(),l)._subtract(_),this.project(i.getNorthEast(),l)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,f){if(!f)return i;var _=this.project(i,l),T=this.getSize().divideBy(2),k=new K(_.subtract(T),_.add(T)),G=this._getBoundsOffset(k,f,l);return Math.abs(G.x)<=1&&Math.abs(G.y)<=1?i:this.unproject(_.add(G),l)},_limitOffset:function(i,l){if(!l)return i;var f=this.getPixelBounds(),_=new K(f.min.add(i),f.max.add(i));return i.add(this._getBoundsOffset(_,l))},_getBoundsOffset:function(i,l,f){var _=ce(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),T=_.min.subtract(i.min),k=_.max.subtract(i.max),G=this._rebound(T.x,-k.x),te=this._rebound(T.y,-k.y);return new ne(G,te)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),f=this.getMaxZoom(),_=ke.any3d?this.options.zoomSnap:1;return _&&(i=Math.round(i/_)*_),Math.max(l,Math.min(f,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var f=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var i=this._proxy=We("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var f=no,_=this._proxy.style[f];Sn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),_===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){gt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();Sn(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(l),T=this._getCenterOffset(i)._divideBy(1-1/_);return f.animate!==!0&&!this.getSize().contains(T)?!1:(W(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,f,_){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,Ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Bn(i,l){return new tt(i,l)}var cn=be.extend({options:{position:"topright"},initialize:function(i){b(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),f=this.getPosition(),_=i._controlCorners[f];return Ue(l,"leaflet-control"),f.indexOf("bottom")!==-1?_.insertBefore(l,_.firstChild):_.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(gt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Gt=function(i){return new cn(i)};tt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",f=this._controlContainer=We("div",l+"control-container",this._container);function _(T,k){var G=l+T+" "+l+k;i[T+k]=We("div",G,f)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)gt(this._controlCorners[i]);gt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var es=cn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,f,_){return f<_?-1:_<f?1:0}},initialize:function(i,l,f){b(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in i)this._addLayer(i[_],_);for(_ in l)this._addLayer(l[_],_,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return cn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(g(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=We("div",i),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Si(l),ti(l);var _=this._section=We("section",i+"-list");f&&(this._map.on("click",this.collapse,this),De(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=We("a",i+"-toggle",l);T.href="#",T.title="Layers",T.setAttribute("role","button"),De(T,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){vt(k),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=We("div",i+"-base",_),this._separator=We("div",i+"-separator",_),this._overlaysList=We("div",i+"-overlays",_),l.appendChild(_)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&g(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,f){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(h(function(_,T){return this.options.sortFunction(_.layer,T.layer,_.name,T.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ro(this._baseLayersList),ro(this._overlaysList),this._layerControlInputs=[];var i,l,f,_,T=0;for(f=0;f<this._layers.length;f++)_=this._layers[f],this._addItem(_),l=l||_.overlay,i=i||!_.overlay,T+=_.overlay?0:1;return this.options.hideSingleBase&&(i=i&&T>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(g(i.target)),f=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(i,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=f,_.firstChild},_addItem:function(i){var l=document.createElement("label"),f=this._map.hasLayer(i.layer),_;i.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=f):_=this._createRadioElement("leaflet-base-layers_"+g(this),f),this._layerControlInputs.push(_),_.layerId=g(i.layer),De(_,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+i.name;var k=document.createElement("span");l.appendChild(k),k.appendChild(_),k.appendChild(T);var G=i.overlay?this._overlaysList:this._baseLayersList;return G.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,f,_=[],T=[];this._handlingClick=!0;for(var k=i.length-1;k>=0;k--)l=i[k],f=this._getLayer(l.layerId).layer,l.checked?_.push(f):l.checked||T.push(f);for(k=0;k<T.length;k++)this._map.hasLayer(T[k])&&this._map.removeLayer(T[k]);for(k=0;k<_.length;k++)this._map.hasLayer(_[k])||this._map.addLayer(_[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,f,_=this._map.getZoom(),T=i.length-1;T>=0;T--)l=i[T],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&_<f.options.minZoom||f.options.maxZoom!==void 0&&_>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,De(i,"click",vt),this.expand();var l=this;setTimeout(function(){dt(i,"click",vt),l._preventClick=!1})}}),ts=function(i,l,f){return new es(i,l,f)},tr=cn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",f=We("div",l+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,f,_,T){var k=We("a",f,_);return k.innerHTML=i,k.href="#",k.title=l,k.setAttribute("role","button"),k.setAttribute("aria-label",l),Si(k),De(k,"click",Xt),De(k,"click",T,this),De(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";_t(this._zoomInButton,l),_t(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Ue(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Ue(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});tt.mergeOptions({zoomControl:!0}),tt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new tr,this.addControl(this.zoomControl))});var aa=function(i){return new tr(i)},Kt=cn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",f=We("div",l),_=this.options;return this._addScales(_,l+"-line",f),i.on(_.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),f},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,f){i.metric&&(this._mScale=We("div",l,f)),i.imperial&&(this._iScale=We("div",l,f))},_update:function(){var i=this._map,l=i.getSize().y/2,f=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/i)},_updateImperial:function(i){var l=i*3.2808399,f,_,T;l>5280?(f=l/5280,_=this._getRoundNum(f),this._updateScale(this._iScale,_+" mi",_/f)):(T=this._getRoundNum(l),this._updateScale(this._iScale,T+" ft",T/l))},_updateScale:function(i,l,f){i.style.width=Math.round(this.options.maxWidth*f)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),f=i/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),vr=function(i){return new Kt(i)},ns='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',nr=cn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ke.inlineSvg?ns+" ":"")+"Leaflet</a>"},initialize:function(i){b(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=We("div","leaflet-control-attribution"),Si(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),i.length&&f.push(i.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});tt.mergeOptions({attributionControl:!0}),tt.addInitHook(function(){this.options.attributionControl&&new nr().addTo(this)});var Yl=function(i){return new nr(i)};cn.Layers=es,cn.Zoom=tr,cn.Scale=Kt,cn.Attribution=nr,Gt.layers=ts,Gt.zoom=aa,Gt.scale=vr,Gt.attribution=Yl;var _n=be.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_n.addTo=function(i,l){return i.addHandler(l,this),this};var ri={Events:Re},ii=ke.touch?"touchstart mousedown":"mousedown",In=Ne.extend({options:{clickTolerance:3},initialize:function(i,l,f,_){b(this,_),this._element=i,this._dragStartTarget=l||i,this._preventOutline=f},enable:function(){this._enabled||(De(this._dragStartTarget,ii,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(In._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,ii,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Ti(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){In._dragging===this&&this.finishDrag();return}if(!(In._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(In._dragging=this,this._preventOutline&&Jn(this._element),Yo(),Je(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,f=er(this._element);this._startPoint=new ne(l.clientX,l.clientY),this._startPos=Pn(this._element),this._parentScale=zn(f);var _=i.type==="mousedown";De(document,_?"mousemove":"touchmove",this._onMove,this),De(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,f=new ne(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,vt(i),this._moved||(this.fire("dragstart"),this._moved=!0,Ue(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),He(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),Xo(),Xn();var l=this._moved&&this._moving;this._moving=!1,In._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function co(i,l,f){var _,T=[1,4,2,8],k,G,te,oe,fe,xe,Ve,Xe;for(k=0,xe=i.length;k<xe;k++)i[k]._code=Nr(i[k],l);for(te=0;te<4;te++){for(Ve=T[te],_=[],k=0,xe=i.length,G=xe-1;k<xe;G=k++)oe=i[k],fe=i[G],oe._code&Ve?fe._code&Ve||(Xe=Zt(fe,oe,Ve,l,f),Xe._code=Nr(Xe,l),_.push(Xe)):(fe._code&Ve&&(Xe=Zt(fe,oe,Ve,l,f),Xe._code=Nr(Xe,l),_.push(Xe)),_.push(oe));i=_}return i}function rs(i,l){var f,_,T,k,G,te,oe,fe,xe;if(!i||i.length===0)throw new Error("latlngs not passed");d(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Ve=Ee([0,0]),Xe=Pe(i),Jt=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());Jt<1700&&(Ve=is(i));var qt=i.length,Un=[];for(f=0;f<qt;f++){var An=Ee(i[f]);Un.push(l.project(Ee([An.lat-Ve.lat,An.lng-Ve.lng])))}for(te=oe=fe=0,f=0,_=qt-1;f<qt;_=f++)T=Un[f],k=Un[_],G=T.y*k.x-k.y*T.x,oe+=(T.x+k.x)*G,fe+=(T.y+k.y)*G,te+=G*3;te===0?xe=Un[0]:xe=[oe/te,fe/te];var _s=l.unproject(ue(xe));return Ee([_s.lat+Ve.lat,_s.lng+Ve.lng])}function is(i){for(var l=0,f=0,_=0,T=0;T<i.length;T++){var k=Ee(i[T]);l+=k.lat,f+=k.lng,_++}return Ee([l/_,f/_])}var os={__proto__:null,clipPolygon:co,polygonCenter:rs,centroid:is};function ho(i,l){if(!l||!i.length)return i.slice();var f=l*l;return i=$a(i,f),i=Ua(i,f),i}function la(i,l,f){return Math.sqrt(Rn(i,l,f,!0))}function oi(i,l,f){return Rn(i,l,f)}function Ua(i,l){var f=i.length,_=typeof Uint8Array<"u"?Uint8Array:Array,T=new _(f);T[0]=T[f-1]=1,ss(i,T,l,0,f-1);var k,G=[];for(k=0;k<f;k++)T[k]&&G.push(i[k]);return G}function ss(i,l,f,_,T){var k=0,G,te,oe;for(te=_+1;te<=T-1;te++)oe=Rn(i[te],i[_],i[T],!0),oe>k&&(G=te,k=oe);k>f&&(l[G]=1,ss(i,l,f,_,G),ss(i,l,f,G,T))}function $a(i,l){for(var f=[i[0]],_=1,T=0,k=i.length;_<k;_++)Wa(i[_],i[T])>l&&(f.push(i[_]),T=_);return T<k-1&&f.push(i[k-1]),f}var as;function fo(i,l,f,_,T){var k=_?as:Nr(i,f),G=Nr(l,f),te,oe,fe;for(as=G;;){if(!(k|G))return[i,l];if(k&G)return!1;te=k||G,oe=Zt(i,l,te,f,T),fe=Nr(oe,f),te===k?(i=oe,k=fe):(l=oe,G=fe)}}function Zt(i,l,f,_,T){var k=l.x-i.x,G=l.y-i.y,te=_.min,oe=_.max,fe,xe;return f&8?(fe=i.x+k*(oe.y-i.y)/G,xe=oe.y):f&4?(fe=i.x+k*(te.y-i.y)/G,xe=te.y):f&2?(fe=oe.x,xe=i.y+G*(oe.x-i.x)/k):f&1&&(fe=te.x,xe=i.y+G*(te.x-i.x)/k),new ne(fe,xe,T)}function Nr(i,l){var f=0;return i.x<l.min.x?f|=1:i.x>l.max.x&&(f|=2),i.y<l.min.y?f|=4:i.y>l.max.y&&(f|=8),f}function Wa(i,l){var f=l.x-i.x,_=l.y-i.y;return f*f+_*_}function Rn(i,l,f,_){var T=l.x,k=l.y,G=f.x-T,te=f.y-k,oe=G*G+te*te,fe;return oe>0&&(fe=((i.x-T)*G+(i.y-k)*te)/oe,fe>1?(T=f.x,k=f.y):fe>0&&(T+=G*fe,k+=te*fe)),G=i.x-T,te=i.y-k,_?G*G+te*te:new ne(T,k)}function d(i){return!Y(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function w(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(i)}function P(i,l){var f,_,T,k,G,te,oe,fe;if(!i||i.length===0)throw new Error("latlngs not passed");d(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var xe=Ee([0,0]),Ve=Pe(i),Xe=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());Xe<1700&&(xe=is(i));var Jt=i.length,qt=[];for(f=0;f<Jt;f++){var Un=Ee(i[f]);qt.push(l.project(Ee([Un.lat-xe.lat,Un.lng-xe.lng])))}for(f=0,_=0;f<Jt-1;f++)_+=qt[f].distanceTo(qt[f+1])/2;if(_===0)fe=qt[0];else for(f=0,k=0;f<Jt-1;f++)if(G=qt[f],te=qt[f+1],T=G.distanceTo(te),k+=T,k>_){oe=(k-_)/T,fe=[te.x-oe*(te.x-G.x),te.y-oe*(te.y-G.y)];break}var An=l.unproject(ue(fe));return Ee([An.lat+xe.lat,An.lng+xe.lng])}var O={__proto__:null,simplify:ho,pointToSegmentDistance:la,closestPointOnSegment:oi,clipSegment:fo,_getEdgeIntersection:Zt,_getBitCode:Nr,_sqClosestPointOnSegment:Rn,isFlat:d,_flat:w,polylineCenter:P},J={project:function(i){return new ne(i.lng,i.lat)},unproject:function(i){return new Te(i.y,i.x)},bounds:new K([-180,-90],[180,90])},le={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,f=this.R,_=i.lat*l,T=this.R_MINOR/f,k=Math.sqrt(1-T*T),G=k*Math.sin(_),te=Math.tan(Math.PI/4-_/2)/Math.pow((1-G)/(1+G),k/2);return _=-f*Math.log(Math.max(te,1e-10)),new ne(i.lng*l*f,_)},unproject:function(i){for(var l=180/Math.PI,f=this.R,_=this.R_MINOR/f,T=Math.sqrt(1-_*_),k=Math.exp(-i.y/f),G=Math.PI/2-2*Math.atan(k),te=0,oe=.1,fe;te<15&&Math.abs(oe)>1e-7;te++)fe=T*Math.sin(G),fe=Math.pow((1-fe)/(1+fe),T/2),oe=Math.PI/2-2*Math.atan(k*fe)-G,G+=oe;return new Te(G*l,i.x*l/f)}},ye={__proto__:null,LonLat:J,Mercator:le,SphericalMercator:yt},ht=a({},Ze,{code:"EPSG:3395",projection:le,transformation:function(){var i=.5/(Math.PI*le.R);return Vn(i,.5,-i,.5)}()}),jt=a({},Ze,{code:"EPSG:4326",projection:J,transformation:Vn(1/180,1,-1/180,.5)}),it=a({},je,{projection:J,transformation:Vn(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var f=l.lng-i.lng,_=l.lat-i.lat;return Math.sqrt(f*f+_*_)},infinite:!0});je.Earth=Ze,je.EPSG3395=ht,je.EPSG3857=an,je.EPSG900913=Rr,je.EPSG4326=jt,je.Simple=it;var ft=Ne.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[g(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[g(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});tt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=g(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=g(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return g(i)in this._layers},eachLayer:function(i,l){for(var f in this._layers)i.call(l,this._layers[f]);return this},_addLayers:function(i){i=i?Y(i)?i:[i]:[];for(var l=0,f=i.length;l<f;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[g(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=g(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,f=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var T=this._zoomBoundLayers[_].options;i=T.minZoom===void 0?i:Math.min(i,T.minZoom),l=T.maxZoom===void 0?l:Math.max(l,T.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xt=ft.extend({initialize:function(i,l){b(this,l),this._layers={};var f,_;if(i)for(f=0,_=i.length;f<_;f++)this.addLayer(i[f])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),f,_;for(f in this._layers)_=this._layers[f],_[i]&&_[i].apply(_,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var f in this._layers)i.call(l,this._layers[f]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return g(i)}}),rr=function(i,l){return new xt(i,l)},Nt=xt.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),xt.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),xt.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new we;for(var l in this._layers){var f=this._layers[l];i.extend(f.getBounds?f.getBounds():f.getLatLng())}return i}}),po=function(i,l){return new Nt(i,l)},yr=be.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){b(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var f=this._getIconUrl(i);if(!f){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(_,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(i,l){var f=this.options,_=f[l+"Size"];typeof _=="number"&&(_=[_,_]);var T=ue(_),k=ue(l==="shadow"&&f.shadowAnchor||f.iconAnchor||T&&T.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(f.className||""),k&&(i.style.marginLeft=-k.x+"px",i.style.marginTop=-k.y+"px"),T&&(i.style.width=T.x+"px",i.style.height=T.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return ke.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function dc(i){return new yr(i)}var ls=yr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof ls.imagePath!="string"&&(ls.imagePath=this._detectIconPath()),(this.options.imagePath||ls.imagePath)+yr.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(f,_,T){var k=_.exec(f);return k&&k[T]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=We("div","leaflet-default-icon-path",document.body),l=xi(i,"background-image")||xi(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Xl=_n.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new In(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ue(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,f=l._map,_=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,k=Pn(l._icon),G=f.getPixelBounds(),te=f.getPixelOrigin(),oe=ce(G.min._subtract(te).add(T),G.max._subtract(te).subtract(T));if(!oe.contains(k)){var fe=ue((Math.max(oe.max.x,k.x)-oe.max.x)/(G.max.x-oe.max.x)-(Math.min(oe.min.x,k.x)-oe.min.x)/(G.min.x-oe.min.x),(Math.max(oe.max.y,k.y)-oe.max.y)/(G.max.y-oe.max.y)-(Math.min(oe.min.y,k.y)-oe.min.y)/(G.min.y-oe.min.y)).multiplyBy(_);f.panBy(fe,{animate:!1}),this._draggable._newPos._add(fe),this._draggable._startPos._add(fe),He(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=W(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,f=l._shadow,_=Pn(l._icon),T=l._map.layerPointToLatLng(_);f&&He(f,_),l._latlng=T,i.latlng=T,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),si=ft.extend({options:{icon:new ls,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){b(this,l),this._latlng=Ee(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=Ee(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=i.icon.createIcon(this._icon),_=!1;f!==this._icon&&(this._icon&&this._removeIcon(),_=!0,i.title&&(f.title=i.title),f.tagName==="IMG"&&(f.alt=i.alt||"")),Ue(f,l),i.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&De(f,"focus",this._panOnFocus,this);var T=i.icon.createShadow(this._shadow),k=!1;T!==this._shadow&&(this._removeShadow(),k=!0),T&&(Ue(T,l),T.alt=""),this._shadow=T,i.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&k&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),gt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&gt(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&He(this._icon,i),this._shadow&&He(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xl)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xl(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Ct(this._icon,i),this._shadow&&Ct(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,f=l.iconSize?ue(l.iconSize):ue(0,0),_=l.iconAnchor?ue(l.iconAnchor):ue(0,0);i.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:f.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nd(i,l){return new si(i,l)}var Pi=ft.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return b(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ha=Pi.extend({options:{fill:!0,radius:10},initialize:function(i,l){b(this,l),this._latlng=Ee(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=Ee(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return Pi.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,f=this._clickTolerance(),_=[i+f,l+f];this._pxBounds=new K(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function fc(i,l){return new Ha(i,l)}var Ga=Ha.extend({initialize:function(i,l,f){if(typeof l=="number"&&(l=a({},f,{radius:l})),b(this,l),this._latlng=Ee(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new we(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Pi.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,f=this._map,_=f.options.crs;if(_.distance===Ze.distance){var T=Math.PI/180,k=this._mRadius/Ze.R/T,G=f.project([l+k,i]),te=f.project([l-k,i]),oe=G.add(te).divideBy(2),fe=f.unproject(oe).lat,xe=Math.acos((Math.cos(k*T)-Math.sin(l*T)*Math.sin(fe*T))/(Math.cos(l*T)*Math.cos(fe*T)))/T;(isNaN(xe)||xe===0)&&(xe=k/Math.cos(Math.PI/180*l)),this._point=oe.subtract(f.getPixelOrigin()),this._radius=isNaN(xe)?0:oe.x-f.project([fe,i-xe]).x,this._radiusY=oe.y-G.y}else{var Ve=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(Ve).x}this._updateBounds()}});function ua(i,l,f){return new Ga(i,l,f)}var jn=Pi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){b(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,f=null,_=Rn,T,k,G=0,te=this._parts.length;G<te;G++)for(var oe=this._parts[G],fe=1,xe=oe.length;fe<xe;fe++){T=oe[fe-1],k=oe[fe];var Ve=_(i,T,k,!0);Ve<l&&(l=Ve,f=_(i,T,k))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return P(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=Ee(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new we,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],f=d(i),_=0,T=i.length;_<T;_++)f?(l[_]=Ee(i[_]),this._bounds.extend(l[_])):l[_]=this._convertLatLngs(i[_]);return l},_project:function(){var i=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new ne(i,i);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,f){var _=i[0]instanceof Te,T=i.length,k,G;if(_){for(G=[],k=0;k<T;k++)G[k]=this._map.latLngToLayerPoint(i[k]),f.extend(G[k]);l.push(G)}else for(k=0;k<T;k++)this._projectLatlngs(i[k],l,f)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,_,T,k,G,te,oe;for(f=0,T=0,k=this._rings.length;f<k;f++)for(oe=this._rings[f],_=0,G=oe.length;_<G-1;_++)te=fo(oe[_],oe[_+1],i,_,!0),te&&(l[T]=l[T]||[],l[T].push(te[0]),(te[1]!==oe[_+1]||_===G-2)&&(l[T].push(te[1]),T++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,f=0,_=i.length;f<_;f++)i[f]=ho(i[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var f,_,T,k,G,te,oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(f=0,k=this._parts.length;f<k;f++)for(te=this._parts[f],_=0,G=te.length,T=G-1;_<G;T=_++)if(!(!l&&_===0)&&la(i,te[T],te[_])<=oe)return!0;return!1}});function Dd(i,l){return new jn(i,l)}jn._flat=w;var ai=jn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=jn.prototype._convertLatLngs.call(this,i),f=l.length;return f>=2&&l[0]instanceof Te&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(i){jn.prototype._setLatLngs.call(this,i),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,f=new ne(l,l);if(i=new K(i.min.subtract(f),i.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,T=this._rings.length,k;_<T;_++)k=co(this._rings[_],i,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,f,_,T,k,G,te,oe,fe;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(k=0,oe=this._parts.length;k<oe;k++)for(f=this._parts[k],G=0,fe=f.length,te=fe-1;G<fe;te=G++)_=f[G],T=f[te],_.y>i.y!=T.y>i.y&&i.x<(T.x-_.x)*(i.y-_.y)/(T.y-_.y)+_.x&&(l=!l);return l||jn.prototype._containsPoint.call(this,i,!0)}});function Od(i,l){return new ai(i,l)}var Dr=Nt.extend({initialize:function(i,l){b(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=Y(i)?i:i.features,f,_,T;if(l){for(f=0,_=l.length;f<_;f++)T=l[f],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var k=this.options;if(k.filter&&!k.filter(i))return this;var G=us(i,k);return G?(G.feature=Ya(i),G.defaultOptions=G.options,this.resetStyle(G),k.onEachFeature&&k.onEachFeature(i,G),this.addLayer(G)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=a({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function us(i,l){var f=i.type==="Feature"?i.geometry:i,_=f?f.coordinates:null,T=[],k=l&&l.pointToLayer,G=l&&l.coordsToLatLng||Za,te,oe,fe,xe;if(!_&&!f)return null;switch(f.type){case"Point":return te=G(_),Ka(k,i,te,l);case"MultiPoint":for(fe=0,xe=_.length;fe<xe;fe++)te=G(_[fe]),T.push(Ka(k,i,te,l));return new Nt(T);case"LineString":case"MultiLineString":return oe=ca(_,f.type==="LineString"?0:1,G),new jn(oe,l);case"Polygon":case"MultiPolygon":return oe=ca(_,f.type==="Polygon"?1:2,G),new ai(oe,l);case"GeometryCollection":for(fe=0,xe=f.geometries.length;fe<xe;fe++){var Ve=us({geometry:f.geometries[fe],type:"Feature",properties:i.properties},l);Ve&&T.push(Ve)}return new Nt(T);case"FeatureCollection":for(fe=0,xe=f.features.length;fe<xe;fe++){var Xe=us(f.features[fe],l);Xe&&T.push(Xe)}return new Nt(T);default:throw new Error("Invalid GeoJSON object.")}}function Ka(i,l,f,_){return i?i(l,f):new si(f,_&&_.markersInheritOptions&&_)}function Za(i){return new Te(i[1],i[0],i[2])}function ca(i,l,f){for(var _=[],T=0,k=i.length,G;T<k;T++)G=l?ca(i[T],l-1,f):(f||Za)(i[T]),_.push(G);return _}function qa(i,l){return i=Ee(i),i.alt!==void 0?[S(i.lng,l),S(i.lat,l),S(i.alt,l)]:[S(i.lng,l),S(i.lat,l)]}function Qa(i,l,f,_){for(var T=[],k=0,G=i.length;k<G;k++)T.push(l?Qa(i[k],d(i[k])?0:l-1,f,_):qa(i[k],_));return!l&&f&&T.length>0&&T.push(T[0].slice()),T}function cs(i,l){return i.feature?a({},i.feature,{geometry:l}):Ya(l)}function Ya(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Jl={toGeoJSON:function(i){return cs(this,{type:"Point",coordinates:qa(this.getLatLng(),i)})}};si.include(Jl),Ga.include(Jl),Ha.include(Jl),jn.include({toGeoJSON:function(i){var l=!d(this._latlngs),f=Qa(this._latlngs,l?1:0,!1,i);return cs(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),ai.include({toGeoJSON:function(i){var l=!d(this._latlngs),f=l&&!d(this._latlngs[0]),_=Qa(this._latlngs,f?2:l?1:0,!0,i);return l||(_=[_]),cs(this,{type:(f?"Multi":"")+"Polygon",coordinates:_})}}),xt.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(i).geometry.coordinates)}),cs(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var f=l==="GeometryCollection",_=[];return this.eachLayer(function(T){if(T.toGeoJSON){var k=T.toGeoJSON(i);if(f)_.push(k.geometry);else{var G=Ya(k);G.type==="FeatureCollection"?_.push.apply(_,G.features):_.push(G)}}}),f?cs(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function pc(i,l){return new Dr(i,l)}var wr=pc,Ii=ft.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,f){this._url=i,this._bounds=Pe(l),b(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){gt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&ei(this._image),this},bringToBack:function(){return this._map&&gr(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=Pe(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:We("img");if(Ue(l,"leaflet-image-layer"),this._zoomAnimated&&Ue(l,"leaflet-zoom-animated"),this.options.className&&Ue(l,this.options.className),l.onselectstart=C,l.onmousemove=C,l.onload=h(this.fire,this,"load"),l.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Sn(this._image,f,l)},_reset:function(){var i=this._image,l=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();He(i,l.min),i.style.width=f.x+"px",i.style.height=f.y+"px"},_updateOpacity:function(){Ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),mc=function(i,l,f){return new Ii(i,l,f)},eu=Ii.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:We("video");if(Ue(l,"leaflet-image-layer"),this._zoomAnimated&&Ue(l,"leaflet-zoom-animated"),this.options.className&&Ue(l,this.options.className),l.onselectstart=C,l.onmousemove=C,l.onloadeddata=h(this.fire,this,"load"),i){for(var f=l.getElementsByTagName("source"),_=[],T=0;T<f.length;T++)_.push(f[T].src);this._url=f.length>0?_:[l.src];return}Y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var G=We("source");G.src=this._url[k],l.appendChild(G)}}});function gc(i,l,f){return new eu(i,l,f)}var tu=Ii.extend({_initImage:function(){var i=this._image=this._url;Ue(i,"leaflet-image-layer"),this._zoomAnimated&&Ue(i,"leaflet-zoom-animated"),this.options.className&&Ue(i,this.options.className),i.onselectstart=C,i.onmousemove=C}});function nu(i,l,f){return new tu(i,l,f)}var Or=ft.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof Te||Y(i))?(this._latlng=Ee(i),b(this,l)):(b(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Ct(this._container,1),this.bringToFront(),this.options.interactive&&(Ue(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Ct(this._container,0),this._removeTimeout=setTimeout(h(gt,void 0,this._container),200)):gt(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=Ee(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ei(this._container),this},bringToBack:function(){return this._map&&gr(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof Nt){l=null;var f=this._source._layers;for(var _ in f)if(f[_]._map){l=f[_];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=ue(this.options.offset),f=this._getAnchor();this._zoomAnimated?He(this._container,i.add(f)):l=l.add(i).add(f);var _=this._containerBottom=-l.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=_+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});tt.include({_initOverlay:function(i,l,f,_){var T=l;return T instanceof i||(T=new i(_).setContent(l)),f&&T.setLatLng(f),T}}),ft.include({_initOverlay:function(i,l,f,_){var T=f;return T instanceof i?(b(T,_),T._source=this):(T=l&&!_?l:new i(_,this),T.setContent(f)),T}});var Xa=Or.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Or.prototype.openOn.call(this,i)},onAdd:function(i){Or.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Pi||this._source.on("preclick",gn))},onRemove:function(i){Or.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Pi||this._source.off("preclick",gn))},getEvents:function(){var i=Or.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=We("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=We("div",i+"-content-wrapper",l);if(this._contentNode=We("div",i+"-content",f),Si(l),ti(this._contentNode),De(l,"contextmenu",gn),this._tipContainer=We("div",i+"-tip-container",l),this._tip=We("div",i+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=We("a",i+"-close-button",l);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',De(_,"click",function(T){vt(T),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var f=i.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var _=i.offsetHeight,T=this.options.maxHeight,k="leaflet-popup-scrolled";T&&_>T?(l.height=T+"px",Ue(i,k)):_t(i,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),f=this._getAnchor();He(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(xi(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,_=this._containerWidth,T=new ne(this._containerLeft,-f-this._containerBottom);T._add(Pn(this._container));var k=i.layerPointToContainerPoint(T),G=ue(this.options.autoPanPadding),te=ue(this.options.autoPanPaddingTopLeft||G),oe=ue(this.options.autoPanPaddingBottomRight||G),fe=i.getSize(),xe=0,Ve=0;k.x+_+oe.x>fe.x&&(xe=k.x+_-fe.x+oe.x),k.x-xe-te.x<0&&(xe=k.x-te.x),k.y+f+oe.y>fe.y&&(Ve=k.y+f-fe.y+oe.y),k.y-Ve-te.y<0&&(Ve=k.y-te.y),(xe||Ve)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([xe,Ve]))}},_getAnchor:function(){return ue(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hs=function(i,l){return new Xa(i,l)};tt.mergeOptions({closePopupOnClick:!0}),tt.include({openPopup:function(i,l,f){return this._initOverlay(Xa,i,l,f).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),ft.include({bindPopup:function(i,l){return this._popup=this._initOverlay(Xa,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Nt||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Xt(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof Pi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var ds=Or.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Or.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Or.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Or.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=We("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,f,_=this._map,T=this._container,k=_.latLngToContainerPoint(_.getCenter()),G=_.layerPointToContainerPoint(i),te=this.options.direction,oe=T.offsetWidth,fe=T.offsetHeight,xe=ue(this.options.offset),Ve=this._getAnchor();te==="top"?(l=oe/2,f=fe):te==="bottom"?(l=oe/2,f=0):te==="center"?(l=oe/2,f=fe/2):te==="right"?(l=0,f=fe/2):te==="left"?(l=oe,f=fe/2):G.x<k.x?(te="right",l=0,f=fe/2):(te="left",l=oe+(xe.x+Ve.x)*2,f=fe/2),i=i.subtract(ue(l,f,!0)).add(xe).add(Ve),_t(T,"leaflet-tooltip-right"),_t(T,"leaflet-tooltip-left"),_t(T,"leaflet-tooltip-top"),_t(T,"leaflet-tooltip-bottom"),Ue(T,"leaflet-tooltip-"+te),He(T,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Ct(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return ue(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ha=function(i,l){return new ds(i,l)};tt.include({openTooltip:function(i,l,f){return this._initOverlay(ds,i,l,f).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),ft.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ds,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Nt||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(De(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),De(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,f,_;this._tooltip.options.sticky&&i.originalEvent&&(f=this._map.mouseEventToContainerPoint(i.originalEvent),_=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(l)}});var Ja=yr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),f=this.options;if(f.html instanceof Element?(ro(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var _=ue(f.bgPos);l.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function _c(i){return new Ja(i)}yr.Default=ls;var Ri=ft.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){b(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),gt(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ei(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(gr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof ne?i:new ne(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,f=-i(-1/0,1/0),_=0,T=l.length,k;_<T;_++)k=l[_].style.zIndex,l[_]!==this._container&&k&&(f=i(f,+k));isFinite(f)&&(this.options.zIndex=f+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ke.ielt9){Ct(this._container,this.options.opacity);var i=+new Date,l=!1,f=!1;for(var _ in this._tiles){var T=this._tiles[_];if(!(!T.current||!T.loaded)){var k=Math.min(1,(i-T.loaded)/200);Ct(T.el,k),k<1?l=!0:(T.active?f=!0:this._onOpaqueTile(T),T.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&(H(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=We("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===i?(this._levels[f].el.style.zIndex=l-Math.abs(i-f),this._onUpdateLevel(f)):(gt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var _=this._levels[i],T=this._map;return _||(_=this._levels[i]={},_.el=We("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=l,_.origin=T.project(T.unproject(T.getPixelOrigin()),i).round(),_.zoom=i,this._setZoomTransform(_,T.getCenter(),T.getZoom()),C(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var i,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var _=l.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)gt(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,f,_){var T=Math.floor(i/2),k=Math.floor(l/2),G=f-1,te=new ne(+T,+k);te.z=+G;var oe=this._tileCoordsToKey(te),fe=this._tiles[oe];return fe&&fe.active?(fe.retain=!0,!0):(fe&&fe.loaded&&(fe.retain=!0),G>_?this._retainParent(T,k,G,_):!1)},_retainChildren:function(i,l,f,_){for(var T=2*i;T<2*i+2;T++)for(var k=2*l;k<2*l+2;k++){var G=new ne(T,k);G.z=f+1;var te=this._tileCoordsToKey(G),oe=this._tiles[te];if(oe&&oe.active){oe.retain=!0;continue}else oe&&oe.loaded&&(oe.retain=!0);f+1<_&&this._retainChildren(T,k,f+1,_)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,f,_){var T=Math.round(l);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var k=this.options.updateWhenZooming&&T!==this._tileZoom;(!_||k)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(i),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],i,l)},_setZoomTransform:function(i,l,f){var _=this._map.getZoomScale(f,i.zoom),T=i.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(l,f)).round();ke.any3d?Sn(i.el,T,_):He(i.el,T)},_resetGrid:function(){var i=this._map,l=i.options.crs,f=this._tileSize=this.getTileSize(),_=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],_).x/f.x),Math.ceil(i.project([0,l.wrapLng[1]],_).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],_).y/f.x),Math.ceil(i.project([l.wrapLat[1],0],_).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),_=l.getZoomScale(f,this._tileZoom),T=l.project(i,this._tileZoom).floor(),k=l.getSize().divideBy(_*2);return new K(T.subtract(k),T.add(k))},_update:function(i){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(i),T=this._pxBoundsToTileRange(_),k=T.getCenter(),G=[],te=this.options.keepBuffer,oe=new K(T.getBottomLeft().subtract([te,-te]),T.getTopRight().add([te,-te]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var fe in this._tiles){var xe=this._tiles[fe].coords;(xe.z!==this._tileZoom||!oe.contains(new ne(xe.x,xe.y)))&&(this._tiles[fe].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(i,f);return}for(var Ve=T.min.y;Ve<=T.max.y;Ve++)for(var Xe=T.min.x;Xe<=T.max.x;Xe++){var Jt=new ne(Xe,Ve);if(Jt.z=this._tileZoom,!!this._isValidTile(Jt)){var qt=this._tiles[this._tileCoordsToKey(Jt)];qt?qt.current=!0:G.push(Jt)}}if(G.sort(function(An,_s){return An.distanceTo(k)-_s.distanceTo(k)}),G.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Un=document.createDocumentFragment();for(Xe=0;Xe<G.length;Xe++)this._addTile(G[Xe],Un);this._level.el.appendChild(Un)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(i.x<f.min.x||i.x>f.max.x)||!l.wrapLat&&(i.y<f.min.y||i.y>f.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(i);return Pe(this.options.bounds).overlaps(_)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,f=this.getTileSize(),_=i.scaleBy(f),T=_.add(f),k=l.unproject(_,i.z),G=l.unproject(T,i.z);return[k,G]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),f=new we(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),f=new ne(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(i){var l=this._tiles[i];l&&(gt(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Ue(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=C,i.onmousemove=C,ke.ielt9&&this.options.opacity<1&&Ct(i,this.options.opacity)},_addTile:function(i,l){var f=this._getTilePos(i),_=this._tileCoordsToKey(i),T=this.createTile(this._wrapCoords(i),h(this._tileReady,this,i));this._initTile(T),this.createTile.length<2&&W(h(this._tileReady,this,i,null,T)),He(T,f),this._tiles[_]={el:T,coords:i,current:!0},l.appendChild(T),this.fire("tileloadstart",{tile:T,coords:i})},_tileReady:function(i,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:i});var _=this._tileCoordsToKey(i);f=this._tiles[_],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Ct(f.el,0),H(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(Ue(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ke.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new ne(this._wrapX?x(i.x,this._wrapX):i.x,this._wrapY?x(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new K(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function fs(i){return new Ri(i)}var Ai=Ri.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=b(this,l),l.detectRetina&&ke.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var f=document.createElement("img");return De(f,"load",h(this._tileOnLoad,this,l,f)),De(f,"error",h(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(i),f},getTileUrl:function(i){var l={r:ke.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=f),l["-y"]=f}return Z(this._url,a(l,this.options))},_tileOnLoad:function(i,l){ke.ielt9?setTimeout(h(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,f){var _=this.options.errorTileUrl;_&&l.getAttribute("src")!==_&&(l.src=_),i(f,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,_=this.options.zoomOffset;return f&&(i=l-i),i+_},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=C,l.onerror=C,!l.complete)){l.src=ee;var f=this._tiles[i].coords;gt(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",ee),Ri.prototype._removeTile.call(this,i)},_tileReady:function(i,l,f){if(!(!this._map||f&&f.getAttribute("src")===ee))return Ri.prototype._tileReady.call(this,i,l,f)}});function ru(i,l){return new Ai(i,l)}var da=Ai.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var f=a({},this.defaultWmsParams);for(var _ in l)_ in this.options||(f[_]=l[_]);l=b(this,l);var T=l.detectRetina&&ke.retina?2:1,k=this.getTileSize();f.width=k.x*T,f.height=k.y*T,this.wmsParams=f},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Ai.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),f=this._crs,_=ce(f.project(l[0]),f.project(l[1])),T=_.min,k=_.max,G=(this._wmsVersion>=1.3&&this._crs===jt?[T.y,T.x,k.y,k.x]:[T.x,T.y,k.x,k.y]).join(","),te=Ai.prototype.getTileUrl.call(this,i);return te+N(this.wmsParams,te,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+G},setParams:function(i,l){return a(this.wmsParams,i),l||this.redraw(),this}});function vc(i,l){return new da(i,l)}Ai.WMS=da,ru.wms=vc;var Vr=ft.extend({options:{padding:.1},initialize:function(i){b(this,i),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var f=this._map.getZoomScale(l,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,l),k=_.multiplyBy(-f).add(T).subtract(this._map._getNewPixelOrigin(i,l));ke.any3d?Sn(this._container,k,f):He(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new K(f,f.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),iu=Vr.extend({options:{tolerance:0},getEvents:function(){var i=Vr.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");De(i,"mousemove",this._onMouseMove,this),De(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),De(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,gt(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vr.prototype._update.call(this);var i=this._bounds,l=this._container,f=i.getSize(),_=ke.retina?2:1;He(l,i.min),l.width=_*f.x,l.height=_*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Vr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[g(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,f=l.next,_=l.prev;f?f.prev=_:this._drawLast=_,_?_.next=f:this._drawFirst=f,delete i._order,delete this._layers[g(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),f=[],_,T;for(T=0;T<l.length;T++){if(_=Number(l[T]),isNaN(_))return;f.push(_)}i.options._dashArray=f}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)i=_.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var f,_,T,k,G=i._parts,te=G.length,oe=this._ctx;if(te){for(oe.beginPath(),f=0;f<te;f++){for(_=0,T=G[f].length;_<T;_++)k=G[f][_],oe[_?"lineTo":"moveTo"](k.x,k.y);l&&oe.closePath()}this._fillStroke(oe,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,f=this._ctx,_=Math.max(Math.round(i._radius),1),T=(Math.max(Math.round(i._radiusY),1)||_)/_;T!==1&&(f.save(),f.scale(1,T)),f.beginPath(),f.arc(l.x,l.y/T,_,0,Math.PI*2,!1),T!==1&&f.restore(),this._fillStroke(f,i)}},_fillStroke:function(i,l){var f=l.options;f.fill&&(i.globalAlpha=f.fillOpacity,i.fillStyle=f.fillColor||f.color,i.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=f.opacity,i.lineWidth=f.weight,i.strokeStyle=f.color,i.lineCap=f.lineCap,i.lineJoin=f.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),f,_,T=this._drawFirst;T;T=T.next)f=T.layer,f.options.interactive&&f._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(f))&&(_=f);this._fireEvent(_?[_]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(_t(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var f,_,T=this._drawFirst;T;T=T.next)f=T.layer,f.options.interactive&&f._containsPoint(l)&&(_=f);_!==this._hoveredLayer&&(this._handleMouseOut(i),_&&(Ue(this._container,"leaflet-interactive"),this._fireEvent([_],i,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,f){this._map._fireDOMEvent(l,f||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var f=l.next,_=l.prev;if(f)f.prev=_;else return;_?_.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var f=l.next,_=l.prev;if(_)_.next=f;else return;f?f.prev=_:_&&(this._drawLast=_),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function ou(i){return ke.canvas?new iu(i):null}var ps=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),yc={_initContainer:function(){this._container=We("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vr.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=ps("shape");Ue(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=ps("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[g(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;gt(l),i.removeInteractiveTarget(l),delete this._layers[g(i)]},_updateStyle:function(i){var l=i._stroke,f=i._fill,_=i.options,T=i._container;T.stroked=!!_.stroke,T.filled=!!_.fill,_.stroke?(l||(l=i._stroke=ps("stroke")),T.appendChild(l),l.weight=_.weight+"px",l.color=_.color,l.opacity=_.opacity,_.dashArray?l.dashStyle=Y(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=_.lineCap.replace("butt","flat"),l.joinstyle=_.lineJoin):l&&(T.removeChild(l),i._stroke=null),_.fill?(f||(f=i._fill=ps("fill")),T.appendChild(f),f.color=_.fillColor||_.color,f.opacity=_.fillOpacity):f&&(T.removeChild(f),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),f=Math.round(i._radius),_=Math.round(i._radiusY||f);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+_+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){ei(i._container)},_bringToBack:function(i){gr(i._container)}},Er=ke.vml?ps:Zr,mo=Vr.extend({_initContainer:function(){this._container=Er("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Er("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){gt(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vr.prototype._update.call(this);var i=this._bounds,l=i.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),He(f,i.min),f.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=Er("path");i.options.className&&Ue(l,i.options.className),i.options.interactive&&Ue(l,"leaflet-interactive"),this._updateStyle(i),this._layers[g(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){gt(i._path),i.removeInteractiveTarget(i._path),delete this._layers[g(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,f=i.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,_i(i._parts,l))},_updateCircle:function(i){var l=i._point,f=Math.max(Math.round(i._radius),1),_=Math.max(Math.round(i._radiusY),1)||f,T="a"+f+","+_+" 0 1,0 ",k=i._empty()?"M0 0":"M"+(l.x-f)+","+l.y+T+f*2+",0 "+T+-f*2+",0 ";this._setPath(i,k)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){ei(i._path)},_bringToBack:function(i){gr(i._path)}});ke.vml&&mo.include(yc);function el(i){return ke.svg||ke.vml?new mo(i):null}tt.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&ou(i)||el(i)}});var wc=ai.extend({initialize:function(i,l){ai.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=Pe(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Vd(i,l){return new wc(i,l)}mo.create=Er,mo.pointsToPath=_i,Dr.geometryToLayer=us,Dr.coordsToLatLng=Za,Dr.coordsToLatLngs=ca,Dr.latLngToCoords=qa,Dr.latLngsToCoords=Qa,Dr.getFeature=cs,Dr.asFeature=Ya,tt.mergeOptions({boxZoom:!0});var ms=_n.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){gt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Je(),Yo(),this._startPoint=this._map.mouseEventToContainerPoint(i),De(document,{contextmenu:Xt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=We("div","leaflet-zoom-box",this._container),Ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new K(this._point,this._startPoint),f=l.getSize();He(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(gt(this._box),_t(this._container,"leaflet-crosshair")),Xn(),Xo(),dt(document,{contextmenu:Xt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var l=new we(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});tt.addInitHook("addHandler","boxZoom",ms),tt.mergeOptions({doubleClickZoom:!0});var Ec=_n.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,f=l.getZoom(),_=l.options.zoomDelta,T=i.originalEvent.shiftKey?f-_:f+_;l.options.doubleClickZoom==="center"?l.setZoom(T):l.setZoomAround(i.containerPoint,T)}});tt.addInitHook("addHandler","doubleClickZoom",Ec),tt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var su=_n.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new In(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Pe(this._map.options.maxBounds);this._offsetLimit=ce(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),f=this._initialWorldOffset,_=this._draggable._newPos.x,T=(_-l+f)%i+l-f,k=(_+l+f)%i-l-f,G=Math.abs(T+f)<Math.abs(k+f)?T:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=G},_onDragEnd:function(i){var l=this._map,f=l.options,_=!f.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),_)l.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,G=f.easeLinearity,te=T.multiplyBy(G/k),oe=te.distanceTo([0,0]),fe=Math.min(f.inertiaMaxSpeed,oe),xe=te.multiplyBy(fe/oe),Ve=fe/(f.inertiaDeceleration*G),Xe=xe.multiplyBy(-Ve/2).round();!Xe.x&&!Xe.y?l.fire("moveend"):(Xe=l._limitOffset(Xe,l.options.maxBounds),W(function(){l.panBy(Xe,{duration:Ve,easeLinearity:G,noMoveStart:!0,animate:!0})}))}}});tt.addInitHook("addHandler","dragging",su),tt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var au=_n.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),De(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,f=i.scrollTop||l.scrollTop,_=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(_,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},f=this.keyCodes,_,T;for(_=0,T=f.left.length;_<T;_++)l[f.left[_]]=[-1*i,0];for(_=0,T=f.right.length;_<T;_++)l[f.right[_]]=[i,0];for(_=0,T=f.down.length;_<T;_++)l[f.down[_]]=[0,i];for(_=0,T=f.up.length;_<T;_++)l[f.up[_]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},f=this.keyCodes,_,T;for(_=0,T=f.zoomIn.length;_<T;_++)l[f.zoomIn[_]]=i;for(_=0,T=f.zoomOut.length;_<T;_++)l[f.zoomOut[_]]=-i},_addHooks:function(){De(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,f=this._map,_;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(_=this._panKeys[l],i.shiftKey&&(_=ue(_).multiplyBy(3)),f.options.maxBounds&&(_=f._limitOffset(ue(_),f.options.maxBounds)),f.options.worldCopyJump){var T=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(_)));f.panTo(T)}else f.panBy(_)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Xt(i)}}});tt.addInitHook("addHandler","keyboard",au),tt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Et=_n.extend({addHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=ja(i),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var _=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),_),Xt(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),f=this._map.options.zoomSnap||0;i._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,k=f?Math.ceil(T/f)*f:T,G=i._limitZoom(l+(this._delta>0?k:-k))-l;this._delta=0,this._startTime=null,G&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+G):i.setZoomAround(this._lastMousePos,l+G))}});tt.addInitHook("addHandler","scrollWheelZoom",Et);var lu=600;tt.mergeOptions({tapHold:ke.touchNative&&ke.safari&&ke.mobile,tapTolerance:15});var fa=_n.extend({addHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new ne(l.clientX,l.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(De(document,"touchend",vt),De(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),lu),De(document,"touchend touchcancel contextmenu",this._cancel,this),De(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){dt(document,"touchend",vt),dt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new ne(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var f=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});tt.addInitHook("addHandler","tapHold",fa),tt.mergeOptions({touchZoom:ke.touch,bounceAtZoomLimits:!0});var gs=_n.extend({addHooks:function(){Ue(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(i.touches[0]),_=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(_)._divideBy(2))),this._startDist=f.distanceTo(_),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend touchcancel",this._onTouchEnd,this),vt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(i.touches[0]),_=l.mouseEventToContainerPoint(i.touches[1]),T=f.distanceTo(_)/this._startDist;if(this._zoom=l.getScaleZoom(T,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&T<1||this._zoom>l.getMaxZoom()&&T>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var k=f._add(_)._divideBy(2)._subtract(this._centerPoint);if(T===1&&k.x===0&&k.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var G=h(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(G,this,!0),vt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});tt.addInitHook("addHandler","touchZoom",gs),tt.BoxZoom=ms,tt.DoubleClickZoom=Ec,tt.Drag=su,tt.Keyboard=au,tt.ScrollWheelZoom=Et,tt.TapHold=fa,tt.TouchZoom=gs,t.Bounds=K,t.Browser=ke,t.CRS=je,t.Canvas=iu,t.Circle=Ga,t.CircleMarker=Ha,t.Class=be,t.Control=cn,t.DivIcon=Ja,t.DivOverlay=Or,t.DomEvent=lo,t.DomUtil=Ci,t.Draggable=In,t.Evented=Ne,t.FeatureGroup=Nt,t.GeoJSON=Dr,t.GridLayer=Ri,t.Handler=_n,t.Icon=yr,t.ImageOverlay=Ii,t.LatLng=Te,t.LatLngBounds=we,t.Layer=ft,t.LayerGroup=xt,t.LineUtil=O,t.Map=tt,t.Marker=si,t.Mixin=ri,t.Path=Pi,t.Point=ne,t.PolyUtil=os,t.Polygon=ai,t.Polyline=jn,t.Popup=Xa,t.PosAnimation=uo,t.Projection=ye,t.Rectangle=wc,t.Renderer=Vr,t.SVG=mo,t.SVGOverlay=tu,t.TileLayer=Ai,t.Tooltip=ds,t.Transformation=Tn,t.Util=j,t.VideoOverlay=eu,t.bind=h,t.bounds=ce,t.canvas=ou,t.circle=ua,t.circleMarker=fc,t.control=Gt,t.divIcon=_c,t.extend=a,t.featureGroup=po,t.geoJSON=pc,t.geoJson=wr,t.gridLayer=fs,t.icon=dc,t.imageOverlay=mc,t.latLng=Ee,t.latLngBounds=Pe,t.layerGroup=rr,t.map=Bn,t.marker=Nd,t.point=ue,t.polygon=Od,t.polyline=Dd,t.popup=hs,t.rectangle=Vd,t.setOptions=b,t.stamp=g,t.svg=el,t.svgOverlay=nu,t.tileLayer=ru,t.tooltip=ha,t.transformation=Vn,t.version=o,t.videoOverlay=gc;var xc=window.L;t.noConflict=function(){return window.L=xc,this},window.L=t})}(Mu,Mu.exports)),Mu.exports}var Cd=wA();function Um(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function $m(n,e){return e==null?function(o,a){const u=I.useRef();return u.current||(u.current=n(o,a)),u}:function(o,a){const u=I.useRef();u.current||(u.current=n(o,a));const h=I.useRef(o),{instance:m}=u.current;return I.useEffect(function(){h.current!==o&&(e(m,o,h.current),h.current=o)},[m,o,a]),u}}function EA(n,e){I.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){var u;(u=e.layerContainer)==null||u.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function N0(n){return function(t){const o=L0(),a=n(jm(t,o),o);return A0(o.map,t.attribution),M0(a.current,t.eventHandlers),EA(a.current,o),a}}function xA(n,e){const t=$m(n,e),o=N0(t);return mA(o)}function TA(n,e){const t=$m(n),o=vA(t,e);return gA(o)}function CA(n,e){const t=$m(n,e),o=N0(t);return _A(o)}function SA(n,e,t){const{opacity:o,zIndex:a}=e;o!=null&&o!==t.opacity&&n.setOpacity(o),a!=null&&a!==t.zIndex&&n.setZIndex(a)}function Up(){return Up=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Up.apply(this,arguments)}function PA({bounds:n,boundsOptions:e,center:t,children:o,className:a,id:u,placeholder:h,style:m,whenReady:g,zoom:y,...x},C){const[S]=I.useState({className:a,id:u,style:m}),[A,M]=I.useState(null);I.useImperativeHandle(C,()=>(A==null?void 0:A.map)??null,[A]);const b=I.useCallback(B=>{if(B!==null&&A===null){const Z=new Cd.Map(B,x);t!=null&&y!=null?Z.setView(t,y):n!=null&&Z.fitBounds(n,e),g!=null&&Z.whenReady(g),M(fA(Z))}},[]);I.useEffect(()=>()=>{A==null||A.map.remove()},[A]);const N=A?fi.createElement(k0,{value:A},o):h??null;return fi.createElement("div",Up({},S,{ref:b}),N)}const IA=I.forwardRef(PA),RA=xA(function({position:e,...t},o){const a=new Cd.Marker(e,t);return Um(a,pA(o,{overlayContainer:a}))},function(e,t,o){t.position!==o.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==o.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==o.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==o.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==o.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),AA=TA(function(e,t){const o=new Cd.Popup(e,t.overlayContainer);return Um(o,t)},function(e,t,{position:o},a){I.useEffect(function(){const{instance:h}=e;function m(y){y.popup===h&&(h.update(),a(!0))}function g(y){y.popup===h&&a(!1)}return t.map.on({popupopen:m,popupclose:g}),t.overlayContainer==null?(o!=null&&h.setLatLng(o),h.openOn(t.map)):t.overlayContainer.bindPopup(h),function(){var x;t.map.off({popupopen:m,popupclose:g}),(x=t.overlayContainer)==null||x.unbindPopup(),t.map.removeLayer(h)}},[e,t,a,o])}),bA=CA(function({url:e,...t},o){const a=new Cd.TileLayer(e,jm(t,o));return Um(a,o)},function(e,t,o){SA(e,t,o);const{url:a}=t;a!=null&&a!==o.url&&e.setUrl(a)}),kA=({profile:n,onClick:e})=>{const[t,o]=I.useState(!1);return F.jsxs("div",{className:`profile-card bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow duration-300 ${t?"expanded":""}`,onClick:e,children:[F.jsx("div",{className:"profile-card-header h-48 overflow-hidden",children:F.jsx("img",{src:n.photographUrl,alt:`${n.name}`,className:"w-full h-full object-cover"})}),F.jsxs("div",{className:"profile-card-body p-4",children:[F.jsx("h3",{className:"text-xl font-semibold mb-2",children:n.name}),F.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:n.description})]}),F.jsx("div",{className:"profile-card-footer p-4 border-t",children:F.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded w-full",onClick:()=>o(a=>!a),children:t?"Hide Map":"Show Map"})}),t&&F.jsx("div",{className:"map-container mt-4",children:F.jsxs(IA,{center:[n.latitude,n.longitude],zoom:13,style:{height:"300px",width:"100%"},children:[F.jsx(bA,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),F.jsx(RA,{position:[n.latitude,n.longitude],children:F.jsx(AA,{children:F.jsxs("div",{children:[F.jsx("h3",{className:"text-lg font-medium",children:n.name}),F.jsx("p",{className:"text-gray-600",children:n.address})]})})})]})})]})};function D0(n){var e,t,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=D0(n[e]))&&(o&&(o+=" "),o+=t)}else for(t in n)n[t]&&(o&&(o+=" "),o+=t);return o}function O0(){for(var n,e,t=0,o="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=D0(n))&&(o&&(o+=" "),o+=e);return o}const Wm="-",LA=n=>{const e=NA(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:h=>{const m=h.split(Wm);return m[0]===""&&m.length!==1&&m.shift(),V0(m,e)||MA(h)},getConflictingClassGroupIds:(h,m)=>{const g=t[h]||[];return m&&o[h]?[...g,...o[h]]:g}}},V0=(n,e)=>{var h;if(n.length===0)return e.classGroupId;const t=n[0],o=e.nextPart.get(t),a=o?V0(n.slice(1),o):void 0;if(a)return a;if(e.validators.length===0)return;const u=n.join(Wm);return(h=e.validators.find(({validator:m})=>m(u)))==null?void 0:h.classGroupId},uy=/^\[(.+)\]$/,MA=n=>{if(uy.test(n)){const e=uy.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},NA=n=>{const{theme:e,prefix:t}=n,o={nextPart:new Map,validators:[]};return OA(Object.entries(n.classGroups),t).forEach(([u,h])=>{$p(h,o,u,e)}),o},$p=(n,e,t,o)=>{n.forEach(a=>{if(typeof a=="string"){const u=a===""?e:cy(e,a);u.classGroupId=t;return}if(typeof a=="function"){if(DA(a)){$p(a(o),e,t,o);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([u,h])=>{$p(h,cy(e,u),t,o)})})},cy=(n,e)=>{let t=n;return e.split(Wm).forEach(o=>{t.nextPart.has(o)||t.nextPart.set(o,{nextPart:new Map,validators:[]}),t=t.nextPart.get(o)}),t},DA=n=>n.isThemeGetter,OA=(n,e)=>e?n.map(([t,o])=>{const a=o.map(u=>typeof u=="string"?e+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([h,m])=>[e+h,m])):u);return[t,a]}):n,VA=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,o=new Map;const a=(u,h)=>{t.set(u,h),e++,e>n&&(e=0,o=t,t=new Map)};return{get(u){let h=t.get(u);if(h!==void 0)return h;if((h=o.get(u))!==void 0)return a(u,h),h},set(u,h){t.has(u)?t.set(u,h):a(u,h)}}},F0="!",FA=n=>{const{separator:e,experimentalParseClassName:t}=n,o=e.length===1,a=e[0],u=e.length,h=m=>{const g=[];let y=0,x=0,C;for(let N=0;N<m.length;N++){let B=m[N];if(y===0){if(B===a&&(o||m.slice(N,N+u)===e)){g.push(m.slice(x,N)),x=N+u;continue}if(B==="/"){C=N;continue}}B==="["?y++:B==="]"&&y--}const S=g.length===0?m:m.substring(x),A=S.startsWith(F0),M=A?S.substring(1):S,b=C&&C>x?C-x:void 0;return{modifiers:g,hasImportantModifier:A,baseClassName:M,maybePostfixModifierPosition:b}};return t?m=>t({className:m,parseClassName:h}):h},zA=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(o=>{o[0]==="["?(e.push(...t.sort(),o),t=[]):t.push(o)}),e.push(...t.sort()),e},BA=n=>({cache:VA(n.cacheSize),parseClassName:FA(n),...LA(n)}),jA=/\s+/,UA=(n,e)=>{const{parseClassName:t,getClassGroupId:o,getConflictingClassGroupIds:a}=e,u=[],h=n.trim().split(jA);let m="";for(let g=h.length-1;g>=0;g-=1){const y=h[g],{modifiers:x,hasImportantModifier:C,baseClassName:S,maybePostfixModifierPosition:A}=t(y);let M=!!A,b=o(M?S.substring(0,A):S);if(!b){if(!M){m=y+(m.length>0?" "+m:m);continue}if(b=o(S),!b){m=y+(m.length>0?" "+m:m);continue}M=!1}const N=zA(x).join(":"),B=C?N+F0:N,Z=B+b;if(u.includes(Z))continue;u.push(Z);const Y=a(b,M);for(let q=0;q<Y.length;++q){const ee=Y[q];u.push(B+ee)}m=y+(m.length>0?" "+m:m)}return m};function $A(){let n=0,e,t,o="";for(;n<arguments.length;)(e=arguments[n++])&&(t=z0(e))&&(o&&(o+=" "),o+=t);return o}const z0=n=>{if(typeof n=="string")return n;let e,t="";for(let o=0;o<n.length;o++)n[o]&&(e=z0(n[o]))&&(t&&(t+=" "),t+=e);return t};function WA(n,...e){let t,o,a,u=h;function h(g){const y=e.reduce((x,C)=>C(x),n());return t=BA(y),o=t.cache.get,a=t.cache.set,u=m,m(g)}function m(g){const y=o(g);if(y)return y;const x=UA(g,t);return a(g,x),x}return function(){return u($A.apply(null,arguments))}}const Rt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},B0=/^\[(?:([a-z-]+):)?(.+)\]$/i,HA=/^\d+\/\d+$/,GA=new Set(["px","full","screen"]),KA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Io=n=>Pl(n)||GA.has(n)||HA.test(n),Ls=n=>Gl(n,"length",ob),Pl=n=>!!n&&!Number.isNaN(Number(n)),op=n=>Gl(n,"number",Pl),Iu=n=>!!n&&Number.isInteger(Number(n)),XA=n=>n.endsWith("%")&&Pl(n.slice(0,-1)),et=n=>B0.test(n),Ms=n=>KA.test(n),JA=new Set(["length","size","percentage"]),eb=n=>Gl(n,JA,j0),tb=n=>Gl(n,"position",j0),nb=new Set(["image","url"]),rb=n=>Gl(n,nb,ab),ib=n=>Gl(n,"",sb),Ru=()=>!0,Gl=(n,e,t)=>{const o=B0.exec(n);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):t(o[2]):!1},ob=n=>ZA.test(n)&&!qA.test(n),j0=()=>!1,sb=n=>QA.test(n),ab=n=>YA.test(n),lb=()=>{const n=Rt("colors"),e=Rt("spacing"),t=Rt("blur"),o=Rt("brightness"),a=Rt("borderColor"),u=Rt("borderRadius"),h=Rt("borderSpacing"),m=Rt("borderWidth"),g=Rt("contrast"),y=Rt("grayscale"),x=Rt("hueRotate"),C=Rt("invert"),S=Rt("gap"),A=Rt("gradientColorStops"),M=Rt("gradientColorStopPositions"),b=Rt("inset"),N=Rt("margin"),B=Rt("opacity"),Z=Rt("padding"),Y=Rt("saturate"),q=Rt("scale"),ee=Rt("sepia"),ae=Rt("skew"),z=Rt("space"),D=Rt("translate"),V=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",et,e],H=()=>[et,e],j=()=>["",Io,Ls],be=()=>["auto",Pl,et],nt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Re=()=>["solid","dashed","dotted","double","none"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],he=()=>["","0",et],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Pl,et];return{cacheSize:500,separator:":",theme:{colors:[Ru],spacing:[Io,Ls],blur:["none","",Ms,et],brightness:K(),borderColor:[n],borderRadius:["none","","full",Ms,et],borderSpacing:H(),borderWidth:j(),contrast:K(),grayscale:he(),hueRotate:K(),invert:he(),gap:H(),gradientColorStops:[n],gradientColorStopPositions:[XA,Ls],inset:W(),margin:W(),opacity:K(),padding:H(),saturate:K(),scale:K(),sepia:he(),skew:K(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",et]}],container:["container"],columns:[{columns:[Ms]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...nt(),et]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Iu,et]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",et]}],grow:[{grow:he()}],shrink:[{shrink:he()}],order:[{order:["first","last","none",Iu,et]}],"grid-cols":[{"grid-cols":[Ru]}],"col-start-end":[{col:["auto",{span:["full",Iu,et]},et]}],"col-start":[{"col-start":be()}],"col-end":[{"col-end":be()}],"grid-rows":[{"grid-rows":[Ru]}],"row-start-end":[{row:["auto",{span:[Iu,et]},et]}],"row-start":[{"row-start":be()}],"row-end":[{"row-end":be()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",et]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[Z]}],px:[{px:[Z]}],py:[{py:[Z]}],ps:[{ps:[Z]}],pe:[{pe:[Z]}],pt:[{pt:[Z]}],pr:[{pr:[Z]}],pb:[{pb:[Z]}],pl:[{pl:[Z]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",et,e]}],"min-w":[{"min-w":[et,e,"min","max","fit"]}],"max-w":[{"max-w":[et,e,"none","full","min","max","fit","prose",{screen:[Ms]},Ms]}],h:[{h:[et,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[et,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[et,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[et,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ms,Ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",op]}],"font-family":[{font:[Ru]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",et]}],"line-clamp":[{"line-clamp":["none",Pl,op]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Io,et]}],"list-image":[{"list-image":["none",et]}],"list-style-type":[{list:["none","disc","decimal",et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[B]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[B]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Io,Ls]}],"underline-offset":[{"underline-offset":["auto",Io,et]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[B]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...nt(),tb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rb]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[M]}],"gradient-via-pos":[{via:[M]}],"gradient-to-pos":[{to:[M]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[B]}],"border-style":[{border:[...Re(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[B]}],"divide-style":[{divide:Re()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...Re()]}],"outline-offset":[{"outline-offset":[Io,et]}],"outline-w":[{outline:[Io,Ls]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[B]}],"ring-offset-w":[{"ring-offset":[Io,Ls]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ms,ib]}],"shadow-color":[{shadow:[Ru]}],opacity:[{opacity:[B]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ne()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[o]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",Ms,et]}],grayscale:[{grayscale:[y]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[C]}],saturate:[{saturate:[Y]}],sepia:[{sepia:[ee]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[C]}],"backdrop-opacity":[{"backdrop-opacity":[B]}],"backdrop-saturate":[{"backdrop-saturate":[Y]}],"backdrop-sepia":[{"backdrop-sepia":[ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",et]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",et]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[Iu,et]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[ae]}],"skew-y":[{"skew-y":[ae]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",et]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Io,Ls,op]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ub=WA(lb);function At(...n){return ub(O0(n))}const Ni=I.forwardRef(({className:n,type:e,...t},o)=>F.jsx("input",{type:e,className:At("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:o,...t}));Ni.displayName="Input";function cb(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function lc(...n){return e=>n.forEach(t=>cb(t,e))}function sn(...n){return I.useCallback(lc(...n),n)}var Ol=I.forwardRef((n,e)=>{const{children:t,...o}=n,a=I.Children.toArray(t),u=a.find(db);if(u){const h=u.props.children,m=a.map(g=>g===u?I.Children.count(h)>1?I.Children.only(null):I.isValidElement(h)?h.props.children:null:g);return F.jsx(Wp,{...o,ref:e,children:I.isValidElement(h)?I.cloneElement(h,void 0,m):null})}return F.jsx(Wp,{...o,ref:e,children:t})});Ol.displayName="Slot";var Wp=I.forwardRef((n,e)=>{const{children:t,...o}=n;if(I.isValidElement(t)){const a=pb(t);return I.cloneElement(t,{...fb(o,t.props),ref:e?lc(e,a):a})}return I.Children.count(t)>1?I.Children.only(null):null});Wp.displayName="SlotClone";var hb=({children:n})=>F.jsx(F.Fragment,{children:n});function db(n){return I.isValidElement(n)&&n.type===hb}function fb(n,e){const t={...e};for(const o in e){const a=n[o],u=e[o];/^on[A-Z]/.test(o)?a&&u?t[o]=(...m)=>{u(...m),a(...m)}:a&&(t[o]=a):o==="style"?t[o]={...a,...u}:o==="className"&&(t[o]=[a,u].filter(Boolean).join(" "))}return{...n,...t}}function pb(n){var o,a;let e=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const hy=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,dy=O0,U0=(n,e)=>t=>{var o;if((e==null?void 0:e.variants)==null)return dy(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:u}=e,h=Object.keys(a).map(y=>{const x=t==null?void 0:t[y],C=u==null?void 0:u[y];if(x===null)return null;const S=hy(x)||hy(C);return a[y][S]}),m=t&&Object.entries(t).reduce((y,x)=>{let[C,S]=x;return S===void 0||(y[C]=S),y},{}),g=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((y,x)=>{let{class:C,className:S,...A}=x;return Object.entries(A).every(M=>{let[b,N]=M;return Array.isArray(N)?N.includes({...u,...m}[b]):{...u,...m}[b]===N})?[...y,C,S]:y},[]);return dy(n,h,g,t==null?void 0:t.class,t==null?void 0:t.className)},mb=U0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ro=I.forwardRef(({className:n,variant:e,size:t,asChild:o=!1,...a},u)=>{const h=o?Ol:"button";return F.jsx(h,{className:At(mb({variant:e,size:t,className:n})),ref:u,...a})});Ro.displayName="Button";function $e(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Hm(n,e=[]){let t=[];function o(u,h){const m=I.createContext(h),g=t.length;t=[...t,h];const y=C=>{var B;const{scope:S,children:A,...M}=C,b=((B=S==null?void 0:S[n])==null?void 0:B[g])||m,N=I.useMemo(()=>M,Object.values(M));return F.jsx(b.Provider,{value:N,children:A})};y.displayName=u+"Provider";function x(C,S){var b;const A=((b=S==null?void 0:S[n])==null?void 0:b[g])||m,M=I.useContext(A);if(M)return M;if(h!==void 0)return h;throw new Error(`\`${C}\` must be used within \`${u}\``)}return[y,x]}const a=()=>{const u=t.map(h=>I.createContext(h));return function(m){const g=(m==null?void 0:m[n])||u;return I.useMemo(()=>({[`__scope${n}`]:{...m,[n]:g}}),[m,g])}};return a.scopeName=n,[o,gb(a,...e)]}function gb(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const o=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(u){const h=o.reduce((m,{useScope:g,scopeName:y})=>{const C=g(u)[`__scope${y}`];return{...m,...C}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:h}),[h])}};return t.scopeName=e.scopeName,t}function mn(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>{var o;return(o=e.current)==null?void 0:o.call(e,...t)},[])}function Sd({prop:n,defaultProp:e,onChange:t=()=>{}}){const[o,a]=_b({defaultProp:e,onChange:t}),u=n!==void 0,h=u?n:o,m=mn(t),g=I.useCallback(y=>{if(u){const C=typeof y=="function"?y(n):y;C!==n&&m(C)}else a(y)},[u,n,a,m]);return[h,g]}function _b({defaultProp:n,onChange:e}){const t=I.useState(n),[o]=t,a=I.useRef(o),u=mn(e);return I.useEffect(()=>{a.current!==o&&(u(o),a.current=o)},[o,a,u]),t}var vb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Tt=vb.reduce((n,e)=>{const t=I.forwardRef((o,a)=>{const{asChild:u,...h}=o,m=u?Ol:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),F.jsx(m,{...h,ref:a})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function qh(n,e){n&&sd.flushSync(()=>n.dispatchEvent(e))}function yb(n,e=[]){let t=[];function o(u,h){const m=I.createContext(h),g=t.length;t=[...t,h];function y(C){const{scope:S,children:A,...M}=C,b=(S==null?void 0:S[n][g])||m,N=I.useMemo(()=>M,Object.values(M));return F.jsx(b.Provider,{value:N,children:A})}function x(C,S){const A=(S==null?void 0:S[n][g])||m,M=I.useContext(A);if(M)return M;if(h!==void 0)return h;throw new Error(`\`${C}\` must be used within \`${u}\``)}return y.displayName=u+"Provider",[y,x]}const a=()=>{const u=t.map(h=>I.createContext(h));return function(m){const g=(m==null?void 0:m[n])||u;return I.useMemo(()=>({[`__scope${n}`]:{...m,[n]:g}}),[m,g])}};return a.scopeName=n,[o,wb(a,...e)]}function wb(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const o=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(u){const h=o.reduce((m,{useScope:g,scopeName:y})=>{const C=g(u)[`__scope${y}`];return{...m,...C}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:h}),[h])}};return t.scopeName=e.scopeName,t}function Pd(n){const e=n+"CollectionProvider",[t,o]=yb(e),[a,u]=t(e,{collectionRef:{current:null},itemMap:new Map}),h=A=>{const{scope:M,children:b}=A,N=fi.useRef(null),B=fi.useRef(new Map).current;return F.jsx(a,{scope:M,itemMap:B,collectionRef:N,children:b})};h.displayName=e;const m=n+"CollectionSlot",g=fi.forwardRef((A,M)=>{const{scope:b,children:N}=A,B=u(m,b),Z=sn(M,B.collectionRef);return F.jsx(Ol,{ref:Z,children:N})});g.displayName=m;const y=n+"CollectionItemSlot",x="data-radix-collection-item",C=fi.forwardRef((A,M)=>{const{scope:b,children:N,...B}=A,Z=fi.useRef(null),Y=sn(M,Z),q=u(y,b);return fi.useEffect(()=>(q.itemMap.set(Z,{ref:Z,...B}),()=>void q.itemMap.delete(Z))),F.jsx(Ol,{[x]:"",ref:Y,children:N})});C.displayName=y;function S(A){const M=u(n+"CollectionConsumer",A);return fi.useCallback(()=>{const N=M.collectionRef.current;if(!N)return[];const B=Array.from(N.querySelectorAll(`[${x}]`));return Array.from(M.itemMap.values()).sort((q,ee)=>B.indexOf(q.ref.current)-B.indexOf(ee.ref.current))},[M.collectionRef,M.itemMap])}return[{Provider:h,Slot:g,ItemSlot:C},S,o]}var Eb=I.createContext(void 0);function Gm(n){const e=I.useContext(Eb);return n||e||"ltr"}function xb(n,e=globalThis==null?void 0:globalThis.document){const t=mn(n);I.useEffect(()=>{const o=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[t,e])}var Tb="DismissableLayer",Hp="dismissableLayer.update",Cb="dismissableLayer.pointerDownOutside",Sb="dismissableLayer.focusOutside",fy,$0=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Km=I.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:u,onInteractOutside:h,onDismiss:m,...g}=n,y=I.useContext($0),[x,C]=I.useState(null),S=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=I.useState({}),M=sn(e,z=>C(z)),b=Array.from(y.layers),[N]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),B=b.indexOf(N),Z=x?b.indexOf(x):-1,Y=y.layersWithOutsidePointerEventsDisabled.size>0,q=Z>=B,ee=Rb(z=>{const D=z.target,V=[...y.branches].some(U=>U.contains(D));!q||V||(a==null||a(z),h==null||h(z),z.defaultPrevented||m==null||m())},S),ae=Ab(z=>{const D=z.target;[...y.branches].some(U=>U.contains(D))||(u==null||u(z),h==null||h(z),z.defaultPrevented||m==null||m())},S);return xb(z=>{Z===y.layers.size-1&&(o==null||o(z),!z.defaultPrevented&&m&&(z.preventDefault(),m()))},S),I.useEffect(()=>{if(x)return t&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(fy=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(x)),y.layers.add(x),py(),()=>{t&&y.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=fy)}},[x,S,t,y]),I.useEffect(()=>()=>{x&&(y.layers.delete(x),y.layersWithOutsidePointerEventsDisabled.delete(x),py())},[x,y]),I.useEffect(()=>{const z=()=>A({});return document.addEventListener(Hp,z),()=>document.removeEventListener(Hp,z)},[]),F.jsx(Tt.div,{...g,ref:M,style:{pointerEvents:Y?q?"auto":"none":void 0,...n.style},onFocusCapture:$e(n.onFocusCapture,ae.onFocusCapture),onBlurCapture:$e(n.onBlurCapture,ae.onBlurCapture),onPointerDownCapture:$e(n.onPointerDownCapture,ee.onPointerDownCapture)})});Km.displayName=Tb;var Pb="DismissableLayerBranch",Ib=I.forwardRef((n,e)=>{const t=I.useContext($0),o=I.useRef(null),a=sn(e,o);return I.useEffect(()=>{const u=o.current;if(u)return t.branches.add(u),()=>{t.branches.delete(u)}},[t.branches]),F.jsx(Tt.div,{...n,ref:a})});Ib.displayName=Pb;function Rb(n,e=globalThis==null?void 0:globalThis.document){const t=mn(n),o=I.useRef(!1),a=I.useRef(()=>{});return I.useEffect(()=>{const u=m=>{if(m.target&&!o.current){let g=function(){W0(Cb,t,y,{discrete:!0})};const y={originalEvent:m};m.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=g,e.addEventListener("click",a.current,{once:!0})):g()}else e.removeEventListener("click",a.current);o.current=!1},h=window.setTimeout(()=>{e.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(h),e.removeEventListener("pointerdown",u),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>o.current=!0}}function Ab(n,e=globalThis==null?void 0:globalThis.document){const t=mn(n),o=I.useRef(!1);return I.useEffect(()=>{const a=u=>{u.target&&!o.current&&W0(Sb,t,{originalEvent:u},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function py(){const n=new CustomEvent(Hp);document.dispatchEvent(n)}function W0(n,e,t,{discrete:o}){const a=t.originalEvent.target,u=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),o?qh(a,u):a.dispatchEvent(u)}var sp=0;function bb(){I.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??my()),document.body.insertAdjacentElement("beforeend",n[1]??my()),sp++,()=>{sp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sp--}},[])}function my(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ap="focusScope.autoFocusOnMount",lp="focusScope.autoFocusOnUnmount",gy={bubbles:!1,cancelable:!0},kb="FocusScope",H0=I.forwardRef((n,e)=>{const{loop:t=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:u,...h}=n,[m,g]=I.useState(null),y=mn(a),x=mn(u),C=I.useRef(null),S=sn(e,b=>g(b)),A=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(o){let b=function(Y){if(A.paused||!m)return;const q=Y.target;m.contains(q)?C.current=q:Ns(C.current,{select:!0})},N=function(Y){if(A.paused||!m)return;const q=Y.relatedTarget;q!==null&&(m.contains(q)||Ns(C.current,{select:!0}))},B=function(Y){if(document.activeElement===document.body)for(const ee of Y)ee.removedNodes.length>0&&Ns(m)};document.addEventListener("focusin",b),document.addEventListener("focusout",N);const Z=new MutationObserver(B);return m&&Z.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),Z.disconnect()}}},[o,m,A.paused]),I.useEffect(()=>{if(m){vy.add(A);const b=document.activeElement;if(!m.contains(b)){const B=new CustomEvent(ap,gy);m.addEventListener(ap,y),m.dispatchEvent(B),B.defaultPrevented||(Lb(Vb(G0(m)),{select:!0}),document.activeElement===b&&Ns(m))}return()=>{m.removeEventListener(ap,y),setTimeout(()=>{const B=new CustomEvent(lp,gy);m.addEventListener(lp,x),m.dispatchEvent(B),B.defaultPrevented||Ns(b??document.body,{select:!0}),m.removeEventListener(lp,x),vy.remove(A)},0)}}},[m,y,x,A]);const M=I.useCallback(b=>{if(!t&&!o||A.paused)return;const N=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,B=document.activeElement;if(N&&B){const Z=b.currentTarget,[Y,q]=Mb(Z);Y&&q?!b.shiftKey&&B===q?(b.preventDefault(),t&&Ns(Y,{select:!0})):b.shiftKey&&B===Y&&(b.preventDefault(),t&&Ns(q,{select:!0})):B===Z&&b.preventDefault()}},[t,o,A.paused]);return F.jsx(Tt.div,{tabIndex:-1,...h,ref:S,onKeyDown:M})});H0.displayName=kb;function Lb(n,{select:e=!1}={}){const t=document.activeElement;for(const o of n)if(Ns(o,{select:e}),document.activeElement!==t)return}function Mb(n){const e=G0(n),t=_y(e,n),o=_y(e.reverse(),n);return[t,o]}function G0(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function _y(n,e){for(const t of n)if(!Nb(t,{upTo:e}))return t}function Nb(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Db(n){return n instanceof HTMLInputElement&&"select"in n}function Ns(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Db(n)&&e&&n.select()}}var vy=Ob();function Ob(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=yy(n,e),n.unshift(e)},remove(e){var t;n=yy(n,e),(t=n[0])==null||t.resume()}}}function yy(n,e){const t=[...n],o=t.indexOf(e);return o!==-1&&t.splice(o,1),t}function Vb(n){return n.filter(e=>e.tagName!=="A")}var Ui=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},Fb=jT.useId||(()=>{}),zb=0;function qu(n){const[e,t]=I.useState(Fb());return Ui(()=>{n||t(o=>o??String(zb++))},[n]),n||(e?`radix-${e}`:"")}const Bb=["top","right","bottom","left"],Ks=Math.min,Sr=Math.max,Qh=Math.round,gh=Math.floor,Fi=n=>({x:n,y:n}),jb={left:"right",right:"left",bottom:"top",top:"bottom"},Ub={start:"end",end:"start"};function Gp(n,e,t){return Sr(n,Ks(e,t))}function Mo(n,e){return typeof n=="function"?n(e):n}function No(n){return n.split("-")[0]}function Kl(n){return n.split("-")[1]}function Zm(n){return n==="x"?"y":"x"}function qm(n){return n==="y"?"height":"width"}function Zs(n){return["top","bottom"].includes(No(n))?"y":"x"}function Qm(n){return Zm(Zs(n))}function $b(n,e,t){t===void 0&&(t=!1);const o=Kl(n),a=Qm(n),u=qm(a);let h=a==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[u]>e.floating[u]&&(h=Yh(h)),[h,Yh(h)]}function Wb(n){const e=Yh(n);return[Kp(n),e,Kp(e)]}function Kp(n){return n.replace(/start|end/g,e=>Ub[e])}function Hb(n,e,t){const o=["left","right"],a=["right","left"],u=["top","bottom"],h=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:o:e?o:a;case"left":case"right":return e?u:h;default:return[]}}function Gb(n,e,t,o){const a=Kl(n);let u=Hb(No(n),t==="start",o);return a&&(u=u.map(h=>h+"-"+a),e&&(u=u.concat(u.map(Kp)))),u}function Yh(n){return n.replace(/left|right|bottom|top/g,e=>jb[e])}function Kb(n){return{top:0,right:0,bottom:0,left:0,...n}}function K0(n){return typeof n!="number"?Kb(n):{top:n,right:n,bottom:n,left:n}}function Xh(n){const{x:e,y:t,width:o,height:a}=n;return{width:o,height:a,top:t,left:e,right:e+o,bottom:t+a,x:e,y:t}}function wy(n,e,t){let{reference:o,floating:a}=n;const u=Zs(e),h=Qm(e),m=qm(h),g=No(e),y=u==="y",x=o.x+o.width/2-a.width/2,C=o.y+o.height/2-a.height/2,S=o[m]/2-a[m]/2;let A;switch(g){case"top":A={x,y:o.y-a.height};break;case"bottom":A={x,y:o.y+o.height};break;case"right":A={x:o.x+o.width,y:C};break;case"left":A={x:o.x-a.width,y:C};break;default:A={x:o.x,y:o.y}}switch(Kl(e)){case"start":A[h]-=S*(t&&y?-1:1);break;case"end":A[h]+=S*(t&&y?-1:1);break}return A}const Zb=async(n,e,t)=>{const{placement:o="bottom",strategy:a="absolute",middleware:u=[],platform:h}=t,m=u.filter(Boolean),g=await(h.isRTL==null?void 0:h.isRTL(e));let y=await h.getElementRects({reference:n,floating:e,strategy:a}),{x,y:C}=wy(y,o,g),S=o,A={},M=0;for(let b=0;b<m.length;b++){const{name:N,fn:B}=m[b],{x:Z,y:Y,data:q,reset:ee}=await B({x,y:C,initialPlacement:o,placement:S,strategy:a,middlewareData:A,rects:y,platform:h,elements:{reference:n,floating:e}});x=Z??x,C=Y??C,A={...A,[N]:{...A[N],...q}},ee&&M<=50&&(M++,typeof ee=="object"&&(ee.placement&&(S=ee.placement),ee.rects&&(y=ee.rects===!0?await h.getElementRects({reference:n,floating:e,strategy:a}):ee.rects),{x,y:C}=wy(y,S,g)),b=-1)}return{x,y:C,placement:S,strategy:a,middlewareData:A}};async function Qu(n,e){var t;e===void 0&&(e={});const{x:o,y:a,platform:u,rects:h,elements:m,strategy:g}=n,{boundary:y="clippingAncestors",rootBoundary:x="viewport",elementContext:C="floating",altBoundary:S=!1,padding:A=0}=Mo(e,n),M=K0(A),N=m[S?C==="floating"?"reference":"floating":C],B=Xh(await u.getClippingRect({element:(t=await(u.isElement==null?void 0:u.isElement(N)))==null||t?N:N.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:y,rootBoundary:x,strategy:g})),Z=C==="floating"?{x:o,y:a,width:h.floating.width,height:h.floating.height}:h.reference,Y=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),q=await(u.isElement==null?void 0:u.isElement(Y))?await(u.getScale==null?void 0:u.getScale(Y))||{x:1,y:1}:{x:1,y:1},ee=Xh(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:Z,offsetParent:Y,strategy:g}):Z);return{top:(B.top-ee.top+M.top)/q.y,bottom:(ee.bottom-B.bottom+M.bottom)/q.y,left:(B.left-ee.left+M.left)/q.x,right:(ee.right-B.right+M.right)/q.x}}const qb=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:o,placement:a,rects:u,platform:h,elements:m,middlewareData:g}=e,{element:y,padding:x=0}=Mo(n,e)||{};if(y==null)return{};const C=K0(x),S={x:t,y:o},A=Qm(a),M=qm(A),b=await h.getDimensions(y),N=A==="y",B=N?"top":"left",Z=N?"bottom":"right",Y=N?"clientHeight":"clientWidth",q=u.reference[M]+u.reference[A]-S[A]-u.floating[M],ee=S[A]-u.reference[A],ae=await(h.getOffsetParent==null?void 0:h.getOffsetParent(y));let z=ae?ae[Y]:0;(!z||!await(h.isElement==null?void 0:h.isElement(ae)))&&(z=m.floating[Y]||u.floating[M]);const D=q/2-ee/2,V=z/2-b[M]/2-1,U=Ks(C[B],V),W=Ks(C[Z],V),H=U,j=z-b[M]-W,be=z/2-b[M]/2+D,nt=Gp(H,be,j),Re=!g.arrow&&Kl(a)!=null&&be!==nt&&u.reference[M]/2-(be<H?U:W)-b[M]/2<0,Ne=Re?be<H?be-H:be-j:0;return{[A]:S[A]+Ne,data:{[A]:nt,centerOffset:be-nt-Ne,...Re&&{alignmentOffset:Ne}},reset:Re}}}),Qb=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,o;const{placement:a,middlewareData:u,rects:h,initialPlacement:m,platform:g,elements:y}=e,{mainAxis:x=!0,crossAxis:C=!0,fallbackPlacements:S,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:b=!0,...N}=Mo(n,e);if((t=u.arrow)!=null&&t.alignmentOffset)return{};const B=No(a),Z=Zs(m),Y=No(m)===m,q=await(g.isRTL==null?void 0:g.isRTL(y.floating)),ee=S||(Y||!b?[Yh(m)]:Wb(m)),ae=M!=="none";!S&&ae&&ee.push(...Gb(m,b,M,q));const z=[m,...ee],D=await Qu(e,N),V=[];let U=((o=u.flip)==null?void 0:o.overflows)||[];if(x&&V.push(D[B]),C){const be=$b(a,h,q);V.push(D[be[0]],D[be[1]])}if(U=[...U,{placement:a,overflows:V}],!V.every(be=>be<=0)){var W,H;const be=(((W=u.flip)==null?void 0:W.index)||0)+1,nt=z[be];if(nt)return{data:{index:be,overflows:U},reset:{placement:nt}};let Re=(H=U.filter(Ne=>Ne.overflows[0]<=0).sort((Ne,ne)=>Ne.overflows[1]-ne.overflows[1])[0])==null?void 0:H.placement;if(!Re)switch(A){case"bestFit":{var j;const Ne=(j=U.filter(ne=>{if(ae){const he=Zs(ne.placement);return he===Z||he==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(he=>he>0).reduce((he,ue)=>he+ue,0)]).sort((ne,he)=>ne[1]-he[1])[0])==null?void 0:j[0];Ne&&(Re=Ne);break}case"initialPlacement":Re=m;break}if(a!==Re)return{reset:{placement:Re}}}return{}}}};function Ey(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function xy(n){return Bb.some(e=>n[e]>=0)}const Yb=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:o="referenceHidden",...a}=Mo(n,e);switch(o){case"referenceHidden":{const u=await Qu(e,{...a,elementContext:"reference"}),h=Ey(u,t.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:xy(h)}}}case"escaped":{const u=await Qu(e,{...a,altBoundary:!0}),h=Ey(u,t.floating);return{data:{escapedOffsets:h,escaped:xy(h)}}}default:return{}}}}};async function Xb(n,e){const{placement:t,platform:o,elements:a}=n,u=await(o.isRTL==null?void 0:o.isRTL(a.floating)),h=No(t),m=Kl(t),g=Zs(t)==="y",y=["left","top"].includes(h)?-1:1,x=u&&g?-1:1,C=Mo(e,n);let{mainAxis:S,crossAxis:A,alignmentAxis:M}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:C.mainAxis||0,crossAxis:C.crossAxis||0,alignmentAxis:C.alignmentAxis};return m&&typeof M=="number"&&(A=m==="end"?M*-1:M),g?{x:A*x,y:S*y}:{x:S*y,y:A*x}}const Jb=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,o;const{x:a,y:u,placement:h,middlewareData:m}=e,g=await Xb(e,n);return h===((t=m.offset)==null?void 0:t.placement)&&(o=m.arrow)!=null&&o.alignmentOffset?{}:{x:a+g.x,y:u+g.y,data:{...g,placement:h}}}}},ek=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:o,placement:a}=e,{mainAxis:u=!0,crossAxis:h=!1,limiter:m={fn:N=>{let{x:B,y:Z}=N;return{x:B,y:Z}}},...g}=Mo(n,e),y={x:t,y:o},x=await Qu(e,g),C=Zs(No(a)),S=Zm(C);let A=y[S],M=y[C];if(u){const N=S==="y"?"top":"left",B=S==="y"?"bottom":"right",Z=A+x[N],Y=A-x[B];A=Gp(Z,A,Y)}if(h){const N=C==="y"?"top":"left",B=C==="y"?"bottom":"right",Z=M+x[N],Y=M-x[B];M=Gp(Z,M,Y)}const b=m.fn({...e,[S]:A,[C]:M});return{...b,data:{x:b.x-t,y:b.y-o,enabled:{[S]:u,[C]:h}}}}}},tk=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:o,placement:a,rects:u,middlewareData:h}=e,{offset:m=0,mainAxis:g=!0,crossAxis:y=!0}=Mo(n,e),x={x:t,y:o},C=Zs(a),S=Zm(C);let A=x[S],M=x[C];const b=Mo(m,e),N=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(g){const Y=S==="y"?"height":"width",q=u.reference[S]-u.floating[Y]+N.mainAxis,ee=u.reference[S]+u.reference[Y]-N.mainAxis;A<q?A=q:A>ee&&(A=ee)}if(y){var B,Z;const Y=S==="y"?"width":"height",q=["top","left"].includes(No(a)),ee=u.reference[C]-u.floating[Y]+(q&&((B=h.offset)==null?void 0:B[C])||0)+(q?0:N.crossAxis),ae=u.reference[C]+u.reference[Y]+(q?0:((Z=h.offset)==null?void 0:Z[C])||0)-(q?N.crossAxis:0);M<ee?M=ee:M>ae&&(M=ae)}return{[S]:A,[C]:M}}}},nk=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,o;const{placement:a,rects:u,platform:h,elements:m}=e,{apply:g=()=>{},...y}=Mo(n,e),x=await Qu(e,y),C=No(a),S=Kl(a),A=Zs(a)==="y",{width:M,height:b}=u.floating;let N,B;C==="top"||C==="bottom"?(N=C,B=S===(await(h.isRTL==null?void 0:h.isRTL(m.floating))?"start":"end")?"left":"right"):(B=C,N=S==="end"?"top":"bottom");const Z=b-x.top-x.bottom,Y=M-x.left-x.right,q=Ks(b-x[N],Z),ee=Ks(M-x[B],Y),ae=!e.middlewareData.shift;let z=q,D=ee;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(D=Y),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(z=Z),ae&&!S){const U=Sr(x.left,0),W=Sr(x.right,0),H=Sr(x.top,0),j=Sr(x.bottom,0);A?D=M-2*(U!==0||W!==0?U+W:Sr(x.left,x.right)):z=b-2*(H!==0||j!==0?H+j:Sr(x.top,x.bottom))}await g({...e,availableWidth:D,availableHeight:z});const V=await h.getDimensions(m.floating);return M!==V.width||b!==V.height?{reset:{rects:!0}}:{}}}};function Id(){return typeof window<"u"}function Zl(n){return Z0(n)?(n.nodeName||"").toLowerCase():"#document"}function Ir(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Hi(n){var e;return(e=(Z0(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Z0(n){return Id()?n instanceof Node||n instanceof Ir(n).Node:!1}function mi(n){return Id()?n instanceof Element||n instanceof Ir(n).Element:!1}function $i(n){return Id()?n instanceof HTMLElement||n instanceof Ir(n).HTMLElement:!1}function Ty(n){return!Id()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ir(n).ShadowRoot}function uc(n){const{overflow:e,overflowX:t,overflowY:o,display:a}=gi(n);return/auto|scroll|overlay|hidden|clip/.test(e+o+t)&&!["inline","contents"].includes(a)}function rk(n){return["table","td","th"].includes(Zl(n))}function Rd(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Ym(n){const e=Xm(),t=mi(n)?gi(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(t.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(t.contain||"").includes(o))}function ik(n){let e=qs(n);for(;$i(e)&&!Vl(e);){if(Ym(e))return e;if(Rd(e))return null;e=qs(e)}return null}function Xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vl(n){return["html","body","#document"].includes(Zl(n))}function gi(n){return Ir(n).getComputedStyle(n)}function Ad(n){return mi(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function qs(n){if(Zl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Ty(n)&&n.host||Hi(n);return Ty(e)?e.host:e}function q0(n){const e=qs(n);return Vl(e)?n.ownerDocument?n.ownerDocument.body:n.body:$i(e)&&uc(e)?e:q0(e)}function Yu(n,e,t){var o;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=q0(n),u=a===((o=n.ownerDocument)==null?void 0:o.body),h=Ir(a);if(u){const m=Zp(h);return e.concat(h,h.visualViewport||[],uc(a)?a:[],m&&t?Yu(m):[])}return e.concat(a,Yu(a,[],t))}function Zp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Q0(n){const e=gi(n);let t=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const a=$i(n),u=a?n.offsetWidth:t,h=a?n.offsetHeight:o,m=Qh(t)!==u||Qh(o)!==h;return m&&(t=u,o=h),{width:t,height:o,$:m}}function Jm(n){return mi(n)?n:n.contextElement}function Il(n){const e=Jm(n);if(!$i(e))return Fi(1);const t=e.getBoundingClientRect(),{width:o,height:a,$:u}=Q0(e);let h=(u?Qh(t.width):t.width)/o,m=(u?Qh(t.height):t.height)/a;return(!h||!Number.isFinite(h))&&(h=1),(!m||!Number.isFinite(m))&&(m=1),{x:h,y:m}}const ok=Fi(0);function Y0(n){const e=Ir(n);return!Xm()||!e.visualViewport?ok:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sk(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ir(n)?!1:e}function ka(n,e,t,o){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),u=Jm(n);let h=Fi(1);e&&(o?mi(o)&&(h=Il(o)):h=Il(n));const m=sk(u,t,o)?Y0(u):Fi(0);let g=(a.left+m.x)/h.x,y=(a.top+m.y)/h.y,x=a.width/h.x,C=a.height/h.y;if(u){const S=Ir(u),A=o&&mi(o)?Ir(o):o;let M=S,b=Zp(M);for(;b&&o&&A!==M;){const N=Il(b),B=b.getBoundingClientRect(),Z=gi(b),Y=B.left+(b.clientLeft+parseFloat(Z.paddingLeft))*N.x,q=B.top+(b.clientTop+parseFloat(Z.paddingTop))*N.y;g*=N.x,y*=N.y,x*=N.x,C*=N.y,g+=Y,y+=q,M=Ir(b),b=Zp(M)}}return Xh({width:x,height:C,x:g,y})}function eg(n,e){const t=Ad(n).scrollLeft;return e?e.left+t:ka(Hi(n)).left+t}function X0(n,e,t){t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=o.left+e.scrollLeft-(t?0:eg(n,o)),u=o.top+e.scrollTop;return{x:a,y:u}}function ak(n){let{elements:e,rect:t,offsetParent:o,strategy:a}=n;const u=a==="fixed",h=Hi(o),m=e?Rd(e.floating):!1;if(o===h||m&&u)return t;let g={scrollLeft:0,scrollTop:0},y=Fi(1);const x=Fi(0),C=$i(o);if((C||!C&&!u)&&((Zl(o)!=="body"||uc(h))&&(g=Ad(o)),$i(o))){const A=ka(o);y=Il(o),x.x=A.x+o.clientLeft,x.y=A.y+o.clientTop}const S=h&&!C&&!u?X0(h,g,!0):Fi(0);return{width:t.width*y.x,height:t.height*y.y,x:t.x*y.x-g.scrollLeft*y.x+x.x+S.x,y:t.y*y.y-g.scrollTop*y.y+x.y+S.y}}function lk(n){return Array.from(n.getClientRects())}function uk(n){const e=Hi(n),t=Ad(n),o=n.ownerDocument.body,a=Sr(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),u=Sr(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let h=-t.scrollLeft+eg(n);const m=-t.scrollTop;return gi(o).direction==="rtl"&&(h+=Sr(e.clientWidth,o.clientWidth)-a),{width:a,height:u,x:h,y:m}}function ck(n,e){const t=Ir(n),o=Hi(n),a=t.visualViewport;let u=o.clientWidth,h=o.clientHeight,m=0,g=0;if(a){u=a.width,h=a.height;const y=Xm();(!y||y&&e==="fixed")&&(m=a.offsetLeft,g=a.offsetTop)}return{width:u,height:h,x:m,y:g}}function hk(n,e){const t=ka(n,!0,e==="fixed"),o=t.top+n.clientTop,a=t.left+n.clientLeft,u=$i(n)?Il(n):Fi(1),h=n.clientWidth*u.x,m=n.clientHeight*u.y,g=a*u.x,y=o*u.y;return{width:h,height:m,x:g,y}}function Cy(n,e,t){let o;if(e==="viewport")o=ck(n,t);else if(e==="document")o=uk(Hi(n));else if(mi(e))o=hk(e,t);else{const a=Y0(n);o={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Xh(o)}function J0(n,e){const t=qs(n);return t===e||!mi(t)||Vl(t)?!1:gi(t).position==="fixed"||J0(t,e)}function dk(n,e){const t=e.get(n);if(t)return t;let o=Yu(n,[],!1).filter(m=>mi(m)&&Zl(m)!=="body"),a=null;const u=gi(n).position==="fixed";let h=u?qs(n):n;for(;mi(h)&&!Vl(h);){const m=gi(h),g=Ym(h);!g&&m.position==="fixed"&&(a=null),(u?!g&&!a:!g&&m.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||uc(h)&&!g&&J0(n,h))?o=o.filter(x=>x!==h):a=m,h=qs(h)}return e.set(n,o),o}function fk(n){let{element:e,boundary:t,rootBoundary:o,strategy:a}=n;const h=[...t==="clippingAncestors"?Rd(e)?[]:dk(e,this._c):[].concat(t),o],m=h[0],g=h.reduce((y,x)=>{const C=Cy(e,x,a);return y.top=Sr(C.top,y.top),y.right=Ks(C.right,y.right),y.bottom=Ks(C.bottom,y.bottom),y.left=Sr(C.left,y.left),y},Cy(e,m,a));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function pk(n){const{width:e,height:t}=Q0(n);return{width:e,height:t}}function mk(n,e,t){const o=$i(e),a=Hi(e),u=t==="fixed",h=ka(n,!0,u,e);let m={scrollLeft:0,scrollTop:0};const g=Fi(0);if(o||!o&&!u)if((Zl(e)!=="body"||uc(a))&&(m=Ad(e)),o){const S=ka(e,!0,u,e);g.x=S.x+e.clientLeft,g.y=S.y+e.clientTop}else a&&(g.x=eg(a));const y=a&&!o&&!u?X0(a,m):Fi(0),x=h.left+m.scrollLeft-g.x-y.x,C=h.top+m.scrollTop-g.y-y.y;return{x,y:C,width:h.width,height:h.height}}function up(n){return gi(n).position==="static"}function Sy(n,e){if(!$i(n)||gi(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Hi(n)===t&&(t=t.ownerDocument.body),t}function eE(n,e){const t=Ir(n);if(Rd(n))return t;if(!$i(n)){let a=qs(n);for(;a&&!Vl(a);){if(mi(a)&&!up(a))return a;a=qs(a)}return t}let o=Sy(n,e);for(;o&&rk(o)&&up(o);)o=Sy(o,e);return o&&Vl(o)&&up(o)&&!Ym(o)?t:o||ik(n)||t}const gk=async function(n){const e=this.getOffsetParent||eE,t=this.getDimensions,o=await t(n.floating);return{reference:mk(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function _k(n){return gi(n).direction==="rtl"}const vk={convertOffsetParentRelativeRectToViewportRelativeRect:ak,getDocumentElement:Hi,getClippingRect:fk,getOffsetParent:eE,getElementRects:gk,getClientRects:lk,getDimensions:pk,getScale:Il,isElement:mi,isRTL:_k};function yk(n,e){let t=null,o;const a=Hi(n);function u(){var m;clearTimeout(o),(m=t)==null||m.disconnect(),t=null}function h(m,g){m===void 0&&(m=!1),g===void 0&&(g=1),u();const{left:y,top:x,width:C,height:S}=n.getBoundingClientRect();if(m||e(),!C||!S)return;const A=gh(x),M=gh(a.clientWidth-(y+C)),b=gh(a.clientHeight-(x+S)),N=gh(y),Z={rootMargin:-A+"px "+-M+"px "+-b+"px "+-N+"px",threshold:Sr(0,Ks(1,g))||1};let Y=!0;function q(ee){const ae=ee[0].intersectionRatio;if(ae!==g){if(!Y)return h();ae?h(!1,ae):o=setTimeout(()=>{h(!1,1e-7)},1e3)}Y=!1}try{t=new IntersectionObserver(q,{...Z,root:a.ownerDocument})}catch{t=new IntersectionObserver(q,Z)}t.observe(n)}return h(!0),u}function wk(n,e,t,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:u=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:g=!1}=o,y=Jm(n),x=a||u?[...y?Yu(y):[],...Yu(e)]:[];x.forEach(B=>{a&&B.addEventListener("scroll",t,{passive:!0}),u&&B.addEventListener("resize",t)});const C=y&&m?yk(y,t):null;let S=-1,A=null;h&&(A=new ResizeObserver(B=>{let[Z]=B;Z&&Z.target===y&&A&&(A.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var Y;(Y=A)==null||Y.observe(e)})),t()}),y&&!g&&A.observe(y),A.observe(e));let M,b=g?ka(n):null;g&&N();function N(){const B=ka(n);b&&(B.x!==b.x||B.y!==b.y||B.width!==b.width||B.height!==b.height)&&t(),b=B,M=requestAnimationFrame(N)}return t(),()=>{var B;x.forEach(Z=>{a&&Z.removeEventListener("scroll",t),u&&Z.removeEventListener("resize",t)}),C==null||C(),(B=A)==null||B.disconnect(),A=null,g&&cancelAnimationFrame(M)}}const Ek=Jb,xk=ek,Tk=Qb,Ck=nk,Sk=Yb,Py=qb,Pk=tk,Ik=(n,e,t)=>{const o=new Map,a={platform:vk,...t},u={...a.platform,_c:o};return Zb(n,e,{...a,platform:u})};var bh=typeof document<"u"?I.useLayoutEffect:I.useEffect;function Jh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,o,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(o=t;o--!==0;)if(!Jh(n[o],e[o]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(o=t;o--!==0;)if(!{}.hasOwnProperty.call(e,a[o]))return!1;for(o=t;o--!==0;){const u=a[o];if(!(u==="_owner"&&n.$$typeof)&&!Jh(n[u],e[u]))return!1}return!0}return n!==n&&e!==e}function tE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Iy(n,e){const t=tE(n);return Math.round(e*t)/t}function cp(n){const e=I.useRef(n);return bh(()=>{e.current=n}),e}function Rk(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:o=[],platform:a,elements:{reference:u,floating:h}={},transform:m=!0,whileElementsMounted:g,open:y}=n,[x,C]=I.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[S,A]=I.useState(o);Jh(S,o)||A(o);const[M,b]=I.useState(null),[N,B]=I.useState(null),Z=I.useCallback(ne=>{ne!==ae.current&&(ae.current=ne,b(ne))},[]),Y=I.useCallback(ne=>{ne!==z.current&&(z.current=ne,B(ne))},[]),q=u||M,ee=h||N,ae=I.useRef(null),z=I.useRef(null),D=I.useRef(x),V=g!=null,U=cp(g),W=cp(a),H=cp(y),j=I.useCallback(()=>{if(!ae.current||!z.current)return;const ne={placement:e,strategy:t,middleware:S};W.current&&(ne.platform=W.current),Ik(ae.current,z.current,ne).then(he=>{const ue={...he,isPositioned:H.current!==!1};be.current&&!Jh(D.current,ue)&&(D.current=ue,sd.flushSync(()=>{C(ue)}))})},[S,e,t,W,H]);bh(()=>{y===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,C(ne=>({...ne,isPositioned:!1})))},[y]);const be=I.useRef(!1);bh(()=>(be.current=!0,()=>{be.current=!1}),[]),bh(()=>{if(q&&(ae.current=q),ee&&(z.current=ee),q&&ee){if(U.current)return U.current(q,ee,j);j()}},[q,ee,j,U,V]);const nt=I.useMemo(()=>({reference:ae,floating:z,setReference:Z,setFloating:Y}),[Z,Y]),Re=I.useMemo(()=>({reference:q,floating:ee}),[q,ee]),Ne=I.useMemo(()=>{const ne={position:t,left:0,top:0};if(!Re.floating)return ne;const he=Iy(Re.floating,x.x),ue=Iy(Re.floating,x.y);return m?{...ne,transform:"translate("+he+"px, "+ue+"px)",...tE(Re.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:he,top:ue}},[t,m,Re.floating,x.x,x.y]);return I.useMemo(()=>({...x,update:j,refs:nt,elements:Re,floatingStyles:Ne}),[x,j,nt,Re,Ne])}const Ak=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:o,padding:a}=typeof n=="function"?n(t):n;return o&&e(o)?o.current!=null?Py({element:o.current,padding:a}).fn(t):{}:o?Py({element:o,padding:a}).fn(t):{}}}},bk=(n,e)=>({...Ek(n),options:[n,e]}),kk=(n,e)=>({...xk(n),options:[n,e]}),Lk=(n,e)=>({...Pk(n),options:[n,e]}),Mk=(n,e)=>({...Tk(n),options:[n,e]}),Nk=(n,e)=>({...Ck(n),options:[n,e]}),Dk=(n,e)=>({...Sk(n),options:[n,e]}),Ok=(n,e)=>({...Ak(n),options:[n,e]});var Vk="Arrow",nE=I.forwardRef((n,e)=>{const{children:t,width:o=10,height:a=5,...u}=n;return F.jsx(Tt.svg,{...u,ref:e,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:F.jsx("polygon",{points:"0,0 30,0 15,10"})})});nE.displayName=Vk;var Fk=nE;function zk(n,e=[]){let t=[];function o(u,h){const m=I.createContext(h),g=t.length;t=[...t,h];function y(C){const{scope:S,children:A,...M}=C,b=(S==null?void 0:S[n][g])||m,N=I.useMemo(()=>M,Object.values(M));return F.jsx(b.Provider,{value:N,children:A})}function x(C,S){const A=(S==null?void 0:S[n][g])||m,M=I.useContext(A);if(M)return M;if(h!==void 0)return h;throw new Error(`\`${C}\` must be used within \`${u}\``)}return y.displayName=u+"Provider",[y,x]}const a=()=>{const u=t.map(h=>I.createContext(h));return function(m){const g=(m==null?void 0:m[n])||u;return I.useMemo(()=>({[`__scope${n}`]:{...m,[n]:g}}),[m,g])}};return a.scopeName=n,[o,Bk(a,...e)]}function Bk(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const o=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(u){const h=o.reduce((m,{useScope:g,scopeName:y})=>{const C=g(u)[`__scope${y}`];return{...m,...C}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:h}),[h])}};return t.scopeName=e.scopeName,t}function jk(n){const[e,t]=I.useState(void 0);return Ui(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const o=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const u=a[0];let h,m;if("borderBoxSize"in u){const g=u.borderBoxSize,y=Array.isArray(g)?g[0]:g;h=y.inlineSize,m=y.blockSize}else h=n.offsetWidth,m=n.offsetHeight;t({width:h,height:m})});return o.observe(n,{box:"border-box"}),()=>o.unobserve(n)}else t(void 0)},[n]),e}var tg="Popper",[rE,iE]=zk(tg),[Uk,oE]=rE(tg),sE=n=>{const{__scopePopper:e,children:t}=n,[o,a]=I.useState(null);return F.jsx(Uk,{scope:e,anchor:o,onAnchorChange:a,children:t})};sE.displayName=tg;var aE="PopperAnchor",lE=I.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:o,...a}=n,u=oE(aE,t),h=I.useRef(null),m=sn(e,h);return I.useEffect(()=>{u.onAnchorChange((o==null?void 0:o.current)||h.current)}),o?null:F.jsx(Tt.div,{...a,ref:m})});lE.displayName=aE;var ng="PopperContent",[$k,Wk]=rE(ng),uE=I.forwardRef((n,e)=>{var je,Ze,Ye,yt,Tn,Vn;const{__scopePopper:t,side:o="bottom",sideOffset:a=0,align:u="center",alignOffset:h=0,arrowPadding:m=0,avoidCollisions:g=!0,collisionBoundary:y=[],collisionPadding:x=0,sticky:C="partial",hideWhenDetached:S=!1,updatePositionStrategy:A="optimized",onPlaced:M,...b}=n,N=oE(ng,t),[B,Z]=I.useState(null),Y=sn(e,an=>Z(an)),[q,ee]=I.useState(null),ae=jk(q),z=(ae==null?void 0:ae.width)??0,D=(ae==null?void 0:ae.height)??0,V=o+(u!=="center"?"-"+u:""),U=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},W=Array.isArray(y)?y:[y],H=W.length>0,j={padding:U,boundary:W.filter(Gk),altBoundary:H},{refs:be,floatingStyles:nt,placement:Re,isPositioned:Ne,middlewareData:ne}=Rk({strategy:"fixed",placement:V,whileElementsMounted:(...an)=>wk(...an,{animationFrame:A==="always"}),elements:{reference:N.anchor},middleware:[bk({mainAxis:a+D,alignmentAxis:h}),g&&kk({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?Lk():void 0,...j}),g&&Mk({...j}),Nk({...j,apply:({elements:an,rects:Rr,availableWidth:Zr,availableHeight:_i})=>{const{width:qr,height:Qr}=Rr.reference,dr=an.floating.style;dr.setProperty("--radix-popper-available-width",`${Zr}px`),dr.setProperty("--radix-popper-available-height",`${_i}px`),dr.setProperty("--radix-popper-anchor-width",`${qr}px`),dr.setProperty("--radix-popper-anchor-height",`${Qr}px`)}}),q&&Ok({element:q,padding:m}),Kk({arrowWidth:z,arrowHeight:D}),S&&Dk({strategy:"referenceHidden",...j})]}),[he,ue]=dE(Re),K=mn(M);Ui(()=>{Ne&&(K==null||K())},[Ne,K]);const ce=(je=ne.arrow)==null?void 0:je.x,we=(Ze=ne.arrow)==null?void 0:Ze.y,Pe=((Ye=ne.arrow)==null?void 0:Ye.centerOffset)!==0,[Te,Ee]=I.useState();return Ui(()=>{B&&Ee(window.getComputedStyle(B).zIndex)},[B]),F.jsx("div",{ref:be.setFloating,"data-radix-popper-content-wrapper":"",style:{...nt,transform:Ne?nt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(yt=ne.transformOrigin)==null?void 0:yt.x,(Tn=ne.transformOrigin)==null?void 0:Tn.y].join(" "),...((Vn=ne.hide)==null?void 0:Vn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:F.jsx($k,{scope:t,placedSide:he,onArrowChange:ee,arrowX:ce,arrowY:we,shouldHideArrow:Pe,children:F.jsx(Tt.div,{"data-side":he,"data-align":ue,...b,ref:Y,style:{...b.style,animation:Ne?void 0:"none"}})})})});uE.displayName=ng;var cE="PopperArrow",Hk={top:"bottom",right:"left",bottom:"top",left:"right"},hE=I.forwardRef(function(e,t){const{__scopePopper:o,...a}=e,u=Wk(cE,o),h=Hk[u.placedSide];return F.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:F.jsx(Fk,{...a,ref:t,style:{...a.style,display:"block"}})})});hE.displayName=cE;function Gk(n){return n!==null}var Kk=n=>({name:"transformOrigin",options:n,fn(e){var N,B,Z;const{placement:t,rects:o,middlewareData:a}=e,h=((N=a.arrow)==null?void 0:N.centerOffset)!==0,m=h?0:n.arrowWidth,g=h?0:n.arrowHeight,[y,x]=dE(t),C={start:"0%",center:"50%",end:"100%"}[x],S=(((B=a.arrow)==null?void 0:B.x)??0)+m/2,A=(((Z=a.arrow)==null?void 0:Z.y)??0)+g/2;let M="",b="";return y==="bottom"?(M=h?C:`${S}px`,b=`${-g}px`):y==="top"?(M=h?C:`${S}px`,b=`${o.floating.height+g}px`):y==="right"?(M=`${-g}px`,b=h?C:`${A}px`):y==="left"&&(M=`${o.floating.width+g}px`,b=h?C:`${A}px`),{data:{x:M,y:b}}}});function dE(n){const[e,t="center"]=n.split("-");return[e,t]}var Zk=sE,qk=lE,Qk=uE,Yk=hE,Xk="Portal",fE=I.forwardRef((n,e)=>{var m;const{container:t,...o}=n,[a,u]=I.useState(!1);Ui(()=>u(!0),[]);const h=t||a&&((m=globalThis==null?void 0:globalThis.document)==null?void 0:m.body);return h?ew.createPortal(F.jsx(Tt.div,{...o,ref:e}),h):null});fE.displayName=Xk;function Jk(n,e){return I.useReducer((t,o)=>e[t][o]??t,n)}var Oo=n=>{const{present:e,children:t}=n,o=eL(e),a=typeof t=="function"?t({present:o.isPresent}):I.Children.only(t),u=sn(o.ref,tL(a));return typeof t=="function"||o.isPresent?I.cloneElement(a,{ref:u}):null};Oo.displayName="Presence";function eL(n){const[e,t]=I.useState(),o=I.useRef({}),a=I.useRef(n),u=I.useRef("none"),h=n?"mounted":"unmounted",[m,g]=Jk(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const y=_h(o.current);u.current=m==="mounted"?y:"none"},[m]),Ui(()=>{const y=o.current,x=a.current;if(x!==n){const S=u.current,A=_h(y);n?g("MOUNT"):A==="none"||(y==null?void 0:y.display)==="none"?g("UNMOUNT"):g(x&&S!==A?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,g]),Ui(()=>{if(e){let y;const x=e.ownerDocument.defaultView??window,C=A=>{const b=_h(o.current).includes(A.animationName);if(A.target===e&&b&&(g("ANIMATION_END"),!a.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",y=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},S=A=>{A.target===e&&(u.current=_h(o.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",C),e.addEventListener("animationend",C),()=>{x.clearTimeout(y),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",C),e.removeEventListener("animationend",C)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:I.useCallback(y=>{y&&(o.current=getComputedStyle(y)),t(y)},[])}}function _h(n){return(n==null?void 0:n.animationName)||"none"}function tL(n){var o,a;let e=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function nL(n,e=[]){let t=[];function o(u,h){const m=I.createContext(h),g=t.length;t=[...t,h];function y(C){const{scope:S,children:A,...M}=C,b=(S==null?void 0:S[n][g])||m,N=I.useMemo(()=>M,Object.values(M));return F.jsx(b.Provider,{value:N,children:A})}function x(C,S){const A=(S==null?void 0:S[n][g])||m,M=I.useContext(A);if(M)return M;if(h!==void 0)return h;throw new Error(`\`${C}\` must be used within \`${u}\``)}return y.displayName=u+"Provider",[y,x]}const a=()=>{const u=t.map(h=>I.createContext(h));return function(m){const g=(m==null?void 0:m[n])||u;return I.useMemo(()=>({[`__scope${n}`]:{...m,[n]:g}}),[m,g])}};return a.scopeName=n,[o,rL(a,...e)]}function rL(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const o=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(u){const h=o.reduce((m,{useScope:g,scopeName:y})=>{const C=g(u)[`__scope${y}`];return{...m,...C}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:h}),[h])}};return t.scopeName=e.scopeName,t}var hp="rovingFocusGroup.onEntryFocus",iL={bubbles:!1,cancelable:!0},bd="RovingFocusGroup",[qp,pE,oL]=Pd(bd),[sL,mE]=nL(bd,[oL]),[aL,lL]=sL(bd),gE=I.forwardRef((n,e)=>F.jsx(qp.Provider,{scope:n.__scopeRovingFocusGroup,children:F.jsx(qp.Slot,{scope:n.__scopeRovingFocusGroup,children:F.jsx(uL,{...n,ref:e})})}));gE.displayName=bd;var uL=I.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:o,loop:a=!1,dir:u,currentTabStopId:h,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:g,onEntryFocus:y,preventScrollOnEntryFocus:x=!1,...C}=n,S=I.useRef(null),A=sn(e,S),M=Gm(u),[b=null,N]=Sd({prop:h,defaultProp:m,onChange:g}),[B,Z]=I.useState(!1),Y=mn(y),q=pE(t),ee=I.useRef(!1),[ae,z]=I.useState(0);return I.useEffect(()=>{const D=S.current;if(D)return D.addEventListener(hp,Y),()=>D.removeEventListener(hp,Y)},[Y]),F.jsx(aL,{scope:t,orientation:o,dir:M,loop:a,currentTabStopId:b,onItemFocus:I.useCallback(D=>N(D),[N]),onItemShiftTab:I.useCallback(()=>Z(!0),[]),onFocusableItemAdd:I.useCallback(()=>z(D=>D+1),[]),onFocusableItemRemove:I.useCallback(()=>z(D=>D-1),[]),children:F.jsx(Tt.div,{tabIndex:B||ae===0?-1:0,"data-orientation":o,...C,ref:A,style:{outline:"none",...n.style},onMouseDown:$e(n.onMouseDown,()=>{ee.current=!0}),onFocus:$e(n.onFocus,D=>{const V=!ee.current;if(D.target===D.currentTarget&&V&&!B){const U=new CustomEvent(hp,iL);if(D.currentTarget.dispatchEvent(U),!U.defaultPrevented){const W=q().filter(Re=>Re.focusable),H=W.find(Re=>Re.active),j=W.find(Re=>Re.id===b),nt=[H,j,...W].filter(Boolean).map(Re=>Re.ref.current);yE(nt,x)}}ee.current=!1}),onBlur:$e(n.onBlur,()=>Z(!1))})})}),_E="RovingFocusGroupItem",vE=I.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:o=!0,active:a=!1,tabStopId:u,...h}=n,m=qu(),g=u||m,y=lL(_E,t),x=y.currentTabStopId===g,C=pE(t),{onFocusableItemAdd:S,onFocusableItemRemove:A}=y;return I.useEffect(()=>{if(o)return S(),()=>A()},[o,S,A]),F.jsx(qp.ItemSlot,{scope:t,id:g,focusable:o,active:a,children:F.jsx(Tt.span,{tabIndex:x?0:-1,"data-orientation":y.orientation,...h,ref:e,onMouseDown:$e(n.onMouseDown,M=>{o?y.onItemFocus(g):M.preventDefault()}),onFocus:$e(n.onFocus,()=>y.onItemFocus(g)),onKeyDown:$e(n.onKeyDown,M=>{if(M.key==="Tab"&&M.shiftKey){y.onItemShiftTab();return}if(M.target!==M.currentTarget)return;const b=dL(M,y.orientation,y.dir);if(b!==void 0){if(M.metaKey||M.ctrlKey||M.altKey||M.shiftKey)return;M.preventDefault();let B=C().filter(Z=>Z.focusable).map(Z=>Z.ref.current);if(b==="last")B.reverse();else if(b==="prev"||b==="next"){b==="prev"&&B.reverse();const Z=B.indexOf(M.currentTarget);B=y.loop?fL(B,Z+1):B.slice(Z+1)}setTimeout(()=>yE(B))}})})})});vE.displayName=_E;var cL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hL(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function dL(n,e,t){const o=hL(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return cL[o]}function yE(n,e=!1){const t=document.activeElement;for(const o of n)if(o===t||(o.focus({preventScroll:e}),document.activeElement!==t))return}function fL(n,e){return n.map((t,o)=>n[(e+o)%n.length])}var pL=gE,mL=vE,gL=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},gl=new WeakMap,vh=new WeakMap,yh={},dp=0,wE=function(n){return n&&(n.host||wE(n.parentNode))},_L=function(n,e){return e.map(function(t){if(n.contains(t))return t;var o=wE(t);return o&&n.contains(o)?o:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},vL=function(n,e,t,o){var a=_L(e,Array.isArray(n)?n:[n]);yh[t]||(yh[t]=new WeakMap);var u=yh[t],h=[],m=new Set,g=new Set(a),y=function(C){!C||m.has(C)||(m.add(C),y(C.parentNode))};a.forEach(y);var x=function(C){!C||g.has(C)||Array.prototype.forEach.call(C.children,function(S){if(m.has(S))x(S);else try{var A=S.getAttribute(o),M=A!==null&&A!=="false",b=(gl.get(S)||0)+1,N=(u.get(S)||0)+1;gl.set(S,b),u.set(S,N),h.push(S),b===1&&M&&vh.set(S,!0),N===1&&S.setAttribute(t,"true"),M||S.setAttribute(o,"true")}catch(B){console.error("aria-hidden: cannot operate on ",S,B)}})};return x(e),m.clear(),dp++,function(){h.forEach(function(C){var S=gl.get(C)-1,A=u.get(C)-1;gl.set(C,S),u.set(C,A),S||(vh.has(C)||C.removeAttribute(o),vh.delete(C)),A||C.removeAttribute(t)}),dp--,dp||(gl=new WeakMap,gl=new WeakMap,vh=new WeakMap,yh={})}},yL=function(n,e,t){t===void 0&&(t="data-aria-hidden");var o=Array.from(Array.isArray(n)?n:[n]),a=gL(n);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live]"))),vL(o,a,t,"aria-hidden")):function(){return null}},Di=function(){return Di=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++){t=arguments[o];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},Di.apply(this,arguments)};function EE(n,e){var t={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(n);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(t[o[a]]=n[o[a]]);return t}function wL(n,e,t){if(t||arguments.length===2)for(var o=0,a=e.length,u;o<a;o++)(u||!(o in e))&&(u||(u=Array.prototype.slice.call(e,0,o)),u[o]=e[o]);return n.concat(u||Array.prototype.slice.call(e))}var kh="right-scroll-bar-position",Lh="width-before-scroll-bar",EL="with-scroll-bars-hidden",xL="--removed-body-scroll-bar-size";function fp(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function TL(n,e){var t=I.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(o){var a=t.value;a!==o&&(t.value=o,t.callback(o,a))}}}})[0];return t.callback=e,t.facade}var CL=typeof window<"u"?I.useLayoutEffect:I.useEffect,Ry=new WeakMap;function SL(n,e){var t=TL(null,function(o){return n.forEach(function(a){return fp(a,o)})});return CL(function(){var o=Ry.get(t);if(o){var a=new Set(o),u=new Set(n),h=t.current;a.forEach(function(m){u.has(m)||fp(m,null)}),u.forEach(function(m){a.has(m)||fp(m,h)})}Ry.set(t,n)},[n]),t}function PL(n){return n}function IL(n,e){e===void 0&&(e=PL);var t=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(u){var h=e(u,o);return t.push(h),function(){t=t.filter(function(m){return m!==h})}},assignSyncMedium:function(u){for(o=!0;t.length;){var h=t;t=[],h.forEach(u)}t={push:function(m){return u(m)},filter:function(){return t}}},assignMedium:function(u){o=!0;var h=[];if(t.length){var m=t;t=[],m.forEach(u),h=t}var g=function(){var x=h;h=[],x.forEach(u)},y=function(){return Promise.resolve().then(g)};y(),t={push:function(x){h.push(x),y()},filter:function(x){return h=h.filter(x),t}}}};return a}function RL(n){n===void 0&&(n={});var e=IL(null);return e.options=Di({async:!0,ssr:!1},n),e}var xE=function(n){var e=n.sideCar,t=EE(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return I.createElement(o,Di({},t))};xE.isSideCarExport=!0;function AL(n,e){return n.useMedium(e),xE}var TE=RL(),pp=function(){},kd=I.forwardRef(function(n,e){var t=I.useRef(null),o=I.useState({onScrollCapture:pp,onWheelCapture:pp,onTouchMoveCapture:pp}),a=o[0],u=o[1],h=n.forwardProps,m=n.children,g=n.className,y=n.removeScrollBar,x=n.enabled,C=n.shards,S=n.sideCar,A=n.noIsolation,M=n.inert,b=n.allowPinchZoom,N=n.as,B=N===void 0?"div":N,Z=n.gapMode,Y=EE(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=S,ee=SL([t,e]),ae=Di(Di({},Y),a);return I.createElement(I.Fragment,null,x&&I.createElement(q,{sideCar:TE,removeScrollBar:y,shards:C,noIsolation:A,inert:M,setCallbacks:u,allowPinchZoom:!!b,lockRef:t,gapMode:Z}),h?I.cloneElement(I.Children.only(m),Di(Di({},ae),{ref:ee})):I.createElement(B,Di({},ae,{className:g,ref:ee}),m))});kd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kd.classNames={fullWidth:Lh,zeroRight:kh};var bL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kL(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=bL();return e&&n.setAttribute("nonce",e),n}function LL(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function ML(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var NL=function(){var n=0,e=null;return{add:function(t){n==0&&(e=kL())&&(LL(e,t),ML(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},DL=function(){var n=NL();return function(e,t){I.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},CE=function(){var n=DL(),e=function(t){var o=t.styles,a=t.dynamic;return n(o,a),null};return e},OL={left:0,top:0,right:0,gap:0},mp=function(n){return parseInt(n||"",10)||0},VL=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],o=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[mp(t),mp(o),mp(a)]},FL=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return OL;var e=VL(n),t=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-t+e[2]-e[0])}},zL=CE(),Rl="data-scroll-locked",BL=function(n,e,t,o){var a=n.left,u=n.top,h=n.right,m=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(EL,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(m,"px ").concat(o,`;
  }
  body[`).concat(Rl,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(o,`;
    `),t==="padding"&&"padding-right: ".concat(m,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kh,` {
    right: `).concat(m,"px ").concat(o,`;
  }
  
  .`).concat(Lh,` {
    margin-right: `).concat(m,"px ").concat(o,`;
  }
  
  .`).concat(kh," .").concat(kh,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Lh," .").concat(Lh,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Rl,`] {
    `).concat(xL,": ").concat(m,`px;
  }
`)},Ay=function(){var n=parseInt(document.body.getAttribute(Rl)||"0",10);return isFinite(n)?n:0},jL=function(){I.useEffect(function(){return document.body.setAttribute(Rl,(Ay()+1).toString()),function(){var n=Ay()-1;n<=0?document.body.removeAttribute(Rl):document.body.setAttribute(Rl,n.toString())}},[])},UL=function(n){var e=n.noRelative,t=n.noImportant,o=n.gapMode,a=o===void 0?"margin":o;jL();var u=I.useMemo(function(){return FL(a)},[a]);return I.createElement(zL,{styles:BL(u,!e,a,t?"":"!important")})},Qp=!1;if(typeof window<"u")try{var wh=Object.defineProperty({},"passive",{get:function(){return Qp=!0,!0}});window.addEventListener("test",wh,wh),window.removeEventListener("test",wh,wh)}catch{Qp=!1}var _l=Qp?{passive:!1}:!1,$L=function(n){return n.tagName==="TEXTAREA"},SE=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!$L(n)&&t[e]==="visible")},WL=function(n){return SE(n,"overflowY")},HL=function(n){return SE(n,"overflowX")},by=function(n,e){var t=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=PE(n,o);if(a){var u=IE(n,o),h=u[1],m=u[2];if(h>m)return!0}o=o.parentNode}while(o&&o!==t.body);return!1},GL=function(n){var e=n.scrollTop,t=n.scrollHeight,o=n.clientHeight;return[e,t,o]},KL=function(n){var e=n.scrollLeft,t=n.scrollWidth,o=n.clientWidth;return[e,t,o]},PE=function(n,e){return n==="v"?WL(e):HL(e)},IE=function(n,e){return n==="v"?GL(e):KL(e)},ZL=function(n,e){return n==="h"&&e==="rtl"?-1:1},qL=function(n,e,t,o,a){var u=ZL(n,window.getComputedStyle(e).direction),h=u*o,m=t.target,g=e.contains(m),y=!1,x=h>0,C=0,S=0;do{var A=IE(n,m),M=A[0],b=A[1],N=A[2],B=b-N-u*M;(M||B)&&PE(n,m)&&(C+=B,S+=M),m instanceof ShadowRoot?m=m.host:m=m.parentNode}while(!g&&m!==document.body||g&&(e.contains(m)||e===m));return(x&&(Math.abs(C)<1||!a)||!x&&(Math.abs(S)<1||!a))&&(y=!0),y},Eh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},ky=function(n){return[n.deltaX,n.deltaY]},Ly=function(n){return n&&"current"in n?n.current:n},QL=function(n,e){return n[0]===e[0]&&n[1]===e[1]},YL=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},XL=0,vl=[];function JL(n){var e=I.useRef([]),t=I.useRef([0,0]),o=I.useRef(),a=I.useState(XL++)[0],u=I.useState(CE)[0],h=I.useRef(n);I.useEffect(function(){h.current=n},[n]),I.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var b=wL([n.lockRef.current],(n.shards||[]).map(Ly),!0).filter(Boolean);return b.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var m=I.useCallback(function(b,N){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!h.current.allowPinchZoom;var B=Eh(b),Z=t.current,Y="deltaX"in b?b.deltaX:Z[0]-B[0],q="deltaY"in b?b.deltaY:Z[1]-B[1],ee,ae=b.target,z=Math.abs(Y)>Math.abs(q)?"h":"v";if("touches"in b&&z==="h"&&ae.type==="range")return!1;var D=by(z,ae);if(!D)return!0;if(D?ee=z:(ee=z==="v"?"h":"v",D=by(z,ae)),!D)return!1;if(!o.current&&"changedTouches"in b&&(Y||q)&&(o.current=ee),!ee)return!0;var V=o.current||ee;return qL(V,N,b,V==="h"?Y:q,!0)},[]),g=I.useCallback(function(b){var N=b;if(!(!vl.length||vl[vl.length-1]!==u)){var B="deltaY"in N?ky(N):Eh(N),Z=e.current.filter(function(ee){return ee.name===N.type&&(ee.target===N.target||N.target===ee.shadowParent)&&QL(ee.delta,B)})[0];if(Z&&Z.should){N.cancelable&&N.preventDefault();return}if(!Z){var Y=(h.current.shards||[]).map(Ly).filter(Boolean).filter(function(ee){return ee.contains(N.target)}),q=Y.length>0?m(N,Y[0]):!h.current.noIsolation;q&&N.cancelable&&N.preventDefault()}}},[]),y=I.useCallback(function(b,N,B,Z){var Y={name:b,delta:N,target:B,should:Z,shadowParent:eM(B)};e.current.push(Y),setTimeout(function(){e.current=e.current.filter(function(q){return q!==Y})},1)},[]),x=I.useCallback(function(b){t.current=Eh(b),o.current=void 0},[]),C=I.useCallback(function(b){y(b.type,ky(b),b.target,m(b,n.lockRef.current))},[]),S=I.useCallback(function(b){y(b.type,Eh(b),b.target,m(b,n.lockRef.current))},[]);I.useEffect(function(){return vl.push(u),n.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:S}),document.addEventListener("wheel",g,_l),document.addEventListener("touchmove",g,_l),document.addEventListener("touchstart",x,_l),function(){vl=vl.filter(function(b){return b!==u}),document.removeEventListener("wheel",g,_l),document.removeEventListener("touchmove",g,_l),document.removeEventListener("touchstart",x,_l)}},[]);var A=n.removeScrollBar,M=n.inert;return I.createElement(I.Fragment,null,M?I.createElement(u,{styles:YL(a)}):null,A?I.createElement(UL,{gapMode:n.gapMode}):null)}function eM(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const tM=AL(TE,JL);var RE=I.forwardRef(function(n,e){return I.createElement(kd,Di({},n,{ref:e,sideCar:tM}))});RE.classNames=kd.classNames;var Yp=["Enter"," "],nM=["ArrowDown","PageUp","Home"],AE=["ArrowUp","PageDown","End"],rM=[...nM,...AE],iM={ltr:[...Yp,"ArrowRight"],rtl:[...Yp,"ArrowLeft"]},oM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},cc="Menu",[Xu,sM,aM]=Pd(cc),[Da,bE]=Hm(cc,[aM,iE,mE]),Ld=iE(),kE=mE(),[lM,Oa]=Da(cc),[uM,hc]=Da(cc),LE=n=>{const{__scopeMenu:e,open:t=!1,children:o,dir:a,onOpenChange:u,modal:h=!0}=n,m=Ld(e),[g,y]=I.useState(null),x=I.useRef(!1),C=mn(u),S=Gm(a);return I.useEffect(()=>{const A=()=>{x.current=!0,document.addEventListener("pointerdown",M,{capture:!0,once:!0}),document.addEventListener("pointermove",M,{capture:!0,once:!0})},M=()=>x.current=!1;return document.addEventListener("keydown",A,{capture:!0}),()=>{document.removeEventListener("keydown",A,{capture:!0}),document.removeEventListener("pointerdown",M,{capture:!0}),document.removeEventListener("pointermove",M,{capture:!0})}},[]),F.jsx(Zk,{...m,children:F.jsx(lM,{scope:e,open:t,onOpenChange:C,content:g,onContentChange:y,children:F.jsx(uM,{scope:e,onClose:I.useCallback(()=>C(!1),[C]),isUsingKeyboardRef:x,dir:S,modal:h,children:o})})})};LE.displayName=cc;var cM="MenuAnchor",rg=I.forwardRef((n,e)=>{const{__scopeMenu:t,...o}=n,a=Ld(t);return F.jsx(qk,{...a,...o,ref:e})});rg.displayName=cM;var ig="MenuPortal",[hM,ME]=Da(ig,{forceMount:void 0}),NE=n=>{const{__scopeMenu:e,forceMount:t,children:o,container:a}=n,u=Oa(ig,e);return F.jsx(hM,{scope:e,forceMount:t,children:F.jsx(Oo,{present:t||u.open,children:F.jsx(fE,{asChild:!0,container:a,children:o})})})};NE.displayName=ig;var Gr="MenuContent",[dM,og]=Da(Gr),DE=I.forwardRef((n,e)=>{const t=ME(Gr,n.__scopeMenu),{forceMount:o=t.forceMount,...a}=n,u=Oa(Gr,n.__scopeMenu),h=hc(Gr,n.__scopeMenu);return F.jsx(Xu.Provider,{scope:n.__scopeMenu,children:F.jsx(Oo,{present:o||u.open,children:F.jsx(Xu.Slot,{scope:n.__scopeMenu,children:h.modal?F.jsx(fM,{...a,ref:e}):F.jsx(pM,{...a,ref:e})})})})}),fM=I.forwardRef((n,e)=>{const t=Oa(Gr,n.__scopeMenu),o=I.useRef(null),a=sn(e,o);return I.useEffect(()=>{const u=o.current;if(u)return yL(u)},[]),F.jsx(sg,{...n,ref:a,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:$e(n.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),pM=I.forwardRef((n,e)=>{const t=Oa(Gr,n.__scopeMenu);return F.jsx(sg,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),sg=I.forwardRef((n,e)=>{const{__scopeMenu:t,loop:o=!1,trapFocus:a,onOpenAutoFocus:u,onCloseAutoFocus:h,disableOutsidePointerEvents:m,onEntryFocus:g,onEscapeKeyDown:y,onPointerDownOutside:x,onFocusOutside:C,onInteractOutside:S,onDismiss:A,disableOutsideScroll:M,...b}=n,N=Oa(Gr,t),B=hc(Gr,t),Z=Ld(t),Y=kE(t),q=sM(t),[ee,ae]=I.useState(null),z=I.useRef(null),D=sn(e,z,N.onContentChange),V=I.useRef(0),U=I.useRef(""),W=I.useRef(0),H=I.useRef(null),j=I.useRef("right"),be=I.useRef(0),nt=M?RE:I.Fragment,Re=M?{as:Ol,allowPinchZoom:!0}:void 0,Ne=he=>{var je,Ze;const ue=U.current+he,K=q().filter(Ye=>!Ye.disabled),ce=document.activeElement,we=(je=K.find(Ye=>Ye.ref.current===ce))==null?void 0:je.textValue,Pe=K.map(Ye=>Ye.textValue),Te=PM(Pe,ue,we),Ee=(Ze=K.find(Ye=>Ye.textValue===Te))==null?void 0:Ze.ref.current;(function Ye(yt){U.current=yt,window.clearTimeout(V.current),yt!==""&&(V.current=window.setTimeout(()=>Ye(""),1e3))})(ue),Ee&&setTimeout(()=>Ee.focus())};I.useEffect(()=>()=>window.clearTimeout(V.current),[]),bb();const ne=I.useCallback(he=>{var K,ce;return j.current===((K=H.current)==null?void 0:K.side)&&RM(he,(ce=H.current)==null?void 0:ce.area)},[]);return F.jsx(dM,{scope:t,searchRef:U,onItemEnter:I.useCallback(he=>{ne(he)&&he.preventDefault()},[ne]),onItemLeave:I.useCallback(he=>{var ue;ne(he)||((ue=z.current)==null||ue.focus(),ae(null))},[ne]),onTriggerLeave:I.useCallback(he=>{ne(he)&&he.preventDefault()},[ne]),pointerGraceTimerRef:W,onPointerGraceIntentChange:I.useCallback(he=>{H.current=he},[]),children:F.jsx(nt,{...Re,children:F.jsx(H0,{asChild:!0,trapped:a,onMountAutoFocus:$e(u,he=>{var ue;he.preventDefault(),(ue=z.current)==null||ue.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:F.jsx(Km,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:y,onPointerDownOutside:x,onFocusOutside:C,onInteractOutside:S,onDismiss:A,children:F.jsx(pL,{asChild:!0,...Y,dir:B.dir,orientation:"vertical",loop:o,currentTabStopId:ee,onCurrentTabStopIdChange:ae,onEntryFocus:$e(g,he=>{B.isUsingKeyboardRef.current||he.preventDefault()}),preventScrollOnEntryFocus:!0,children:F.jsx(Qk,{role:"menu","aria-orientation":"vertical","data-state":YE(N.open),"data-radix-menu-content":"",dir:B.dir,...Z,...b,ref:D,style:{outline:"none",...b.style},onKeyDown:$e(b.onKeyDown,he=>{const K=he.target.closest("[data-radix-menu-content]")===he.currentTarget,ce=he.ctrlKey||he.altKey||he.metaKey,we=he.key.length===1;K&&(he.key==="Tab"&&he.preventDefault(),!ce&&we&&Ne(he.key));const Pe=z.current;if(he.target!==Pe||!rM.includes(he.key))return;he.preventDefault();const Ee=q().filter(je=>!je.disabled).map(je=>je.ref.current);AE.includes(he.key)&&Ee.reverse(),CM(Ee)}),onBlur:$e(n.onBlur,he=>{he.currentTarget.contains(he.target)||(window.clearTimeout(V.current),U.current="")}),onPointerMove:$e(n.onPointerMove,Ju(he=>{const ue=he.target,K=be.current!==he.clientX;if(he.currentTarget.contains(ue)&&K){const ce=he.clientX>be.current?"right":"left";j.current=ce,be.current=he.clientX}}))})})})})})})});DE.displayName=Gr;var mM="MenuGroup",ag=I.forwardRef((n,e)=>{const{__scopeMenu:t,...o}=n;return F.jsx(Tt.div,{role:"group",...o,ref:e})});ag.displayName=mM;var gM="MenuLabel",OE=I.forwardRef((n,e)=>{const{__scopeMenu:t,...o}=n;return F.jsx(Tt.div,{...o,ref:e})});OE.displayName=gM;var ed="MenuItem",My="menu.itemSelect",Md=I.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:o,...a}=n,u=I.useRef(null),h=hc(ed,n.__scopeMenu),m=og(ed,n.__scopeMenu),g=sn(e,u),y=I.useRef(!1),x=()=>{const C=u.current;if(!t&&C){const S=new CustomEvent(My,{bubbles:!0,cancelable:!0});C.addEventListener(My,A=>o==null?void 0:o(A),{once:!0}),qh(C,S),S.defaultPrevented?y.current=!1:h.onClose()}};return F.jsx(VE,{...a,ref:g,disabled:t,onClick:$e(n.onClick,x),onPointerDown:C=>{var S;(S=n.onPointerDown)==null||S.call(n,C),y.current=!0},onPointerUp:$e(n.onPointerUp,C=>{var S;y.current||(S=C.currentTarget)==null||S.click()}),onKeyDown:$e(n.onKeyDown,C=>{const S=m.searchRef.current!=="";t||S&&C.key===" "||Yp.includes(C.key)&&(C.currentTarget.click(),C.preventDefault())})})});Md.displayName=ed;var VE=I.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:o=!1,textValue:a,...u}=n,h=og(ed,t),m=kE(t),g=I.useRef(null),y=sn(e,g),[x,C]=I.useState(!1),[S,A]=I.useState("");return I.useEffect(()=>{const M=g.current;M&&A((M.textContent??"").trim())},[u.children]),F.jsx(Xu.ItemSlot,{scope:t,disabled:o,textValue:a??S,children:F.jsx(mL,{asChild:!0,...m,focusable:!o,children:F.jsx(Tt.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...u,ref:y,onPointerMove:$e(n.onPointerMove,Ju(M=>{o?h.onItemLeave(M):(h.onItemEnter(M),M.defaultPrevented||M.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$e(n.onPointerLeave,Ju(M=>h.onItemLeave(M))),onFocus:$e(n.onFocus,()=>C(!0)),onBlur:$e(n.onBlur,()=>C(!1))})})})}),_M="MenuCheckboxItem",FE=I.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:o,...a}=n;return F.jsx($E,{scope:n.__scopeMenu,checked:t,children:F.jsx(Md,{role:"menuitemcheckbox","aria-checked":td(t)?"mixed":t,...a,ref:e,"data-state":ug(t),onSelect:$e(a.onSelect,()=>o==null?void 0:o(td(t)?!0:!t),{checkForDefaultPrevented:!1})})})});FE.displayName=_M;var zE="MenuRadioGroup",[vM,yM]=Da(zE,{value:void 0,onValueChange:()=>{}}),BE=I.forwardRef((n,e)=>{const{value:t,onValueChange:o,...a}=n,u=mn(o);return F.jsx(vM,{scope:n.__scopeMenu,value:t,onValueChange:u,children:F.jsx(ag,{...a,ref:e})})});BE.displayName=zE;var jE="MenuRadioItem",UE=I.forwardRef((n,e)=>{const{value:t,...o}=n,a=yM(jE,n.__scopeMenu),u=t===a.value;return F.jsx($E,{scope:n.__scopeMenu,checked:u,children:F.jsx(Md,{role:"menuitemradio","aria-checked":u,...o,ref:e,"data-state":ug(u),onSelect:$e(o.onSelect,()=>{var h;return(h=a.onValueChange)==null?void 0:h.call(a,t)},{checkForDefaultPrevented:!1})})})});UE.displayName=jE;var lg="MenuItemIndicator",[$E,wM]=Da(lg,{checked:!1}),WE=I.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:o,...a}=n,u=wM(lg,t);return F.jsx(Oo,{present:o||td(u.checked)||u.checked===!0,children:F.jsx(Tt.span,{...a,ref:e,"data-state":ug(u.checked)})})});WE.displayName=lg;var EM="MenuSeparator",HE=I.forwardRef((n,e)=>{const{__scopeMenu:t,...o}=n;return F.jsx(Tt.div,{role:"separator","aria-orientation":"horizontal",...o,ref:e})});HE.displayName=EM;var xM="MenuArrow",GE=I.forwardRef((n,e)=>{const{__scopeMenu:t,...o}=n,a=Ld(t);return F.jsx(Yk,{...a,...o,ref:e})});GE.displayName=xM;var TM="MenuSub",[eD,KE]=Da(TM),Nu="MenuSubTrigger",ZE=I.forwardRef((n,e)=>{const t=Oa(Nu,n.__scopeMenu),o=hc(Nu,n.__scopeMenu),a=KE(Nu,n.__scopeMenu),u=og(Nu,n.__scopeMenu),h=I.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:g}=u,y={__scopeMenu:n.__scopeMenu},x=I.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return I.useEffect(()=>x,[x]),I.useEffect(()=>{const C=m.current;return()=>{window.clearTimeout(C),g(null)}},[m,g]),F.jsx(rg,{asChild:!0,...y,children:F.jsx(VE,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":a.contentId,"data-state":YE(t.open),...n,ref:lc(e,a.onTriggerChange),onClick:C=>{var S;(S=n.onClick)==null||S.call(n,C),!(n.disabled||C.defaultPrevented)&&(C.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:$e(n.onPointerMove,Ju(C=>{u.onItemEnter(C),!C.defaultPrevented&&!n.disabled&&!t.open&&!h.current&&(u.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{t.onOpenChange(!0),x()},100))})),onPointerLeave:$e(n.onPointerLeave,Ju(C=>{var A,M;x();const S=(A=t.content)==null?void 0:A.getBoundingClientRect();if(S){const b=(M=t.content)==null?void 0:M.dataset.side,N=b==="right",B=N?-5:5,Z=S[N?"left":"right"],Y=S[N?"right":"left"];u.onPointerGraceIntentChange({area:[{x:C.clientX+B,y:C.clientY},{x:Z,y:S.top},{x:Y,y:S.top},{x:Y,y:S.bottom},{x:Z,y:S.bottom}],side:b}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>u.onPointerGraceIntentChange(null),300)}else{if(u.onTriggerLeave(C),C.defaultPrevented)return;u.onPointerGraceIntentChange(null)}})),onKeyDown:$e(n.onKeyDown,C=>{var A;const S=u.searchRef.current!=="";n.disabled||S&&C.key===" "||iM[o.dir].includes(C.key)&&(t.onOpenChange(!0),(A=t.content)==null||A.focus(),C.preventDefault())})})})});ZE.displayName=Nu;var qE="MenuSubContent",QE=I.forwardRef((n,e)=>{const t=ME(Gr,n.__scopeMenu),{forceMount:o=t.forceMount,...a}=n,u=Oa(Gr,n.__scopeMenu),h=hc(Gr,n.__scopeMenu),m=KE(qE,n.__scopeMenu),g=I.useRef(null),y=sn(e,g);return F.jsx(Xu.Provider,{scope:n.__scopeMenu,children:F.jsx(Oo,{present:o||u.open,children:F.jsx(Xu.Slot,{scope:n.__scopeMenu,children:F.jsx(sg,{id:m.contentId,"aria-labelledby":m.triggerId,...a,ref:y,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var C;h.isUsingKeyboardRef.current&&((C=g.current)==null||C.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:$e(n.onFocusOutside,x=>{x.target!==m.trigger&&u.onOpenChange(!1)}),onEscapeKeyDown:$e(n.onEscapeKeyDown,x=>{h.onClose(),x.preventDefault()}),onKeyDown:$e(n.onKeyDown,x=>{var A;const C=x.currentTarget.contains(x.target),S=oM[h.dir].includes(x.key);C&&S&&(u.onOpenChange(!1),(A=m.trigger)==null||A.focus(),x.preventDefault())})})})})})});QE.displayName=qE;function YE(n){return n?"open":"closed"}function td(n){return n==="indeterminate"}function ug(n){return td(n)?"indeterminate":n?"checked":"unchecked"}function CM(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function SM(n,e){return n.map((t,o)=>n[(e+o)%n.length])}function PM(n,e,t){const a=e.length>1&&Array.from(e).every(y=>y===e[0])?e[0]:e,u=t?n.indexOf(t):-1;let h=SM(n,Math.max(u,0));a.length===1&&(h=h.filter(y=>y!==t));const g=h.find(y=>y.toLowerCase().startsWith(a.toLowerCase()));return g!==t?g:void 0}function IM(n,e){const{x:t,y:o}=n;let a=!1;for(let u=0,h=e.length-1;u<e.length;h=u++){const m=e[u].x,g=e[u].y,y=e[h].x,x=e[h].y;g>o!=x>o&&t<(y-m)*(o-g)/(x-g)+m&&(a=!a)}return a}function RM(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return IM(t,e)}function Ju(n){return e=>e.pointerType==="mouse"?n(e):void 0}var AM=LE,bM=rg,kM=NE,LM=DE,MM=ag,NM=OE,DM=Md,OM=FE,VM=BE,FM=UE,zM=WE,BM=HE,jM=GE,UM=ZE,$M=QE,cg="DropdownMenu",[WM,tD]=Hm(cg,[bE]),Hn=bE(),[HM,XE]=WM(cg),JE=n=>{const{__scopeDropdownMenu:e,children:t,dir:o,open:a,defaultOpen:u,onOpenChange:h,modal:m=!0}=n,g=Hn(e),y=I.useRef(null),[x=!1,C]=Sd({prop:a,defaultProp:u,onChange:h});return F.jsx(HM,{scope:e,triggerId:qu(),triggerRef:y,contentId:qu(),open:x,onOpenChange:C,onOpenToggle:I.useCallback(()=>C(S=>!S),[C]),modal:m,children:F.jsx(AM,{...g,open:x,onOpenChange:C,dir:o,modal:m,children:t})})};JE.displayName=cg;var ex="DropdownMenuTrigger",tx=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:o=!1,...a}=n,u=XE(ex,t),h=Hn(t);return F.jsx(bM,{asChild:!0,...h,children:F.jsx(Tt.button,{type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":u.open,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...a,ref:lc(e,u.triggerRef),onPointerDown:$e(n.onPointerDown,m=>{!o&&m.button===0&&m.ctrlKey===!1&&(u.onOpenToggle(),u.open||m.preventDefault())}),onKeyDown:$e(n.onKeyDown,m=>{o||(["Enter"," "].includes(m.key)&&u.onOpenToggle(),m.key==="ArrowDown"&&u.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(m.key)&&m.preventDefault())})})})});tx.displayName=ex;var GM="DropdownMenuPortal",nx=n=>{const{__scopeDropdownMenu:e,...t}=n,o=Hn(e);return F.jsx(kM,{...o,...t})};nx.displayName=GM;var rx="DropdownMenuContent",ix=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...o}=n,a=XE(rx,t),u=Hn(t),h=I.useRef(!1);return F.jsx(LM,{id:a.contentId,"aria-labelledby":a.triggerId,...u,...o,ref:e,onCloseAutoFocus:$e(n.onCloseAutoFocus,m=>{var g;h.current||(g=a.triggerRef.current)==null||g.focus(),h.current=!1,m.preventDefault()}),onInteractOutside:$e(n.onInteractOutside,m=>{const g=m.detail.originalEvent,y=g.button===0&&g.ctrlKey===!0,x=g.button===2||y;(!a.modal||x)&&(h.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ix.displayName=rx;var KM="DropdownMenuGroup",ZM=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...o}=n,a=Hn(t);return F.jsx(MM,{...a,...o,ref:e})});ZM.displayName=KM;var qM="DropdownMenuLabel",ox=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...o}=n,a=Hn(t);return F.jsx(NM,{...a,...o,ref:e})});ox.displayName=qM;var QM="DropdownMenuItem",sx=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...o}=n,a=Hn(t);return F.jsx(DM,{...a,...o,ref:e})});sx.displayName=QM;var YM="DropdownMenuCheckboxItem",ax=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...o}=n,a=Hn(t);return F.jsx(OM,{...a,...o,ref:e})});ax.displayName=YM;var XM="DropdownMenuRadioGroup",JM=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...o}=n,a=Hn(t);return F.jsx(VM,{...a,...o,ref:e})});JM.displayName=XM;var eN="DropdownMenuRadioItem",lx=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...o}=n,a=Hn(t);return F.jsx(FM,{...a,...o,ref:e})});lx.displayName=eN;var tN="DropdownMenuItemIndicator",ux=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...o}=n,a=Hn(t);return F.jsx(zM,{...a,...o,ref:e})});ux.displayName=tN;var nN="DropdownMenuSeparator",cx=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...o}=n,a=Hn(t);return F.jsx(BM,{...a,...o,ref:e})});cx.displayName=nN;var rN="DropdownMenuArrow",iN=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...o}=n,a=Hn(t);return F.jsx(jM,{...a,...o,ref:e})});iN.displayName=rN;var oN="DropdownMenuSubTrigger",hx=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...o}=n,a=Hn(t);return F.jsx(UM,{...a,...o,ref:e})});hx.displayName=oN;var sN="DropdownMenuSubContent",dx=I.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...o}=n,a=Hn(t);return F.jsx($M,{...a,...o,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dx.displayName=sN;var aN=JE,lN=tx,uN=nx,fx=ix,px=ox,mx=sx,gx=ax,_x=lx,vx=ux,yx=cx,wx=hx,Ex=dx;/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xx=(...n)=>n.filter((e,t,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:o,className:a="",children:u,iconNode:h,...m},g)=>I.createElement("svg",{ref:g,...hN,width:e,height:e,stroke:n,strokeWidth:o?Number(t)*24/Number(e):t,className:xx("lucide",a),...m},[...h.map(([y,x])=>I.createElement(y,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=(n,e)=>{const t=I.forwardRef(({className:o,...a},u)=>I.createElement(dN,{ref:u,iconNode:e,className:xx(`lucide-${cN(n)}`,o),...a}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=ql("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=ql("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=ql("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=ql("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=ql("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=ql("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Xp=aN,Jp=lN,vN=I.forwardRef(({className:n,inset:e,children:t,...o},a)=>F.jsxs(wx,{ref:a,className:At("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...o,children:[t,F.jsx(mN,{className:"ml-auto"})]}));vN.displayName=wx.displayName;const yN=I.forwardRef(({className:n,...e},t)=>F.jsx(Ex,{ref:t,className:At("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));yN.displayName=Ex.displayName;const nd=I.forwardRef(({className:n,sideOffset:e=4,...t},o)=>F.jsx(uN,{children:F.jsx(fx,{ref:o,sideOffset:e,className:At("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));nd.displayName=fx.displayName;const zu=I.forwardRef(({className:n,inset:e,...t},o)=>F.jsx(mx,{ref:o,className:At("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...t}));zu.displayName=mx.displayName;const wN=I.forwardRef(({className:n,children:e,checked:t,...o},a)=>F.jsxs(gx,{ref:a,className:At("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...o,children:[F.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:F.jsx(vx,{children:F.jsx(fN,{className:"h-4 w-4"})})}),e]}));wN.displayName=gx.displayName;const EN=I.forwardRef(({className:n,children:e,...t},o)=>F.jsxs(_x,{ref:o,className:At("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[F.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:F.jsx(vx,{children:F.jsx(gN,{className:"h-2 w-2 fill-current"})})}),e]}));EN.displayName=_x.displayName;const xN=I.forwardRef(({className:n,inset:e,...t},o)=>F.jsx(px,{ref:o,className:At("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));xN.displayName=px.displayName;const TN=I.forwardRef(({className:n,...e},t)=>F.jsx(yx,{ref:t,className:At("-mx-1 my-1 h-px bg-muted",n),...e}));TN.displayName=yx.displayName;function CN(n){const e=I.useRef({value:n,previous:n});return I.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var SN="VisuallyHidden",Cx=I.forwardRef((n,e)=>F.jsx(Tt.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Cx.displayName=SN;var PN=Cx,Ql="NavigationMenu",[hg,Sx,IN]=Pd(Ql),[em,RN,AN]=Pd(Ql),[dg,nD]=Hm(Ql,[IN,AN]),[bN,Kr]=dg(Ql),[kN,LN]=dg(Ql),Px=I.forwardRef((n,e)=>{const{__scopeNavigationMenu:t,value:o,onValueChange:a,defaultValue:u,delayDuration:h=200,skipDelayDuration:m=300,orientation:g="horizontal",dir:y,...x}=n,[C,S]=I.useState(null),A=sn(e,V=>S(V)),M=Gm(y),b=I.useRef(0),N=I.useRef(0),B=I.useRef(0),[Z,Y]=I.useState(!0),[q="",ee]=Sd({prop:o,onChange:V=>{const U=V!=="",W=m>0;U?(window.clearTimeout(B.current),W&&Y(!1)):(window.clearTimeout(B.current),B.current=window.setTimeout(()=>Y(!0),m)),a==null||a(V)},defaultProp:u}),ae=I.useCallback(()=>{window.clearTimeout(N.current),N.current=window.setTimeout(()=>ee(""),150)},[ee]),z=I.useCallback(V=>{window.clearTimeout(N.current),ee(V)},[ee]),D=I.useCallback(V=>{q===V?window.clearTimeout(N.current):b.current=window.setTimeout(()=>{window.clearTimeout(N.current),ee(V)},h)},[q,ee,h]);return I.useEffect(()=>()=>{window.clearTimeout(b.current),window.clearTimeout(N.current),window.clearTimeout(B.current)},[]),F.jsx(Rx,{scope:t,isRootMenu:!0,value:q,dir:M,orientation:g,rootNavigationMenu:C,onTriggerEnter:V=>{window.clearTimeout(b.current),Z?D(V):z(V)},onTriggerLeave:()=>{window.clearTimeout(b.current),ae()},onContentEnter:()=>window.clearTimeout(N.current),onContentLeave:ae,onItemSelect:V=>{ee(U=>U===V?"":V)},onItemDismiss:()=>ee(""),children:F.jsx(Tt.nav,{"aria-label":"Main","data-orientation":g,dir:M,...x,ref:A})})});Px.displayName=Ql;var Ix="NavigationMenuSub",MN=I.forwardRef((n,e)=>{const{__scopeNavigationMenu:t,value:o,onValueChange:a,defaultValue:u,orientation:h="horizontal",...m}=n,g=Kr(Ix,t),[y="",x]=Sd({prop:o,onChange:a,defaultProp:u});return F.jsx(Rx,{scope:t,isRootMenu:!1,value:y,dir:g.dir,orientation:h,rootNavigationMenu:g.rootNavigationMenu,onTriggerEnter:C=>x(C),onItemSelect:C=>x(C),onItemDismiss:()=>x(""),children:F.jsx(Tt.div,{"data-orientation":h,...m,ref:e})})});MN.displayName=Ix;var Rx=n=>{const{scope:e,isRootMenu:t,rootNavigationMenu:o,dir:a,orientation:u,children:h,value:m,onItemSelect:g,onItemDismiss:y,onTriggerEnter:x,onTriggerLeave:C,onContentEnter:S,onContentLeave:A}=n,[M,b]=I.useState(null),[N,B]=I.useState(new Map),[Z,Y]=I.useState(null);return F.jsx(bN,{scope:e,isRootMenu:t,rootNavigationMenu:o,value:m,previousValue:CN(m),baseId:qu(),dir:a,orientation:u,viewport:M,onViewportChange:b,indicatorTrack:Z,onIndicatorTrackChange:Y,onTriggerEnter:mn(x),onTriggerLeave:mn(C),onContentEnter:mn(S),onContentLeave:mn(A),onItemSelect:mn(g),onItemDismiss:mn(y),onViewportContentChange:I.useCallback((q,ee)=>{B(ae=>(ae.set(q,ee),new Map(ae)))},[]),onViewportContentRemove:I.useCallback(q=>{B(ee=>ee.has(q)?(ee.delete(q),new Map(ee)):ee)},[]),children:F.jsx(hg.Provider,{scope:e,children:F.jsx(kN,{scope:e,items:N,children:h})})})},Ax="NavigationMenuList",bx=I.forwardRef((n,e)=>{const{__scopeNavigationMenu:t,...o}=n,a=Kr(Ax,t),u=F.jsx(Tt.ul,{"data-orientation":a.orientation,...o,ref:e});return F.jsx(Tt.div,{style:{position:"relative"},ref:a.onIndicatorTrackChange,children:F.jsx(hg.Slot,{scope:t,children:a.isRootMenu?F.jsx(zx,{asChild:!0,children:u}):u})})});bx.displayName=Ax;var kx="NavigationMenuItem",[NN,Lx]=dg(kx),Mx=I.forwardRef((n,e)=>{const{__scopeNavigationMenu:t,value:o,...a}=n,u=qu(),h=o||u||"LEGACY_REACT_AUTO_VALUE",m=I.useRef(null),g=I.useRef(null),y=I.useRef(null),x=I.useRef(()=>{}),C=I.useRef(!1),S=I.useCallback((M="start")=>{if(m.current){x.current();const b=nm(m.current);b.length&&mg(M==="start"?b:b.reverse())}},[]),A=I.useCallback(()=>{if(m.current){const M=nm(m.current);M.length&&(x.current=UN(M))}},[]);return F.jsx(NN,{scope:t,value:h,triggerRef:g,contentRef:m,focusProxyRef:y,wasEscapeCloseRef:C,onEntryKeyDown:S,onFocusProxyEnter:S,onRootContentClose:A,onContentFocusOutside:A,children:F.jsx(Tt.li,{...a,ref:e})})});Mx.displayName=kx;var tm="NavigationMenuTrigger",Nx=I.forwardRef((n,e)=>{const{__scopeNavigationMenu:t,disabled:o,...a}=n,u=Kr(tm,n.__scopeNavigationMenu),h=Lx(tm,n.__scopeNavigationMenu),m=I.useRef(null),g=sn(m,h.triggerRef,e),y=jx(u.baseId,h.value),x=Ux(u.baseId,h.value),C=I.useRef(!1),S=I.useRef(!1),A=h.value===u.value;return F.jsxs(F.Fragment,{children:[F.jsx(hg.ItemSlot,{scope:t,value:h.value,children:F.jsx(Bx,{asChild:!0,children:F.jsx(Tt.button,{id:y,disabled:o,"data-disabled":o?"":void 0,"data-state":gg(A),"aria-expanded":A,"aria-controls":x,...a,ref:g,onPointerEnter:$e(n.onPointerEnter,()=>{S.current=!1,h.wasEscapeCloseRef.current=!1}),onPointerMove:$e(n.onPointerMove,rd(()=>{o||S.current||h.wasEscapeCloseRef.current||C.current||(u.onTriggerEnter(h.value),C.current=!0)})),onPointerLeave:$e(n.onPointerLeave,rd(()=>{o||(u.onTriggerLeave(),C.current=!1)})),onClick:$e(n.onClick,()=>{u.onItemSelect(h.value),S.current=A}),onKeyDown:$e(n.onKeyDown,M=>{const N={horizontal:"ArrowDown",vertical:u.dir==="rtl"?"ArrowLeft":"ArrowRight"}[u.orientation];A&&M.key===N&&(h.onEntryKeyDown(),M.preventDefault())})})})}),A&&F.jsxs(F.Fragment,{children:[F.jsx(PN,{"aria-hidden":!0,tabIndex:0,ref:h.focusProxyRef,onFocus:M=>{const b=h.contentRef.current,N=M.relatedTarget,B=N===m.current,Z=b==null?void 0:b.contains(N);(B||!Z)&&h.onFocusProxyEnter(B?"start":"end")}}),u.viewport&&F.jsx("span",{"aria-owns":x})]})]})});Nx.displayName=tm;var DN="NavigationMenuLink",Ny="navigationMenu.linkSelect",ON=I.forwardRef((n,e)=>{const{__scopeNavigationMenu:t,active:o,onSelect:a,...u}=n;return F.jsx(Bx,{asChild:!0,children:F.jsx(Tt.a,{"data-active":o?"":void 0,"aria-current":o?"page":void 0,...u,ref:e,onClick:$e(n.onClick,h=>{const m=h.target,g=new CustomEvent(Ny,{bubbles:!0,cancelable:!0});if(m.addEventListener(Ny,y=>a==null?void 0:a(y),{once:!0}),qh(m,g),!g.defaultPrevented&&!h.metaKey){const y=new CustomEvent(Mh,{bubbles:!0,cancelable:!0});qh(m,y)}},{checkForDefaultPrevented:!1})})})});ON.displayName=DN;var fg="NavigationMenuIndicator",Dx=I.forwardRef((n,e)=>{const{forceMount:t,...o}=n,a=Kr(fg,n.__scopeNavigationMenu),u=!!a.value;return a.indicatorTrack?ew.createPortal(F.jsx(Oo,{present:t||u,children:F.jsx(VN,{...o,ref:e})}),a.indicatorTrack):null});Dx.displayName=fg;var VN=I.forwardRef((n,e)=>{const{__scopeNavigationMenu:t,...o}=n,a=Kr(fg,t),u=Sx(t),[h,m]=I.useState(null),[g,y]=I.useState(null),x=a.orientation==="horizontal",C=!!a.value;I.useEffect(()=>{var b;const M=(b=u().find(N=>N.value===a.value))==null?void 0:b.ref.current;M&&m(M)},[u,a.value]);const S=()=>{h&&y({size:x?h.offsetWidth:h.offsetHeight,offset:x?h.offsetLeft:h.offsetTop})};return rm(h,S),rm(a.indicatorTrack,S),g?F.jsx(Tt.div,{"aria-hidden":!0,"data-state":C?"visible":"hidden","data-orientation":a.orientation,...o,ref:e,style:{position:"absolute",...x?{left:0,width:g.size+"px",transform:`translateX(${g.offset}px)`}:{top:0,height:g.size+"px",transform:`translateY(${g.offset}px)`},...o.style}}):null}),Fl="NavigationMenuContent",Ox=I.forwardRef((n,e)=>{const{forceMount:t,...o}=n,a=Kr(Fl,n.__scopeNavigationMenu),u=Lx(Fl,n.__scopeNavigationMenu),h=sn(u.contentRef,e),m=u.value===a.value,g={value:u.value,triggerRef:u.triggerRef,focusProxyRef:u.focusProxyRef,wasEscapeCloseRef:u.wasEscapeCloseRef,onContentFocusOutside:u.onContentFocusOutside,onRootContentClose:u.onRootContentClose,...o};return a.viewport?F.jsx(FN,{forceMount:t,...g,ref:h}):F.jsx(Oo,{present:t||m,children:F.jsx(Vx,{"data-state":gg(m),...g,ref:h,onPointerEnter:$e(n.onPointerEnter,a.onContentEnter),onPointerLeave:$e(n.onPointerLeave,rd(a.onContentLeave)),style:{pointerEvents:!m&&a.isRootMenu?"none":void 0,...g.style}})})});Ox.displayName=Fl;var FN=I.forwardRef((n,e)=>{const t=Kr(Fl,n.__scopeNavigationMenu),{onViewportContentChange:o,onViewportContentRemove:a}=t;return Ui(()=>{o(n.value,{ref:e,...n})},[n,e,o]),Ui(()=>()=>a(n.value),[n.value,a]),null}),Mh="navigationMenu.rootContentDismiss",Vx=I.forwardRef((n,e)=>{const{__scopeNavigationMenu:t,value:o,triggerRef:a,focusProxyRef:u,wasEscapeCloseRef:h,onRootContentClose:m,onContentFocusOutside:g,...y}=n,x=Kr(Fl,t),C=I.useRef(null),S=sn(C,e),A=jx(x.baseId,o),M=Ux(x.baseId,o),b=Sx(t),N=I.useRef(null),{onItemDismiss:B}=x;I.useEffect(()=>{const Y=C.current;if(x.isRootMenu&&Y){const q=()=>{var ee;B(),m(),Y.contains(document.activeElement)&&((ee=a.current)==null||ee.focus())};return Y.addEventListener(Mh,q),()=>Y.removeEventListener(Mh,q)}},[x.isRootMenu,n.value,a,B,m]);const Z=I.useMemo(()=>{const q=b().map(U=>U.value);x.dir==="rtl"&&q.reverse();const ee=q.indexOf(x.value),ae=q.indexOf(x.previousValue),z=o===x.value,D=ae===q.indexOf(o);if(!z&&!D)return N.current;const V=(()=>{if(ee!==ae){if(z&&ae!==-1)return ee>ae?"from-end":"from-start";if(D&&ee!==-1)return ee>ae?"to-start":"to-end"}return null})();return N.current=V,V},[x.previousValue,x.value,x.dir,b,o]);return F.jsx(zx,{asChild:!0,children:F.jsx(Km,{id:M,"aria-labelledby":A,"data-motion":Z,"data-orientation":x.orientation,...y,ref:S,disableOutsidePointerEvents:!1,onDismiss:()=>{var q;const Y=new Event(Mh,{bubbles:!0,cancelable:!0});(q=C.current)==null||q.dispatchEvent(Y)},onFocusOutside:$e(n.onFocusOutside,Y=>{var ee;g();const q=Y.target;(ee=x.rootNavigationMenu)!=null&&ee.contains(q)&&Y.preventDefault()}),onPointerDownOutside:$e(n.onPointerDownOutside,Y=>{var z;const q=Y.target,ee=b().some(D=>{var V;return(V=D.ref.current)==null?void 0:V.contains(q)}),ae=x.isRootMenu&&((z=x.viewport)==null?void 0:z.contains(q));(ee||ae||!x.isRootMenu)&&Y.preventDefault()}),onKeyDown:$e(n.onKeyDown,Y=>{var ae;const q=Y.altKey||Y.ctrlKey||Y.metaKey;if(Y.key==="Tab"&&!q){const z=nm(Y.currentTarget),D=document.activeElement,V=z.findIndex(H=>H===D),W=Y.shiftKey?z.slice(0,V).reverse():z.slice(V+1,z.length);mg(W)?Y.preventDefault():(ae=u.current)==null||ae.focus()}}),onEscapeKeyDown:$e(n.onEscapeKeyDown,Y=>{h.current=!0})})})}),pg="NavigationMenuViewport",Fx=I.forwardRef((n,e)=>{const{forceMount:t,...o}=n,u=!!Kr(pg,n.__scopeNavigationMenu).value;return F.jsx(Oo,{present:t||u,children:F.jsx(zN,{...o,ref:e})})});Fx.displayName=pg;var zN=I.forwardRef((n,e)=>{const{__scopeNavigationMenu:t,children:o,...a}=n,u=Kr(pg,t),h=sn(e,u.onViewportChange),m=LN(Fl,n.__scopeNavigationMenu),[g,y]=I.useState(null),[x,C]=I.useState(null),S=g?(g==null?void 0:g.width)+"px":void 0,A=g?(g==null?void 0:g.height)+"px":void 0,M=!!u.value,b=M?u.value:u.previousValue;return rm(x,()=>{x&&y({width:x.offsetWidth,height:x.offsetHeight})}),F.jsx(Tt.div,{"data-state":gg(M),"data-orientation":u.orientation,...a,ref:h,style:{pointerEvents:!M&&u.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":S,"--radix-navigation-menu-viewport-height":A,...a.style},onPointerEnter:$e(n.onPointerEnter,u.onContentEnter),onPointerLeave:$e(n.onPointerLeave,rd(u.onContentLeave)),children:Array.from(m.items).map(([B,{ref:Z,forceMount:Y,...q}])=>{const ee=b===B;return F.jsx(Oo,{present:Y||ee,children:F.jsx(Vx,{...q,ref:lc(Z,ae=>{ee&&ae&&C(ae)})})},B)})})}),BN="FocusGroup",zx=I.forwardRef((n,e)=>{const{__scopeNavigationMenu:t,...o}=n,a=Kr(BN,t);return F.jsx(em.Provider,{scope:t,children:F.jsx(em.Slot,{scope:t,children:F.jsx(Tt.div,{dir:a.dir,...o,ref:e})})})}),Dy=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],jN="FocusGroupItem",Bx=I.forwardRef((n,e)=>{const{__scopeNavigationMenu:t,...o}=n,a=RN(t),u=Kr(jN,t);return F.jsx(em.ItemSlot,{scope:t,children:F.jsx(Tt.button,{...o,ref:e,onKeyDown:$e(n.onKeyDown,h=>{if(["Home","End",...Dy].includes(h.key)){let g=a().map(C=>C.ref.current);if([u.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(h.key)&&g.reverse(),Dy.includes(h.key)){const C=g.indexOf(h.currentTarget);g=g.slice(C+1)}setTimeout(()=>mg(g)),h.preventDefault()}})})})});function nm(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function mg(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}function UN(n){return n.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{n.forEach(e=>{const t=e.dataset.tabindex;e.setAttribute("tabindex",t)})}}function rm(n,e){const t=mn(e);Ui(()=>{let o=0;if(n){const a=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(t)});return a.observe(n),()=>{window.cancelAnimationFrame(o),a.unobserve(n)}}},[n,t])}function gg(n){return n?"open":"closed"}function jx(n,e){return`${n}-trigger-${e}`}function Ux(n,e){return`${n}-content-${e}`}function rd(n){return e=>e.pointerType==="mouse"?n(e):void 0}var $x=Px,Wx=bx,$N=Mx,Hx=Nx,Gx=Dx,Kx=Ox,Zx=Fx;const _g=I.forwardRef(({className:n,children:e,...t},o)=>F.jsxs($x,{ref:o,className:At("relative z-10 flex max-w-max flex-1 items-center justify-center",n),...t,children:[e,F.jsx(yg,{})]}));_g.displayName=$x.displayName;const vg=I.forwardRef(({className:n,...e},t)=>F.jsx(Wx,{ref:t,className:At("group flex flex-1 list-none items-center justify-center space-x-1",n),...e}));vg.displayName=Wx.displayName;const qx=$N,WN=U0("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),Qx=I.forwardRef(({className:n,children:e,...t},o)=>F.jsxs(Hx,{ref:o,className:At(WN(),"group",n),...t,children:[e," ",F.jsx(pN,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));Qx.displayName=Hx.displayName;const HN=I.forwardRef(({className:n,...e},t)=>F.jsx(Kx,{ref:t,className:At("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",n),...e}));HN.displayName=Kx.displayName;const yg=I.forwardRef(({className:n,...e},t)=>F.jsx("div",{className:At("absolute left-0 top-full flex justify-center"),children:F.jsx(Zx,{className:At("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",n),ref:t,...e})}));yg.displayName=Zx.displayName;const Yx=I.forwardRef(({className:n,...e},t)=>F.jsx(Gx,{ref:t,className:At("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",n),...e,children:F.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));Yx.displayName=Gx.displayName;function GN(){const[n,e]=I.useState([]),[t,o]=I.useState(""),[a,u]=I.useState(null),[h,m]=I.useState(!1),[g,y]=I.useState(!0),[x,C]=I.useState("asc"),[S,A]=I.useState("name"),[M,b]=I.useState(""),[N,B]=I.useState([]);I.useEffect(()=>{(async()=>{try{const D=(await R0(zp(Lu,"profiles"))).docs.map(U=>({id:U.id,...U.data()})),V=[...new Set(D.map(U=>U.interest).filter(Boolean))];B(V),e(D),y(!1)}catch{y(!1)}})()},[]);const Z=I.useMemo(()=>{let ae=[...n];if(t){const z=t.toLowerCase().trim();ae=ae.filter(D=>D.name.toLowerCase().includes(z)||D.description&&D.description.toLowerCase().includes(z)||D.interest&&D.interest.toLowerCase().includes(z))}return M&&(ae=ae.filter(z=>z.interest===M)),ae.sort((z,D)=>S==="name"?x==="asc"?z.name.localeCompare(D.name):D.name.localeCompare(z.name):0),ae},[n,t,x,S,M]),Y=()=>{C(ae=>ae==="asc"?"desc":"asc")},q=ae=>{u(ae),m(!0)},ee=()=>{m(!1),u(null)};return g?F.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[F.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500 border-solid"}),F.jsx("p",{className:"ml-4 text-lg font-medium",children:"Loading profiles..."})]}):F.jsxs("div",{className:"w-full min-h-screen px-10 py-10 bg-gray-100",children:[F.jsx("h1",{className:"text-4xl font-bold text-center mb-6",children:"Employee Directory"}),F.jsx(_g,{className:"w-full mb-6",children:F.jsxs(vg,{className:"flex justify-between items-center",children:[F.jsx(qx,{className:"flex items-center space-x-2 w-full",children:F.jsxs("div",{className:"relative w-full max-w-md",children:[F.jsx(Ni,{className:"w-full pl-10",placeholder:"Search by name, description, or interest...",value:t,size:95,onChange:ae=>o(ae.target.value)}),F.jsx(Tx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",size:20})]})}),F.jsxs("div",{className:"flex items-center space-x-2",children:[F.jsxs(Xp,{children:[F.jsx(Jp,{asChild:!0,children:F.jsxs(Ro,{className:"bg-gray-300",children:["Sort (",x==="asc"?"A-Z":"Z-A",")"]})}),F.jsx(nd,{children:F.jsx(zu,{onClick:Y,children:"Toggle Sort Order"})})]}),F.jsxs(Xp,{children:[F.jsx(Jp,{asChild:!0,children:F.jsxs(Ro,{className:"bg-gray-300",children:[F.jsx(_N,{className:"mr-2",size:16})," Filter Interests"]})}),F.jsxs(nd,{children:[F.jsx(zu,{onClick:()=>b(""),className:M===""?"font-bold":"",children:"All Interests"}),N.map(ae=>F.jsx(zu,{onClick:()=>b(ae),className:M===ae?"font-bold":"",children:ae},ae))]})]})]})]})}),Z.length>0?F.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.map(ae=>F.jsx(kA,{profile:ae,onClick:()=>q(ae)},ae.id))}):F.jsx("div",{className:"text-center text-gray-500 mt-10",children:"No profiles found matching your search criteria."}),h&&a&&F.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center z-50",children:F.jsxs("div",{className:"bg-white p-6 shadow-lg rounded-lg max-w-md w-full",children:[F.jsx("h3",{className:"text-xl font-semibold mb-4",children:a.name}),a.photographUrl&&F.jsxs("div",{className:"flex justify-center mb-4",children:[" ",F.jsx("img",{src:a.photographUrl,alt:a.name,className:"w-48 h-48 object-cover rounded-lg"})]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Description:"})," ",a.description]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Contact :"})," ",a.contactInfo]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Interests:"})," ",a.interest]}),F.jsx("div",{className:"flex justify-between items-center mt-4",children:F.jsx("button",{type:"button",className:"text-red-500",onClick:ee,children:"Close"})})]})})]})}const Xx=I.forwardRef(({className:n,...e},t)=>F.jsx("div",{className:"relative w-full overflow-auto",children:F.jsx("table",{ref:t,className:At("w-full caption-bottom text-sm",n),...e})}));Xx.displayName="Table";const Jx=I.forwardRef(({className:n,...e},t)=>F.jsx("thead",{ref:t,className:At("[&_tr]:border-b",n),...e}));Jx.displayName="TableHeader";const eT=I.forwardRef(({className:n,...e},t)=>F.jsx("tbody",{ref:t,className:At("[&_tr:last-child]:border-0",n),...e}));eT.displayName="TableBody";const tT=I.forwardRef(({className:n,...e},t)=>F.jsx("tfoot",{ref:t,className:At("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));tT.displayName="TableFooter";const Nh=I.forwardRef(({className:n,...e},t)=>F.jsx("tr",{ref:t,className:At("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));Nh.displayName="TableRow";const Tl=I.forwardRef(({className:n,...e},t)=>F.jsx("th",{ref:t,className:At("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...e}));Tl.displayName="TableHead";const Pa=I.forwardRef(({className:n,...e},t)=>F.jsx("td",{ref:t,className:At("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...e}));Pa.displayName="TableCell";const KN=I.forwardRef(({className:n,...e},t)=>F.jsx("caption",{ref:t,className:At("mt-4 text-sm text-muted-foreground",n),...e}));KN.displayName="TableCaption";const ZN=()=>{const[n,e]=I.useState([]),[t,o]=I.useState(!1),[a,u]=I.useState(!1),[h,m]=I.useState(null),[g,y]=I.useState(""),[x,C]=I.useState("asc"),[S,A]=I.useState({name:"",photographUrl:"",description:"",longitude:"",latitude:"",contactInfo:"",interest:""});I.useEffect(()=>{(async()=>{try{const ae=(await R0(zp(Lu,"profiles"))).docs.map(z=>({id:z.id,...z.data()}));e(ae)}catch(ee){console.error("Error fetching profiles:",ee)}})()},[]);const b=[...n.filter(q=>q.name.toLowerCase().includes(g.toLowerCase()))].sort((q,ee)=>x==="asc"?q.name.localeCompare(ee.name):ee.name.localeCompare(q.name)),N=()=>{C(q=>q==="asc"?"desc":"asc")},B=async()=>{for(const[q,ee]of Object.entries(S))if(!ee.trim()){alert(`Please fill in the ${q} field.`);return}try{if(a){const q=Bp(Lu,"profiles",h);await oA(q,S),alert("Profile updated successfully!"),e(ee=>ee.map(ae=>ae.id===h?{...ae,...S}:ae)),o(!1),u(!1)}else{const q=await aA(zp(Lu,"profiles"),S);alert("Profile added successfully!"),e(ee=>[...ee,{id:q.id,...S}]),o(!1)}A({name:"",photographUrl:"",description:"",longitude:"",latitude:"",contactInfo:"",interest:""})}catch(q){console.error("Error submitting profile:",q)}},Z=q=>{const ee=n.find(ae=>ae.id===q);A(ee),m(q),u(!0),o(!0)},Y=async q=>{try{await sA(Bp(Lu,"profiles",q)),e(ee=>ee.filter(ae=>ae.id!==q)),alert("Profile deleted successfully!")}catch(ee){console.error("Error deleting profile:",ee)}};return F.jsxs("div",{className:`admin-panel ${t?"overflow-hidden h-screen":""}`,children:[F.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Panel - Manage Profiles"}),!t&&F.jsxs(_g,{children:[F.jsxs(vg,{className:"flex justify-between items-center p-4",children:[F.jsx(qx,{children:F.jsx(Qx,{children:F.jsx(Ro,{className:"bg-[#f1b04c] text-white hover:bg-[#e27602]",onClick:()=>o(!0),children:"Add New"})})}),F.jsxs("div",{className:"flex items-center space-x-2",children:[F.jsx(Ni,{className:"w-96",placeholder:"Search by name...",value:g,onChange:q=>y(q.target.value)}),F.jsx(Tx,{className:"text-gray-500",size:20})]}),F.jsxs(Xp,{children:[F.jsx(Jp,{asChild:!0,children:F.jsx(Ro,{className:"bg-gray-300",children:"Sort"})}),F.jsx(nd,{children:F.jsxs(zu,{onClick:N,children:["Sort by Name (",x==="asc"?"Ascending":"Descending",")"]})})]})]}),F.jsx(Yx,{children:F.jsx("div",{className:"absolute w-full h-1 bg-blue-500"})}),F.jsx(yg,{})]}),t&&F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:F.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-96",children:[F.jsx("h2",{className:"text-xl font-bold mb-4",children:a?"Edit Profile":"Add New Profile"}),F.jsxs("div",{className:"space-y-4",children:[F.jsx(Ni,{placeholder:"Name",value:S.name,onChange:q=>A({...S,name:q.target.value})}),F.jsx(Ni,{placeholder:"Photograph URL",value:S.photographUrl,onChange:q=>A({...S,photographUrl:q.target.value})}),F.jsx(Ni,{placeholder:"Description",value:S.description,onChange:q=>A({...S,description:q.target.value})}),F.jsx(Ni,{placeholder:"Longitude",value:S.longitude,onChange:q=>A({...S,longitude:q.target.value})}),F.jsx(Ni,{placeholder:"Latitude",value:S.latitude,onChange:q=>A({...S,latitude:q.target.value})}),F.jsx(Ni,{placeholder:"Contact Info",value:S.contactInfo,onChange:q=>A({...S,contactInfo:q.target.value})}),F.jsx(Ni,{placeholder:"Interest",value:S.interest,onChange:q=>A({...S,interest:q.target.value})})]}),F.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[F.jsx(Ro,{className:"bg-gray-300",onClick:()=>o(!1),children:"Cancel"}),F.jsx(Ro,{className:"bg-blue-500 text-white",onClick:B,children:a?"Update":"Add"})]})]})}),!t&&F.jsxs(Xx,{className:"max-h-64 overflow-y-scroll",children:[F.jsx(Jx,{children:F.jsxs(Nh,{children:[F.jsx(Tl,{children:"Name"}),F.jsx(Tl,{children:"Description"}),F.jsx(Tl,{children:"Contact Info"}),F.jsx(Tl,{children:"Interest"}),F.jsx(Tl,{children:"Actions"})]})}),F.jsx(eT,{children:b.map(q=>F.jsxs(Nh,{children:[F.jsx(Pa,{children:q.name}),F.jsx(Pa,{children:q.description}),F.jsx(Pa,{children:q.contactInfo}),F.jsx(Pa,{children:q.interest}),F.jsxs(Pa,{children:[F.jsx(Ro,{className:"bg-[#f1b04c] text-white hover:bg-[#e27602]",onClick:()=>Z(q.id),children:"Edit"}),F.jsx(Ro,{className:"bg-red-500 text-white ml-2",onClick:()=>Y(q.id),children:"Delete"})]})]},q.id))}),F.jsx(tT,{children:F.jsx(Nh,{children:F.jsxs(Pa,{colSpan:8,className:"text-right",children:["Total Profiles: ",b.length]})})})]})]})};function qN(){return F.jsx(a1,{children:F.jsxs(VC,{children:[F.jsx(_p,{path:"/",element:F.jsx("div",{className:"container mx-auto py-8",children:F.jsx(ZN,{})})}),F.jsx(_p,{path:"/profiles",element:F.jsx("div",{className:"container mx-auto py-8",children:F.jsx(GN,{})})})]})})}GT.createRoot(document.getElementById("root")).render(F.jsx(I.StrictMode,{children:F.jsx(qN,{})}));
